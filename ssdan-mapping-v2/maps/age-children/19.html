<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Age Distribution Under 18 –  Iowa</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          margin: 1rem 2rem;
          text-align: center;
        }
        h2 {
          margin-bottom: 0.25rem;
          font-size: 1.6rem;
        }
        select {
          padding: 0.4rem;
          font-size: 1rem;
          margin: 1rem 0;
          border-radius: 5px;
          border: 1px solid #999;
        }
        canvas {
          width: 100%;
          max-width: 850px;
          height: 500px;
          margin-top: 1rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Age Distribution Under 18 in  Iowa (2023)</h2>
    <label>Select County:</label>
            <select id="countySelect">
          <option value='Statewide'>Statewide</option>
<option value='Adair County, Iowa'>Adair County, Iowa</option>
<option value='Adams County, Iowa'>Adams County, Iowa</option>
<option value='Allamakee County, Iowa'>Allamakee County, Iowa</option>
<option value='Appanoose County, Iowa'>Appanoose County, Iowa</option>
<option value='Audubon County, Iowa'>Audubon County, Iowa</option>
<option value='Benton County, Iowa'>Benton County, Iowa</option>
<option value='Black Hawk County, Iowa'>Black Hawk County, Iowa</option>
<option value='Boone County, Iowa'>Boone County, Iowa</option>
<option value='Bremer County, Iowa'>Bremer County, Iowa</option>
<option value='Buchanan County, Iowa'>Buchanan County, Iowa</option>
<option value='Buena Vista County, Iowa'>Buena Vista County, Iowa</option>
<option value='Butler County, Iowa'>Butler County, Iowa</option>
<option value='Calhoun County, Iowa'>Calhoun County, Iowa</option>
<option value='Carroll County, Iowa'>Carroll County, Iowa</option>
<option value='Cass County, Iowa'>Cass County, Iowa</option>
<option value='Cedar County, Iowa'>Cedar County, Iowa</option>
<option value='Cerro Gordo County, Iowa'>Cerro Gordo County, Iowa</option>
<option value='Cherokee County, Iowa'>Cherokee County, Iowa</option>
<option value='Chickasaw County, Iowa'>Chickasaw County, Iowa</option>
<option value='Clarke County, Iowa'>Clarke County, Iowa</option>
<option value='Clay County, Iowa'>Clay County, Iowa</option>
<option value='Clayton County, Iowa'>Clayton County, Iowa</option>
<option value='Clinton County, Iowa'>Clinton County, Iowa</option>
<option value='Crawford County, Iowa'>Crawford County, Iowa</option>
<option value='Dallas County, Iowa'>Dallas County, Iowa</option>
<option value='Davis County, Iowa'>Davis County, Iowa</option>
<option value='Decatur County, Iowa'>Decatur County, Iowa</option>
<option value='Delaware County, Iowa'>Delaware County, Iowa</option>
<option value='Des Moines County, Iowa'>Des Moines County, Iowa</option>
<option value='Dickinson County, Iowa'>Dickinson County, Iowa</option>
<option value='Dubuque County, Iowa'>Dubuque County, Iowa</option>
<option value='Emmet County, Iowa'>Emmet County, Iowa</option>
<option value='Fayette County, Iowa'>Fayette County, Iowa</option>
<option value='Floyd County, Iowa'>Floyd County, Iowa</option>
<option value='Franklin County, Iowa'>Franklin County, Iowa</option>
<option value='Fremont County, Iowa'>Fremont County, Iowa</option>
<option value='Greene County, Iowa'>Greene County, Iowa</option>
<option value='Grundy County, Iowa'>Grundy County, Iowa</option>
<option value='Guthrie County, Iowa'>Guthrie County, Iowa</option>
<option value='Hamilton County, Iowa'>Hamilton County, Iowa</option>
<option value='Hancock County, Iowa'>Hancock County, Iowa</option>
<option value='Hardin County, Iowa'>Hardin County, Iowa</option>
<option value='Harrison County, Iowa'>Harrison County, Iowa</option>
<option value='Henry County, Iowa'>Henry County, Iowa</option>
<option value='Howard County, Iowa'>Howard County, Iowa</option>
<option value='Humboldt County, Iowa'>Humboldt County, Iowa</option>
<option value='Ida County, Iowa'>Ida County, Iowa</option>
<option value='Iowa County, Iowa'>Iowa County, Iowa</option>
<option value='Jackson County, Iowa'>Jackson County, Iowa</option>
<option value='Jasper County, Iowa'>Jasper County, Iowa</option>
<option value='Jefferson County, Iowa'>Jefferson County, Iowa</option>
<option value='Johnson County, Iowa'>Johnson County, Iowa</option>
<option value='Jones County, Iowa'>Jones County, Iowa</option>
<option value='Keokuk County, Iowa'>Keokuk County, Iowa</option>
<option value='Kossuth County, Iowa'>Kossuth County, Iowa</option>
<option value='Lee County, Iowa'>Lee County, Iowa</option>
<option value='Linn County, Iowa'>Linn County, Iowa</option>
<option value='Louisa County, Iowa'>Louisa County, Iowa</option>
<option value='Lucas County, Iowa'>Lucas County, Iowa</option>
<option value='Lyon County, Iowa'>Lyon County, Iowa</option>
<option value='Madison County, Iowa'>Madison County, Iowa</option>
<option value='Mahaska County, Iowa'>Mahaska County, Iowa</option>
<option value='Marion County, Iowa'>Marion County, Iowa</option>
<option value='Marshall County, Iowa'>Marshall County, Iowa</option>
<option value='Mills County, Iowa'>Mills County, Iowa</option>
<option value='Mitchell County, Iowa'>Mitchell County, Iowa</option>
<option value='Monona County, Iowa'>Monona County, Iowa</option>
<option value='Monroe County, Iowa'>Monroe County, Iowa</option>
<option value='Montgomery County, Iowa'>Montgomery County, Iowa</option>
<option value='Muscatine County, Iowa'>Muscatine County, Iowa</option>
<option value='O'Brien County, Iowa'>O'Brien County, Iowa</option>
<option value='Osceola County, Iowa'>Osceola County, Iowa</option>
<option value='Page County, Iowa'>Page County, Iowa</option>
<option value='Palo Alto County, Iowa'>Palo Alto County, Iowa</option>
<option value='Plymouth County, Iowa'>Plymouth County, Iowa</option>
<option value='Pocahontas County, Iowa'>Pocahontas County, Iowa</option>
<option value='Polk County, Iowa'>Polk County, Iowa</option>
<option value='Pottawattamie County, Iowa'>Pottawattamie County, Iowa</option>
<option value='Poweshiek County, Iowa'>Poweshiek County, Iowa</option>
<option value='Ringgold County, Iowa'>Ringgold County, Iowa</option>
<option value='Sac County, Iowa'>Sac County, Iowa</option>
<option value='Scott County, Iowa'>Scott County, Iowa</option>
<option value='Shelby County, Iowa'>Shelby County, Iowa</option>
<option value='Sioux County, Iowa'>Sioux County, Iowa</option>
<option value='Story County, Iowa'>Story County, Iowa</option>
<option value='Tama County, Iowa'>Tama County, Iowa</option>
<option value='Taylor County, Iowa'>Taylor County, Iowa</option>
<option value='Union County, Iowa'>Union County, Iowa</option>
<option value='Van Buren County, Iowa'>Van Buren County, Iowa</option>
<option value='Wapello County, Iowa'>Wapello County, Iowa</option>
<option value='Warren County, Iowa'>Warren County, Iowa</option>
<option value='Washington County, Iowa'>Washington County, Iowa</option>
<option value='Wayne County, Iowa'>Wayne County, Iowa</option>
<option value='Webster County, Iowa'>Webster County, Iowa</option>
<option value='Winnebago County, Iowa'>Winnebago County, Iowa</option>
<option value='Winneshiek County, Iowa'>Winneshiek County, Iowa</option>
<option value='Woodbury County, Iowa'>Woodbury County, Iowa</option>
<option value='Worth County, Iowa'>Worth County, Iowa</option>
<option value='Wright County, Iowa'>Wright County, Iowa</option>
        </select>
    <canvas id="barChart" width="850" height="500"></canvas>
    <script>  const ageData = {"Statewide":[-13.1,12.5,-14.7,14.2,-9.1,8.6,-14.4,13.4],"Adair County, Iowa":[-14.6,12.7,-14.9,13.3,-12.5,14.7,-8.6,8.8],"Adams County, Iowa":[-12.6,12.2,-12.8,14.9,-15.5,14.8,-8.2,9],"Allamakee County, Iowa":[-13.1,13.5,-12.4,14.9,-17.5,12.3,-8.4,7.9],"Appanoose County, Iowa":[-11.4,11.5,-13.7,14,-17.9,13.4,-9.4,8.7],"Audubon County, Iowa":[-15.1,14.9,-8.9,11.4,-21.1,12.7,-8,7.8],"Benton County, Iowa":[-13.2,11.9,-13.3,14.6,-15.5,13.6,-8.9,9.1],"Black Hawk County, Iowa":[-14,14,-14.9,13.1,-13.5,14,-8.3,8.2],"Boone County, Iowa":[-12.9,11.3,-14.7,12.2,-13.7,14.3,-12.2,8.7],"Bremer County, Iowa":[-13.2,11.9,-15.6,15.1,-13.3,13.2,-9.4,8.4],"Buchanan County, Iowa":[-13.2,12.4,-11.2,11,-16.4,16.4,-10,9.2],"Buena Vista County, Iowa":[-16,10.1,-16.2,12.2,-12.3,14.1,-10.9,8.1],"Butler County, Iowa":[-11.9,10.9,-14.7,11.7,-14.7,16.4,-10.4,9.4],"Calhoun County, Iowa":[-12.9,12.6,-14.9,16.7,-14.6,10.9,-9.5,7.9],"Carroll County, Iowa":[-13.1,10.2,-12.8,13.4,-18,13.2,-10.1,9.3],"Cass County, Iowa":[-11.3,10.4,-15.2,12.8,-13.6,14.7,-11.8,10.3],"Cedar County, Iowa":[-11.7,10.5,-16.7,14.3,-14,13.6,-9.6,9.5],"Cerro Gordo County, Iowa":[-13.8,11.6,-12.1,13.4,-16.9,14.9,-9.4,7.9],"Cherokee County, Iowa":[-11.6,10.9,-11.3,11.2,-19.9,15.9,-7.8,11.3],"Chickasaw County, Iowa":[-13.9,13.1,-14.8,13.6,-12.7,14.1,-9,8.6],"Clarke County, Iowa":[-14.6,12.9,-12.5,14.1,-15.8,12,-11.6,6.5],"Clay County, Iowa":[-11.2,11.6,-17.1,12.4,-14.6,15.9,-7.9,9.3],"Clayton County, Iowa":[-13.3,13.7,-12.9,12.9,-15.7,13.9,-8.8,8.8],"Clinton County, Iowa":[-12.4,12.5,-10.3,12.7,-19.3,16.1,-8.4,8.3],"Crawford County, Iowa":[-11.7,12.3,-16,15.5,-12,13.3,-12.1,7],"Dallas County, Iowa":[-13.3,12.4,-16.5,13.5,-13.1,15.2,-8,8],"Davis County, Iowa":[-16,13.8,-10.5,14.4,-16.6,12.1,-8.4,8.2],"Decatur County, Iowa":[-13.4,13.2,-17.8,11.4,-12.1,14.7,-8.5,8.9],"Delaware County, Iowa":[-13,11.3,-13.3,9.3,-16.5,18,-9.9,8.5],"Des Moines County, Iowa":[-11.7,13.8,-17.1,11,-11.5,15.8,-10.8,8.3],"Dickinson County, Iowa":[-12.6,11.4,-13.5,16.4,-17.1,10.9,-10.3,7.9],"Dubuque County, Iowa":[-13.5,13.1,-15.6,14.4,-12.7,13,-8.9,8.8],"Emmet County, Iowa":[-11.2,11,-13,20.1,-13.2,11.3,-11.1,9.1],"Fayette County, Iowa":[-13.2,13.8,-15.9,10.4,-13.5,15.4,-9.2,8.7],"Floyd County, Iowa":[-15.6,12.3,-11.6,8.7,-16.6,16.7,-10.8,7.7],"Franklin County, Iowa":[-13,15.2,-12.3,8.1,-17.1,15.9,-9.1,9.4],"Fremont County, Iowa":[-10.9,10.1,-17.1,12.5,-12,16.1,-12.6,8.7],"Greene County, Iowa":[-12.5,10.8,-14.7,15.9,-15.1,12.1,-9.8,9],"Grundy County, Iowa":[-12.6,11.3,-15,15.2,-12.4,15.4,-8.6,9.4],"Guthrie County, Iowa":[-11.8,11.2,-11.2,15,-17.2,13.7,-10.8,9.1],"Hamilton County, Iowa":[-10.8,10.5,-18.4,13.2,-15.2,15.2,-9.3,7.4],"Hancock County, Iowa":[-14.1,10.9,-17.8,12,-13.9,12.9,-8.9,9.5],"Hardin County, Iowa":[-12.5,11.3,-13.6,10.7,-15.4,16.4,-11.4,8.9],"Harrison County, Iowa":[-11.5,13.4,-15.9,8.7,-15.2,17.6,-9.4,8.3],"Henry County, Iowa":[-13.6,11.6,-11.5,16,-18.7,11.6,-9.1,7.9],"Howard County, Iowa":[-13.3,12.6,-17.6,12.2,-12.6,13.9,-8.7,9.1],"Humboldt County, Iowa":[-12.2,12.5,-13.8,18.5,-17.3,7.9,-9.4,8.3],"Ida County, Iowa":[-10.5,11.9,-13.5,13.1,-17,15.7,-9.7,8.5],"Iowa County, Iowa":[-12.7,10.5,-17.1,10.7,-13.6,17.2,-9.7,8.6],"Jackson County, Iowa":[-12.2,13.6,-15.4,14.1,-14.5,13.3,-8.6,8.3],"Jasper County, Iowa":[-12.3,11.6,-17.4,11,-13.6,15.4,-9.5,9.2],"Jefferson County, Iowa":[-14.6,12.9,-11.4,19.3,-14.3,9.5,-7.9,10.1],"Johnson County, Iowa":[-14.7,13,-15.8,13.8,-12.7,13.5,-8.3,8.2],"Jones County, Iowa":[-11.6,13.1,-12.5,11.7,-15.7,15.5,-10.5,9.4],"Keokuk County, Iowa":[-11.8,12.7,-15,13.5,-14.7,13,-10.9,8.3],"Kossuth County, Iowa":[-12.6,12.3,-14.4,11.4,-16.1,13.7,-10.7,8.7],"Lee County, Iowa":[-12.8,13.1,-15.6,15.1,-13.8,13.1,-8.5,8],"Linn County, Iowa":[-13.1,12.9,-13.8,13.2,-15,14.2,-8.8,9],"Louisa County, Iowa":[-12.9,11.6,-13.1,13.6,-15.8,12.8,-10.7,9.6],"Lucas County, Iowa":[-13,13.1,-14,16.1,-15.6,11.3,-8.8,8.2],"Lyon County, Iowa":[-12.1,12.4,-16,15.2,-15,11,-9.1,9.2],"Madison County, Iowa":[-10.3,11,-16.9,16.8,-14.4,11.3,-10.9,8.4],"Mahaska County, Iowa":[-12.6,12.9,-14.1,12.5,-16.6,14.9,-8.8,7.6],"Marion County, Iowa":[-12.4,11.7,-12,12.5,-16.5,15.5,-9.8,9.5],"Marshall County, Iowa":[-13,10.7,-17.3,11.2,-13.1,16.3,-8.8,9.5],"Mills County, Iowa":[-10.8,9.8,-13.5,15.8,-18.6,13.1,-9.2,9.1],"Mitchell County, Iowa":[-11.8,13.6,-12.5,11.9,-16.3,16.1,-9.2,8.6],"Monona County, Iowa":[-12,12.9,-13.3,15.3,-13.1,14.1,-9.6,9.8],"Monroe County, Iowa":[-13.6,12.8,-14,7.5,-15.1,18.1,-9.4,9.6],"Montgomery County, Iowa":[-11.9,12,-10.1,18.6,-18.1,12.8,-8.3,8.1],"Muscatine County, Iowa":[-12.9,11.7,-12.2,12.8,-16.1,15.9,-9.3,9.1],"O'Brien County, Iowa":[-14.3,12.9,-16.3,14.7,-12.6,13.9,-7.6,7.7],"Osceola County, Iowa":[-12.5,11.3,-20,10.3,-12.5,16.8,-9.1,7.5],"Page County, Iowa":[-11.9,10.6,-11.5,15.8,-17.2,14.9,-11.3,6.8],"Palo Alto County, Iowa":[-14.3,11.9,-15.5,12.6,-11.1,14.5,-10.5,9.6],"Plymouth County, Iowa":[-12.4,10.3,-16,11.2,-12.3,18.3,-11.1,8.5],"Pocahontas County, Iowa":[-11.2,15.1,-13.6,12.5,-12.3,15.7,-10.5,9.2],"Polk County, Iowa":[-13.7,13.2,-13.7,14.4,-14.9,13.2,-8.6,8.3],"Pottawattamie County, Iowa":[-12.3,11.7,-15.6,14,-14.8,13.9,-9.1,8.7],"Poweshiek County, Iowa":[-11.9,10.7,-16.2,11.7,-12.1,18.4,-9.7,9.4],"Ringgold County, Iowa":[-15,10.1,-16.8,12.3,-13.5,13,-10.1,9.2],"Sac County, Iowa":[-15.5,11.6,-11.2,12.7,-17.1,13.3,-9,9.5],"Scott County, Iowa":[-12.8,12.4,-15.2,13.4,-13.9,14.6,-8.9,8.8],"Shelby County, Iowa":[-13.2,10.9,-17.5,10,-11.1,17.3,-10.3,9.6],"Sioux County, Iowa":[-13.6,12.8,-14.5,12.6,-14,14.7,-9,8.7],"Story County, Iowa":[-13.1,12.9,-15.6,14.4,-13.1,14.2,-8.2,8.5],"Tama County, Iowa":[-12.8,11.8,-14.5,12.8,-14.7,15.3,-10.3,7.8],"Taylor County, Iowa":[-10.8,12.2,-14.6,12,-12.7,21.1,-9.4,7.2],"Union County, Iowa":[-11.1,10.2,-12.7,8.5,-15.2,16.7,-10.4,15.2],"Van Buren County, Iowa":[-14.4,13.1,-15.1,11.7,-14.1,13.9,-9.5,8.3],"Wapello County, Iowa":[-13.3,11.8,-14.4,9.8,-15.1,16.6,-10.7,8.3],"Warren County, Iowa":[-12.2,11.2,-14.7,14,-15.6,14.3,-9.1,8.8],"Washington County, Iowa":[-12.3,13.3,-13.3,9.9,-16.1,17.8,-8.9,8.5],"Wayne County, Iowa":[-14.4,12.1,-14.3,17,-12.5,11.8,-8.5,9.5],"Webster County, Iowa":[-14.9,11.9,-13.2,12.6,-14.4,14.5,-8.6,9.9],"Winnebago County, Iowa":[-10.3,11.7,-16.6,12,-16.4,14.6,-8.6,9.8],"Winneshiek County, Iowa":[-12.5,12,-10.2,13.7,-18.7,11.4,-12.3,9.3],"Woodbury County, Iowa":[-13.4,12.7,-12.5,14.5,-16,13.6,-9.1,8.2],"Worth County, Iowa":[-14.3,13.2,-16.6,12.2,-13,13.6,-8.8,8.4],"Wright County, Iowa":[-13,12.1,-12.2,14.9,-15.9,11.1,-9.3,11.5]};
  const ageBins = ["0–4","5–9","10–14","15–17"];
  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    const maleData = data.filter((_, i) => i % 2 === 0);
    const femaleData = data.filter((_, i) => i % 2 === 1);

    const maxValue = Math.max(
      ...maleData.map(Math.abs),
      ...femaleData.map(Math.abs)
    );
    const padding = 1.0;
    const xMax = +(maxValue + padding).toFixed(1);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ageBins,
        datasets: [
          {
            label: 'Male',
            data: maleData,
            backgroundColor: 'dodgerblue'
          },
          {
            label: 'Female',
            data: femaleData,
            backgroundColor: 'lightpink'
          }
        ]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        scales: {
          x: {
            min: -xMax,
            max: xMax,
            ticks: {
              callback: value => Math.abs(value).toFixed(1) + '%'
            }
          },
          y: {
            stacked: false
          }
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              usePointStyle: true
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + Math.abs(ctx.parsed.x).toFixed(1) + '%'
            }
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(ageData[this.value]));
  });

  renderChart(Object.values(ageData['Statewide']));</script>
  </body>
</html>
</html>
