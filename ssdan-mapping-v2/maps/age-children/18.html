<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Age Distribution Under 18 –  Indiana</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          margin: 1rem 2rem;
          text-align: center;
        }
        h2 {
          margin-bottom: 0.25rem;
          font-size: 1.6rem;
        }
        select {
          padding: 0.4rem;
          font-size: 1rem;
          margin: 1rem 0;
          border-radius: 5px;
          border: 1px solid #999;
        }
        canvas {
          width: 100%;
          max-width: 850px;
          height: 500px;
          margin-top: 1rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Age Distribution Under 18 in  Indiana (2023)</h2>
    <label>Select County:</label>
            <select id="countySelect">
          <option value='Statewide'>Statewide</option>
<option value='Adams County, Indiana'>Adams County, Indiana</option>
<option value='Allen County, Indiana'>Allen County, Indiana</option>
<option value='Bartholomew County, Indiana'>Bartholomew County, Indiana</option>
<option value='Benton County, Indiana'>Benton County, Indiana</option>
<option value='Blackford County, Indiana'>Blackford County, Indiana</option>
<option value='Boone County, Indiana'>Boone County, Indiana</option>
<option value='Brown County, Indiana'>Brown County, Indiana</option>
<option value='Carroll County, Indiana'>Carroll County, Indiana</option>
<option value='Cass County, Indiana'>Cass County, Indiana</option>
<option value='Clark County, Indiana'>Clark County, Indiana</option>
<option value='Clay County, Indiana'>Clay County, Indiana</option>
<option value='Clinton County, Indiana'>Clinton County, Indiana</option>
<option value='Crawford County, Indiana'>Crawford County, Indiana</option>
<option value='Daviess County, Indiana'>Daviess County, Indiana</option>
<option value='Dearborn County, Indiana'>Dearborn County, Indiana</option>
<option value='Decatur County, Indiana'>Decatur County, Indiana</option>
<option value='DeKalb County, Indiana'>DeKalb County, Indiana</option>
<option value='Delaware County, Indiana'>Delaware County, Indiana</option>
<option value='Dubois County, Indiana'>Dubois County, Indiana</option>
<option value='Elkhart County, Indiana'>Elkhart County, Indiana</option>
<option value='Fayette County, Indiana'>Fayette County, Indiana</option>
<option value='Floyd County, Indiana'>Floyd County, Indiana</option>
<option value='Fountain County, Indiana'>Fountain County, Indiana</option>
<option value='Franklin County, Indiana'>Franklin County, Indiana</option>
<option value='Fulton County, Indiana'>Fulton County, Indiana</option>
<option value='Gibson County, Indiana'>Gibson County, Indiana</option>
<option value='Grant County, Indiana'>Grant County, Indiana</option>
<option value='Greene County, Indiana'>Greene County, Indiana</option>
<option value='Hamilton County, Indiana'>Hamilton County, Indiana</option>
<option value='Hancock County, Indiana'>Hancock County, Indiana</option>
<option value='Harrison County, Indiana'>Harrison County, Indiana</option>
<option value='Hendricks County, Indiana'>Hendricks County, Indiana</option>
<option value='Henry County, Indiana'>Henry County, Indiana</option>
<option value='Howard County, Indiana'>Howard County, Indiana</option>
<option value='Huntington County, Indiana'>Huntington County, Indiana</option>
<option value='Jackson County, Indiana'>Jackson County, Indiana</option>
<option value='Jasper County, Indiana'>Jasper County, Indiana</option>
<option value='Jay County, Indiana'>Jay County, Indiana</option>
<option value='Jefferson County, Indiana'>Jefferson County, Indiana</option>
<option value='Jennings County, Indiana'>Jennings County, Indiana</option>
<option value='Johnson County, Indiana'>Johnson County, Indiana</option>
<option value='Knox County, Indiana'>Knox County, Indiana</option>
<option value='Kosciusko County, Indiana'>Kosciusko County, Indiana</option>
<option value='LaGrange County, Indiana'>LaGrange County, Indiana</option>
<option value='Lake County, Indiana'>Lake County, Indiana</option>
<option value='LaPorte County, Indiana'>LaPorte County, Indiana</option>
<option value='Lawrence County, Indiana'>Lawrence County, Indiana</option>
<option value='Madison County, Indiana'>Madison County, Indiana</option>
<option value='Marion County, Indiana'>Marion County, Indiana</option>
<option value='Marshall County, Indiana'>Marshall County, Indiana</option>
<option value='Martin County, Indiana'>Martin County, Indiana</option>
<option value='Miami County, Indiana'>Miami County, Indiana</option>
<option value='Monroe County, Indiana'>Monroe County, Indiana</option>
<option value='Montgomery County, Indiana'>Montgomery County, Indiana</option>
<option value='Morgan County, Indiana'>Morgan County, Indiana</option>
<option value='Newton County, Indiana'>Newton County, Indiana</option>
<option value='Noble County, Indiana'>Noble County, Indiana</option>
<option value='Ohio County, Indiana'>Ohio County, Indiana</option>
<option value='Orange County, Indiana'>Orange County, Indiana</option>
<option value='Owen County, Indiana'>Owen County, Indiana</option>
<option value='Parke County, Indiana'>Parke County, Indiana</option>
<option value='Perry County, Indiana'>Perry County, Indiana</option>
<option value='Pike County, Indiana'>Pike County, Indiana</option>
<option value='Porter County, Indiana'>Porter County, Indiana</option>
<option value='Posey County, Indiana'>Posey County, Indiana</option>
<option value='Pulaski County, Indiana'>Pulaski County, Indiana</option>
<option value='Putnam County, Indiana'>Putnam County, Indiana</option>
<option value='Randolph County, Indiana'>Randolph County, Indiana</option>
<option value='Ripley County, Indiana'>Ripley County, Indiana</option>
<option value='Rush County, Indiana'>Rush County, Indiana</option>
<option value='Scott County, Indiana'>Scott County, Indiana</option>
<option value='Shelby County, Indiana'>Shelby County, Indiana</option>
<option value='Spencer County, Indiana'>Spencer County, Indiana</option>
<option value='St. Joseph County, Indiana'>St. Joseph County, Indiana</option>
<option value='Starke County, Indiana'>Starke County, Indiana</option>
<option value='Steuben County, Indiana'>Steuben County, Indiana</option>
<option value='Sullivan County, Indiana'>Sullivan County, Indiana</option>
<option value='Switzerland County, Indiana'>Switzerland County, Indiana</option>
<option value='Tippecanoe County, Indiana'>Tippecanoe County, Indiana</option>
<option value='Tipton County, Indiana'>Tipton County, Indiana</option>
<option value='Union County, Indiana'>Union County, Indiana</option>
<option value='Vanderburgh County, Indiana'>Vanderburgh County, Indiana</option>
<option value='Vermillion County, Indiana'>Vermillion County, Indiana</option>
<option value='Vigo County, Indiana'>Vigo County, Indiana</option>
<option value='Wabash County, Indiana'>Wabash County, Indiana</option>
<option value='Warren County, Indiana'>Warren County, Indiana</option>
<option value='Warrick County, Indiana'>Warrick County, Indiana</option>
<option value='Washington County, Indiana'>Washington County, Indiana</option>
<option value='Wayne County, Indiana'>Wayne County, Indiana</option>
<option value='Wells County, Indiana'>Wells County, Indiana</option>
<option value='White County, Indiana'>White County, Indiana</option>
<option value='Whitley County, Indiana'>Whitley County, Indiana</option>
        </select>
    <canvas id="barChart" width="850" height="500"></canvas>
    <script>  const ageData = {"Statewide":[-13.2,12.6,-14.8,14.2,-9.1,8.7,-14.2,13.3],"Adams County, Indiana":[-13.8,13.9,-13.6,12,-15.8,14.9,-8.2,7.7],"Allen County, Indiana":[-13.8,13,-14,13.5,-14.7,13.8,-8.7,8.5],"Bartholomew County, Indiana":[-13.9,12.3,-13.1,14.4,-15.9,13.4,-8.3,8.6],"Benton County, Indiana":[-11.8,12.1,-16.5,14.7,-14.8,11.9,-9.2,9],"Blackford County, Indiana":[-10.7,11.2,-12,12.3,-14.3,18.4,-13.3,7.8],"Boone County, Indiana":[-12.8,11.2,-15.6,11.6,-15,15.8,-8.5,9.6],"Brown County, Indiana":[-10.6,13.3,-9.8,11.4,-17.3,16.7,-10.6,10.4],"Carroll County, Indiana":[-11.7,12.3,-12.5,13.9,-17.1,12.3,-11,9.2],"Cass County, Indiana":[-12.6,11.6,-13.1,11.7,-16.4,15.3,-10.2,9.1],"Clark County, Indiana":[-13.8,12.9,-15,12.3,-13.7,15.4,-8.9,8],"Clay County, Indiana":[-12.4,14.2,-13,10.9,-15,15.9,-9.9,8.6],"Clinton County, Indiana":[-12.3,13.1,-14.1,15.3,-15.8,11.5,-9.6,8.3],"Crawford County, Indiana":[-12,12.6,-12.9,10.5,-15.1,18.6,-9.2,9.1],"Daviess County, Indiana":[-13.9,13.3,-14.3,15.6,-13.7,12.2,-8.1,9.1],"Dearborn County, Indiana":[-12.3,11.4,-14.9,13,-13.5,15.4,-10,9.6],"Decatur County, Indiana":[-13.6,13.7,-15.7,11.4,-12.9,15.3,-8.7,8.8],"DeKalb County, Indiana":[-13.7,13,-11.3,14.9,-16.1,12.8,-9.4,8.9],"Delaware County, Indiana":[-13.4,12.7,-14.4,14.5,-14,12.6,-9.4,8.8],"Dubois County, Indiana":[-12.7,12.7,-16.3,13.1,-13.3,13.6,-8.7,9.5],"Elkhart County, Indiana":[-13.5,12.8,-13.3,12.9,-15.3,14.5,-8.8,8.9],"Fayette County, Indiana":[-12.9,12.3,-8.4,13.8,-19,12.9,-10.3,10.5],"Floyd County, Indiana":[-12.4,12.2,-13.9,13.9,-15.8,13.7,-9.7,8.4],"Fountain County, Indiana":[-14.9,14.1,-13.6,10.8,-14.4,14.9,-9.2,8.1],"Franklin County, Indiana":[-12.1,13.6,-15.4,10.6,-11.8,17.7,-9.7,9],"Fulton County, Indiana":[-13.4,11.1,-16.4,14.1,-14.3,14,-8.4,8.3],"Gibson County, Indiana":[-14.5,12.4,-16.5,13.2,-13.1,12.6,-8.6,9.2],"Grant County, Indiana":[-14.2,13,-15,11.8,-13.2,15.4,-7.9,9.5],"Greene County, Indiana":[-12.9,12.1,-13.3,13.4,-14.4,14.5,-10.1,9.3],"Hamilton County, Indiana":[-11.8,11.4,-14.8,13.6,-15.1,14.8,-9.4,9.1],"Hancock County, Indiana":[-12.5,11.7,-11.9,14.2,-18.4,13.1,-9.8,8.4],"Harrison County, Indiana":[-13.2,10.8,-13.9,16.6,-16.2,11.1,-9.1,9.1],"Hendricks County, Indiana":[-11.2,11.2,-14.1,13.4,-16.3,14.9,-10.3,8.7],"Henry County, Indiana":[-12.9,11.7,-14.8,14.4,-14.5,13,-9.7,9.1],"Howard County, Indiana":[-13.6,12.5,-14.8,14,-14.4,13.6,-8.9,8.2],"Huntington County, Indiana":[-14.1,11.8,-13.5,13.6,-15.2,13.8,-9.7,8.4],"Jackson County, Indiana":[-16.2,11.4,-15,13.3,-13.7,13.3,-9.7,7.5],"Jasper County, Indiana":[-12.2,11.5,-12.3,13.9,-15.9,14.9,-10.3,9],"Jay County, Indiana":[-13.8,12.9,-14.9,12.3,-14,14.8,-8.5,8.8],"Jefferson County, Indiana":[-13.8,13,-13.1,15.7,-13.8,12,-9.6,9],"Jennings County, Indiana":[-12.9,11.8,-14,13.5,-16.8,12.9,-8.8,9.3],"Johnson County, Indiana":[-12.6,12.2,-13.1,12.9,-16.4,15,-8.9,8.9],"Knox County, Indiana":[-12.6,12.8,-14.7,12.3,-14.3,15.2,-9.9,8.2],"Kosciusko County, Indiana":[-12.6,12.9,-12.9,12.8,-16.3,14.7,-8.7,9.1],"LaGrange County, Indiana":[-14,13.3,-14.2,12.6,-14.2,14.4,-8.9,8.4],"Lake County, Indiana":[-12.7,12.2,-14.1,13.1,-14.8,14.5,-9.5,9],"LaPorte County, Indiana":[-13.5,12.3,-15.1,13.6,-13.9,14.2,-8.8,8.6],"Lawrence County, Indiana":[-12.7,13.2,-13,12.2,-14.7,14.9,-9.7,9.6],"Madison County, Indiana":[-13.1,12,-13.7,12.4,-15.7,14.7,-9.7,8.8],"Marion County, Indiana":[-14.3,13.7,-14.5,13.5,-14,13.8,-8.3,7.9],"Marshall County, Indiana":[-14,10.5,-15.1,12.7,-13.9,13.9,-9.9,9.9],"Martin County, Indiana":[-13.9,13.3,-16.7,13.7,-11.6,12.8,-9.6,8.5],"Miami County, Indiana":[-11.6,12.5,-14.4,10.6,-15,15.6,-11.7,8.6],"Monroe County, Indiana":[-13.7,12.7,-14.5,13.7,-15,13.4,-9,8.1],"Montgomery County, Indiana":[-13.5,12.1,-15.9,12.6,-13,14.8,-9.5,8.5],"Morgan County, Indiana":[-11.8,11.6,-13.8,12.2,-16.1,14.9,-9.5,10],"Newton County, Indiana":[-13.7,12.9,-9,14.4,-18.5,13.1,-9.1,9.3],"Noble County, Indiana":[-13.9,12.6,-14.5,14.8,-14.3,12.4,-9,8.5],"Ohio County, Indiana":[-13.5,15.6,-11.7,20.5,-14.2,6.3,-11.9,6.3],"Orange County, Indiana":[-13.7,13.2,-15.9,15.8,-12.3,10.6,-9.6,8.8],"Owen County, Indiana":[-13.1,12,-13.9,13.2,-15.3,13.2,-9.7,9.5],"Parke County, Indiana":[-13.4,12.7,-17.7,13.4,-10.7,12.8,-10.3,9.1],"Perry County, Indiana":[-13.8,12.4,-14.4,10.2,-14.6,15.6,-10.1,8.9],"Pike County, Indiana":[-12.7,12.5,-15.7,14.2,-12.5,14.4,-9,9],"Porter County, Indiana":[-12.1,11.5,-13.5,14.1,-16,13.8,-9.7,9.2],"Posey County, Indiana":[-11.8,11.4,-12.6,11.7,-17.1,17.7,-9.2,8.5],"Pulaski County, Indiana":[-11.9,13.2,-15,10.5,-14.7,14.8,-9.3,10.6],"Putnam County, Indiana":[-12.1,12.1,-13.2,13.1,-17.1,14.4,-9.6,8.5],"Randolph County, Indiana":[-15.1,10.6,-13.9,11,-14.3,17.5,-8.7,8.9],"Ripley County, Indiana":[-13.6,12.3,-13.6,10.5,-16.2,14.9,-9.3,9.6],"Rush County, Indiana":[-13.2,11.7,-12.5,13.9,-15.6,12.2,-10.2,10.7],"St. Joseph County, Indiana":[-13.9,12.6,-14.9,13.1,-13.7,14.4,-9,8.4],"Scott County, Indiana":[-12.3,12.9,-13.2,10.3,-17.1,17.2,-8.3,8.7],"Shelby County, Indiana":[-12.7,13.7,-15.7,15.5,-12.8,12,-9.4,8.1],"Spencer County, Indiana":[-11.5,11.7,-13.9,13.8,-15.8,14.7,-9.8,8.9],"Starke County, Indiana":[-12.9,13,-12.8,13.1,-16.7,13.4,-9.3,8.7],"Steuben County, Indiana":[-13.1,11.3,-14.3,11.2,-14.8,14.9,-11.8,8.6],"Sullivan County, Indiana":[-14.4,13,-12.9,12,-16.7,14.2,-8.6,8.2],"Switzerland County, Indiana":[-12.6,11.1,-11.8,14.5,-18.6,13.1,-9,9.2],"Tippecanoe County, Indiana":[-13.7,13.2,-13.1,13.8,-15.4,13.7,-8.5,8.7],"Tipton County, Indiana":[-15.2,13.1,-15.6,12.6,-10.6,13.7,-8.7,10.6],"Union County, Indiana":[-12.8,14.6,-13.9,7,-14.9,18.9,-9.4,8.5],"Vanderburgh County, Indiana":[-13.9,12.9,-13.7,12.3,-14.9,15.2,-8.7,8.4],"Vermillion County, Indiana":[-12.3,11.6,-15.3,9.1,-15,18.1,-9.8,8.8],"Vigo County, Indiana":[-13.6,12.6,-15.5,12.9,-13.7,14,-9.1,8.5],"Wabash County, Indiana":[-12.8,12.4,-11.6,11.1,-15.4,16.5,-10.5,9.6],"Warren County, Indiana":[-11.1,11.8,-14,20,-15.3,10.2,-8.8,8.7],"Warrick County, Indiana":[-11.7,11.8,-14.3,12.5,-14.3,16.8,-9.6,9.1],"Washington County, Indiana":[-12.4,12.1,-13.6,13.4,-14.9,14.4,-9.8,9.5],"Wayne County, Indiana":[-13.6,13.1,-16.6,14.1,-11.6,13.1,-8.8,9.1],"Wells County, Indiana":[-11.7,12.6,-15.9,13.8,-14.4,14.1,-8.4,9.1],"White County, Indiana":[-12.9,12.9,-15.7,17.4,-12.7,10.1,-10.4,7.8],"Whitley County, Indiana":[-13.5,13.1,-12.4,15.8,-16.3,11.6,-9.1,8.2]};
  const ageBins = ["0–4","5–9","10–14","15–17"];
  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    const maleData = data.filter((_, i) => i % 2 === 0);
    const femaleData = data.filter((_, i) => i % 2 === 1);

    const maxValue = Math.max(
      ...maleData.map(Math.abs),
      ...femaleData.map(Math.abs)
    );
    const padding = 1.0;
    const xMax = +(maxValue + padding).toFixed(1);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ageBins,
        datasets: [
          {
            label: 'Male',
            data: maleData,
            backgroundColor: 'dodgerblue'
          },
          {
            label: 'Female',
            data: femaleData,
            backgroundColor: 'lightpink'
          }
        ]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        scales: {
          x: {
            min: -xMax,
            max: xMax,
            ticks: {
              callback: value => Math.abs(value).toFixed(1) + '%'
            }
          },
          y: {
            stacked: false
          }
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              usePointStyle: true
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + Math.abs(ctx.parsed.x).toFixed(1) + '%'
            }
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(ageData[this.value]));
  });

  renderChart(Object.values(ageData['Statewide']));</script>
  </body>
</html>
</html>
