<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>


</head>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Median Earnings by Industry â€“ 33</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: white;
    }
    .layout {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1.5rem;
    }
    label {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    #countySelect {
      font-size: 1rem;
      padding: 0.4rem 0.8rem;
      margin-bottom: 1rem;
    }
    canvas {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="layout">
    <label for="countySelect">Median Earnings by Industry:</label>
    <select id="countySelect"></select>
    <canvas id="barChart"></canvas>
  </div>

  <script>
    const data = {"Statewide":{"Agriculture, forestry, fishing and hunting, and mining":48600,"Arts, entertainment, and recreation, and accommodation and food services":40828,"Construction":57166,"Educational services, and health care and social assistance":62400,"Finance and insurance, and real estate and rental and leasing":78452,"Information":82672,"Manufacturing":61213,"Other services, except public administration":48928,"Professional, scientific, and management, and administrative and waste management services":75129,"Public administration":71322,"Retail trade":46445,"Transportation and warehousing, and utilities":68506,"Wholesale trade":69863},"Belknap County":{"Agriculture, forestry, fishing and hunting, and mining":32955,"Arts, entertainment, and recreation, and accommodation and food services":36250,"Construction":55096,"Educational services, and health care and social assistance":57334,"Finance and insurance, and real estate and rental and leasing":56870,"Information":95495,"Manufacturing":62950,"Other services, except public administration":51761,"Professional, scientific, and management, and administrative and waste management services":72394,"Public administration":65092,"Retail trade":55516,"Transportation and warehousing, and utilities":73765,"Wholesale trade":74185},"Carroll County":{"Agriculture, forestry, fishing and hunting, and mining":108407,"Arts, entertainment, and recreation, and accommodation and food services":40702,"Construction":54375,"Educational services, and health care and social assistance":62550,"Finance and insurance, and real estate and rental and leasing":111875,"Information":77719,"Manufacturing":59476,"Other services, except public administration":43056,"Professional, scientific, and management, and administrative and waste management services":80292,"Public administration":72083,"Retail trade":46776,"Transportation and warehousing, and utilities":94798,"Wholesale trade":65833},"Cheshire County":{"Agriculture, forestry, fishing and hunting, and mining":51089,"Arts, entertainment, and recreation, and accommodation and food services":41324,"Construction":50610,"Educational services, and health care and social assistance":57079,"Finance and insurance, and real estate and rental and leasing":64554,"Information":70875,"Manufacturing":58023,"Other services, except public administration":46063,"Professional, scientific, and management, and administrative and waste management services":68447,"Public administration":71088,"Retail trade":44836,"Transportation and warehousing, and utilities":67949,"Wholesale trade":53922},"Coos County":{"Agriculture, forestry, fishing and hunting, and mining":46111,"Arts, entertainment, and recreation, and accommodation and food services":41673,"Construction":50327,"Educational services, and health care and social assistance":50833,"Finance and insurance, and real estate and rental and leasing":72955,"Information":84375,"Manufacturing":48430,"Other services, except public administration":31827,"Professional, scientific, and management, and administrative and waste management services":53650,"Public administration":64583,"Retail trade":45175,"Transportation and warehousing, and utilities":55208,"Wholesale trade":65147},"Grafton County":{"Agriculture, forestry, fishing and hunting, and mining":58947,"Arts, entertainment, and recreation, and accommodation and food services":34914,"Construction":59237,"Educational services, and health care and social assistance":71342,"Finance and insurance, and real estate and rental and leasing":74081,"Information":107083,"Manufacturing":57478,"Other services, except public administration":48277,"Professional, scientific, and management, and administrative and waste management services":73250,"Public administration":71555,"Retail trade":41859,"Transportation and warehousing, and utilities":67442,"Wholesale trade":54806},"Hillsborough County":{"Agriculture, forestry, fishing and hunting, and mining":39570,"Arts, entertainment, and recreation, and accommodation and food services":40463,"Construction":68313,"Educational services, and health care and social assistance":65629,"Finance and insurance, and real estate and rental and leasing":86051,"Information":88667,"Manufacturing":74231,"Other services, except public administration":50369,"Professional, scientific, and management, and administrative and waste management services":90844,"Public administration":78349,"Retail trade":54128,"Transportation and warehousing, and utilities":66709,"Wholesale trade":82375},"Merrimack County":{"Agriculture, forestry, fishing and hunting, and mining":51797,"Arts, entertainment, and recreation, and accommodation and food services":40954,"Construction":61120,"Educational services, and health care and social assistance":62250,"Finance and insurance, and real estate and rental and leasing":81173,"Information":71845,"Manufacturing":65725,"Other services, except public administration":54576,"Professional, scientific, and management, and administrative and waste management services":77008,"Public administration":71016,"Retail trade":46114,"Transportation and warehousing, and utilities":63935,"Wholesale trade":72886},"Rockingham County":{"Agriculture, forestry, fishing and hunting, and mining":59917,"Arts, entertainment, and recreation, and accommodation and food services":47894,"Construction":75070,"Educational services, and health care and social assistance":72861,"Finance and insurance, and real estate and rental and leasing":99734,"Information":89233,"Manufacturing":84026,"Other services, except public administration":59915,"Professional, scientific, and management, and administrative and waste management services":100863,"Public administration":86031,"Retail trade":57151,"Transportation and warehousing, and utilities":75896,"Wholesale trade":82341},"Strafford County":{"Agriculture, forestry, fishing and hunting, and mining":40385,"Arts, entertainment, and recreation, and accommodation and food services":35311,"Construction":62489,"Educational services, and health care and social assistance":61133,"Finance and insurance, and real estate and rental and leasing":75731,"Information":80969,"Manufacturing":70095,"Other services, except public administration":47661,"Professional, scientific, and management, and administrative and waste management services":83486,"Public administration":71741,"Retail trade":49071,"Transportation and warehousing, and utilities":73452,"Wholesale trade":66840},"Sullivan County":{"Agriculture, forestry, fishing and hunting, and mining":43182,"Arts, entertainment, and recreation, and accommodation and food services":47332,"Construction":51197,"Educational services, and health care and social assistance":67228,"Finance and insurance, and real estate and rental and leasing":82853,"Information":63425,"Manufacturing":57543,"Other services, except public administration":49578,"Professional, scientific, and management, and administrative and waste management services":68852,"Public administration":69770,"Retail trade":45496,"Transportation and warehousing, and utilities":69063,"Wholesale trade":76250}};
    const colors = {
  'Agriculture, forestry, fishing and hunting, and mining': '#FFFF33',
  'Arts, entertainment, and recreation, and accommodation and food services': '#D95F02',
  'Construction': '#7570B3',
  'Educational services, and health care and social assistance': '#66A61E',
  'Finance and insurance, and real estate and rental and leasing': '#E6AB02',
  'Information': '#A6761D',
  'Manufacturing': '#E41A1C',
  'Other services, except public administration': '#377EB8',
  'Professional, scientific, and management, and administrative and waste management services': '#4DAF4A',
  'Public administration': '#984EA3',
  'Retail trade': '#FF7F00',
  'Transportation and warehousing, and utilities': '#1B9E77',
  'Wholesale trade': '#A65628'
};

    const ctx = document.getElementById("barChart").getContext("2d");
    let chart;

    function renderChart(county) {
      const values = data[county];
      const labels = Object.keys(values);
      const earnings = Object.values(values);

      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [{
            label: "Median Earnings ($)",
            data: earnings,
            backgroundColor: labels.map(label => colors[label] || "#ccc")
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
  aspectRatio: 1.5, 
          indexAxis: "x",
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "Median Earnings ($)"
              },
              ticks: {
                callback: function(value) {
                  return "$" + value.toLocaleString();
                }
              }
            },
            x: {
              ticks: {
                maxRotation: 45,
                minRotation: 20,
                autoSkip: false,
                callback: function(value, index, ticks) {
                  let label = this.getLabelForValue(value);
                  return label.length > 25 ? label.slice(0, 25) + "â€¦" : label;
                }
              }
            }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: function(context) {
                  return "$" + context.parsed.y.toLocaleString();
                }
              }
            },
            legend: {
              display: false
            }
          }
        }
      });
    }

    const select = document.getElementById("countySelect");
    Object.keys(data).forEach(county => {
      const option = document.createElement("option");
      option.value = county;
      option.text = county;
      select.appendChild(option);
    });
    select.value = "Statewide";
    select.addEventListener("change", () => renderChart(select.value));
    renderChart("Statewide");
  </script>
</body>
</html>
</html>
