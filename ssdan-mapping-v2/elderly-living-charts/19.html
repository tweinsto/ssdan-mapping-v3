<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Living Arrangements â€“ Iowa</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Living Arrangements of Adults 65+ in Iowa</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Adair County, Iowa">Adair County, Iowa</option>
      <option value="Adams County, Iowa">Adams County, Iowa</option>
      <option value="Allamakee County, Iowa">Allamakee County, Iowa</option>
      <option value="Appanoose County, Iowa">Appanoose County, Iowa</option>
      <option value="Audubon County, Iowa">Audubon County, Iowa</option>
      <option value="Benton County, Iowa">Benton County, Iowa</option>
      <option value="Black Hawk County, Iowa">Black Hawk County, Iowa</option>
      <option value="Boone County, Iowa">Boone County, Iowa</option>
      <option value="Bremer County, Iowa">Bremer County, Iowa</option>
      <option value="Buchanan County, Iowa">Buchanan County, Iowa</option>
      <option value="Buena Vista County, Iowa">Buena Vista County, Iowa</option>
      <option value="Butler County, Iowa">Butler County, Iowa</option>
      <option value="Calhoun County, Iowa">Calhoun County, Iowa</option>
      <option value="Carroll County, Iowa">Carroll County, Iowa</option>
      <option value="Cass County, Iowa">Cass County, Iowa</option>
      <option value="Cedar County, Iowa">Cedar County, Iowa</option>
      <option value="Cerro Gordo County, Iowa">Cerro Gordo County, Iowa</option>
      <option value="Cherokee County, Iowa">Cherokee County, Iowa</option>
      <option value="Chickasaw County, Iowa">Chickasaw County, Iowa</option>
      <option value="Clarke County, Iowa">Clarke County, Iowa</option>
      <option value="Clay County, Iowa">Clay County, Iowa</option>
      <option value="Clayton County, Iowa">Clayton County, Iowa</option>
      <option value="Clinton County, Iowa">Clinton County, Iowa</option>
      <option value="Crawford County, Iowa">Crawford County, Iowa</option>
      <option value="Dallas County, Iowa">Dallas County, Iowa</option>
      <option value="Davis County, Iowa">Davis County, Iowa</option>
      <option value="Decatur County, Iowa">Decatur County, Iowa</option>
      <option value="Delaware County, Iowa">Delaware County, Iowa</option>
      <option value="Des Moines County, Iowa">Des Moines County, Iowa</option>
      <option value="Dickinson County, Iowa">Dickinson County, Iowa</option>
      <option value="Dubuque County, Iowa">Dubuque County, Iowa</option>
      <option value="Emmet County, Iowa">Emmet County, Iowa</option>
      <option value="Fayette County, Iowa">Fayette County, Iowa</option>
      <option value="Floyd County, Iowa">Floyd County, Iowa</option>
      <option value="Franklin County, Iowa">Franklin County, Iowa</option>
      <option value="Fremont County, Iowa">Fremont County, Iowa</option>
      <option value="Greene County, Iowa">Greene County, Iowa</option>
      <option value="Grundy County, Iowa">Grundy County, Iowa</option>
      <option value="Guthrie County, Iowa">Guthrie County, Iowa</option>
      <option value="Hamilton County, Iowa">Hamilton County, Iowa</option>
      <option value="Hancock County, Iowa">Hancock County, Iowa</option>
      <option value="Hardin County, Iowa">Hardin County, Iowa</option>
      <option value="Harrison County, Iowa">Harrison County, Iowa</option>
      <option value="Henry County, Iowa">Henry County, Iowa</option>
      <option value="Howard County, Iowa">Howard County, Iowa</option>
      <option value="Humboldt County, Iowa">Humboldt County, Iowa</option>
      <option value="Ida County, Iowa">Ida County, Iowa</option>
      <option value="Iowa County, Iowa">Iowa County, Iowa</option>
      <option value="Jackson County, Iowa">Jackson County, Iowa</option>
      <option value="Jasper County, Iowa">Jasper County, Iowa</option>
      <option value="Jefferson County, Iowa">Jefferson County, Iowa</option>
      <option value="Johnson County, Iowa">Johnson County, Iowa</option>
      <option value="Jones County, Iowa">Jones County, Iowa</option>
      <option value="Keokuk County, Iowa">Keokuk County, Iowa</option>
      <option value="Kossuth County, Iowa">Kossuth County, Iowa</option>
      <option value="Lee County, Iowa">Lee County, Iowa</option>
      <option value="Linn County, Iowa">Linn County, Iowa</option>
      <option value="Louisa County, Iowa">Louisa County, Iowa</option>
      <option value="Lucas County, Iowa">Lucas County, Iowa</option>
      <option value="Lyon County, Iowa">Lyon County, Iowa</option>
      <option value="Madison County, Iowa">Madison County, Iowa</option>
      <option value="Mahaska County, Iowa">Mahaska County, Iowa</option>
      <option value="Marion County, Iowa">Marion County, Iowa</option>
      <option value="Marshall County, Iowa">Marshall County, Iowa</option>
      <option value="Mills County, Iowa">Mills County, Iowa</option>
      <option value="Mitchell County, Iowa">Mitchell County, Iowa</option>
      <option value="Monona County, Iowa">Monona County, Iowa</option>
      <option value="Monroe County, Iowa">Monroe County, Iowa</option>
      <option value="Montgomery County, Iowa">Montgomery County, Iowa</option>
      <option value="Muscatine County, Iowa">Muscatine County, Iowa</option>
      <option value="O&#39;Brien County, Iowa">O'Brien County, Iowa</option>
      <option value="Osceola County, Iowa">Osceola County, Iowa</option>
      <option value="Page County, Iowa">Page County, Iowa</option>
      <option value="Palo Alto County, Iowa">Palo Alto County, Iowa</option>
      <option value="Plymouth County, Iowa">Plymouth County, Iowa</option>
      <option value="Pocahontas County, Iowa">Pocahontas County, Iowa</option>
      <option value="Polk County, Iowa">Polk County, Iowa</option>
      <option value="Pottawattamie County, Iowa">Pottawattamie County, Iowa</option>
      <option value="Poweshiek County, Iowa">Poweshiek County, Iowa</option>
      <option value="Ringgold County, Iowa">Ringgold County, Iowa</option>
      <option value="Sac County, Iowa">Sac County, Iowa</option>
      <option value="Scott County, Iowa">Scott County, Iowa</option>
      <option value="Shelby County, Iowa">Shelby County, Iowa</option>
      <option value="Sioux County, Iowa">Sioux County, Iowa</option>
      <option value="Story County, Iowa">Story County, Iowa</option>
      <option value="Tama County, Iowa">Tama County, Iowa</option>
      <option value="Taylor County, Iowa">Taylor County, Iowa</option>
      <option value="Union County, Iowa">Union County, Iowa</option>
      <option value="Van Buren County, Iowa">Van Buren County, Iowa</option>
      <option value="Wapello County, Iowa">Wapello County, Iowa</option>
      <option value="Warren County, Iowa">Warren County, Iowa</option>
      <option value="Washington County, Iowa">Washington County, Iowa</option>
      <option value="Wayne County, Iowa">Wayne County, Iowa</option>
      <option value="Webster County, Iowa">Webster County, Iowa</option>
      <option value="Winnebago County, Iowa">Winnebago County, Iowa</option>
      <option value="Winneshiek County, Iowa">Winneshiek County, Iowa</option>
      <option value="Woodbury County, Iowa">Woodbury County, Iowa</option>
      <option value="Worth County, Iowa">Worth County, Iowa</option>
      <option value="Wright County, Iowa">Wright County, Iowa</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>  const data = {"Statewide":[30.4,0.2,1.3,6.6,59.4,2],"Adair County, Iowa":[36.2,0.2,0.5,4.6,56.1,2.4],"Adams County, Iowa":[35.8,0,4.3,2,57,1],"Allamakee County, Iowa":[29.8,0,0.2,3,64.1,2.9],"Appanoose County, Iowa":[26.8,0.1,4.1,7.8,59.6,1.7],"Audubon County, Iowa":[28.9,1.1,1.2,5.3,61.6,1.9],"Benton County, Iowa":[30.2,0.2,0.6,5.9,59.1,4],"Black Hawk County, Iowa":[31,0,0.8,5.4,60.9,1.8],"Boone County, Iowa":[30,2.2,1.5,7.4,57.4,1.5],"Bremer County, Iowa":[26.6,0,0.5,4.6,67.9,0.4],"Buchanan County, Iowa":[31.2,0,1.4,4.3,62.9,0.3],"Buena Vista County, Iowa":[26.9,0.3,2,8.3,60.8,1.7],"Butler County, Iowa":[23.8,0.1,0.5,4.6,68.6,2.4],"Calhoun County, Iowa":[34,0.2,0.8,5.5,57.5,2],"Carroll County, Iowa":[32,0,1.4,3.8,62.3,0.5],"Cass County, Iowa":[33.8,0.2,1.3,1.3,61.6,1.8],"Cedar County, Iowa":[26.6,0.1,1.1,6.8,64.5,0.9],"Cerro Gordo County, Iowa":[29.3,0.1,0.7,6.2,61.1,2.6],"Cherokee County, Iowa":[38.8,0.1,1.2,3.4,53.1,3.4],"Chickasaw County, Iowa":[27,0.7,1.9,3.1,66.4,0.8],"Clarke County, Iowa":[31.5,0,0.7,3.3,62.6,2],"Clay County, Iowa":[31.9,0,0.4,4.4,61.2,2],"Clayton County, Iowa":[28.2,0,3.6,4.9,61.9,1.4],"Clinton County, Iowa":[32,0,1.2,6.9,57.2,2.7],"Crawford County, Iowa":[28.3,0.1,6.3,3.2,59.4,2.6],"Dallas County, Iowa":[27,0,1.4,7.3,60.8,3.5],"Davis County, Iowa":[23.8,0.6,0.4,3.5,68.5,3.1],"Decatur County, Iowa":[31.4,0.4,0.1,5.7,60,2.6],"Delaware County, Iowa":[28.9,0.2,2.4,4.6,61.9,2.1],"Des Moines County, Iowa":[34.7,0,0.7,6.6,57,1],"Dickinson County, Iowa":[30.3,0,0.4,1.7,65.2,2.4],"Dubuque County, Iowa":[29.7,0.1,1.2,6.4,60.5,2],"Emmet County, Iowa":[34.7,0.6,0.1,7.7,55.9,0.9],"Fayette County, Iowa":[33,0.3,0.6,4.8,58.6,2.7],"Floyd County, Iowa":[33.9,0,2.3,8,52.7,3.1],"Franklin County, Iowa":[26.9,0,0,4.3,68.1,0.7],"Fremont County, Iowa":[24.3,0.2,1.3,5.3,66.3,2.7],"Greene County, Iowa":[32.9,0.7,0.3,6.5,54.3,5.4],"Grundy County, Iowa":[31.4,0,0.5,4.7,61.1,2.3],"Guthrie County, Iowa":[24.4,0,0.1,2.5,72,1],"Hamilton County, Iowa":[41.9,0.2,2.9,5.4,48.5,1.1],"Hancock County, Iowa":[28.8,0.2,0.1,6.1,63.4,1.3],"Hardin County, Iowa":[30.3,0,0.9,10,57.7,1.1],"Harrison County, Iowa":[28.1,0.3,0.8,4.6,64.3,2],"Henry County, Iowa":[32.8,0,2.2,5.3,57.4,2.2],"Howard County, Iowa":[24.8,0.2,0.1,2.8,69,3.2],"Humboldt County, Iowa":[28.2,0.2,4.3,4.6,61.8,0.9],"Ida County, Iowa":[28.9,0.3,1.5,3.7,63.1,2.5],"Iowa County, Iowa":[31,0,3,4.9,59.7,1.3],"Jackson County, Iowa":[25.9,0,1.3,3.9,63.4,5.4],"Jasper County, Iowa":[28.9,0.2,1.4,7.2,60.1,2.3],"Jefferson County, Iowa":[30.8,0.2,3.7,3.3,59.6,2.4],"Johnson County, Iowa":[28.5,0.1,1.1,6.6,62.1,1.7],"Jones County, Iowa":[24.1,0,3,8,63.3,1.6],"Keokuk County, Iowa":[28,0.1,1.3,5.7,61,3.9],"Kossuth County, Iowa":[34.1,0.3,0.8,3.2,60.5,1.1],"Lee County, Iowa":[31.8,0.1,1.4,6.1,55.9,4.6],"Linn County, Iowa":[28.3,0.1,1.4,7.2,60.7,2.3],"Louisa County, Iowa":[21.8,0,0.5,7.4,69.6,0.5],"Lucas County, Iowa":[32.3,0,0.8,5.5,57.2,4.2],"Lyon County, Iowa":[25.8,0,0.1,2.7,70.7,0.6],"Madison County, Iowa":[38.7,0,0.1,5,55.8,0.4],"Mahaska County, Iowa":[26.6,0,2.4,8,61.3,1.8],"Marion County, Iowa":[27.4,0.7,0.8,4.3,66,0.8],"Marshall County, Iowa":[30.1,0.1,0.9,6.6,60.1,2.2],"Mills County, Iowa":[29.4,0.5,0.7,10,57.7,1.7],"Mitchell County, Iowa":[25.3,0.3,3,2.7,67.6,1.1],"Monona County, Iowa":[44,0,1.9,4.3,47.3,2.5],"Monroe County, Iowa":[32.9,0,0.3,6.1,59.4,1.2],"Montgomery County, Iowa":[35.2,0.5,1,12.2,50.7,0.4],"Muscatine County, Iowa":[30.2,0.3,1.8,9.8,55.9,2],"O'Brien County, Iowa":[34,0,0,1.4,64.2,0.5],"Osceola County, Iowa":[34.2,0,0.6,5.2,58.6,1.3],"Page County, Iowa":[33.2,0.4,4.8,5.8,54.3,1.6],"Palo Alto County, Iowa":[41.5,0,0.6,4.3,52,1.6],"Plymouth County, Iowa":[30.2,0,0.3,3.6,63.2,2.6],"Pocahontas County, Iowa":[33.3,0.3,0.7,4.3,60.6,0.8],"Polk County, Iowa":[31.5,0.2,1.5,9.9,54.9,2],"Pottawattamie County, Iowa":[29.6,0.2,2.5,8.9,56.2,2.6],"Poweshiek County, Iowa":[33.8,0.1,0.5,6.2,58,1.5],"Ringgold County, Iowa":[26.5,0,1.5,5.8,65.6,0.5],"Sac County, Iowa":[31.3,0.1,1.9,3.1,62.6,1],"Scott County, Iowa":[32.3,0.2,0.9,7.7,56,2.8],"Shelby County, Iowa":[32.6,0,2.3,2.8,60.5,1.7],"Sioux County, Iowa":[23.7,0.1,1.1,2.8,72,0.4],"Story County, Iowa":[30.8,0.2,0.5,5.2,62,1.3],"Tama County, Iowa":[30.1,0.2,1.1,5.1,61.9,1.6],"Taylor County, Iowa":[30.2,0.1,1.2,6.1,61.3,1.1],"Union County, Iowa":[35.4,0.8,1.4,4.2,55.5,2.7],"Van Buren County, Iowa":[32.2,0,3.9,5.8,56.3,1.8],"Wapello County, Iowa":[30.4,0.7,2.9,9.9,54.8,1.4],"Warren County, Iowa":[29.9,0.1,1.5,7.3,60,1.1],"Washington County, Iowa":[30.2,0.2,1.1,4.4,62.1,2],"Wayne County, Iowa":[29.8,0.1,0.9,4.5,63.5,1.3],"Webster County, Iowa":[39.1,0.1,1.6,5.1,53.2,1],"Winnebago County, Iowa":[31.2,0.4,1.7,4.5,60.6,1.6],"Winneshiek County, Iowa":[27.5,0,0.8,4,64.1,3.6],"Woodbury County, Iowa":[30.8,0.4,1.2,10.9,54.4,2.3],"Worth County, Iowa":[34.1,0,0.9,5.8,59,0.2],"Wright County, Iowa":[28.2,0,1,3.8,64.7,2.3]};
  const nationalAvg = [27.3,0.3,2.3,14.5,53.2,2.4];
  const categories = ["Lives alone","With child","With nonrelatives","With other relatives","With spouse only","With unmarried partner"];
  const ctx = document.getElementById("barChart").getContext("2d");
  let chart;

  function renderChart(values) {
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: categories,
        datasets: [
          {
            label: "County/State",
            data: values,
            backgroundColor: [
              "#e41a1c", "#ff7f00", "#4daf4a",
              "#984ea3", "#377eb8", "#a65628"
            ]
          },
          {
            label: "",
            data: categories.map(c => nationalAvg[c]),
            type: "line",
            borderColor: "gray",
            borderWidth: 1,
            borderDash: [4, 4],
            pointRadius: 0,
            fill: false
          }
        ]
      },
      options: {
        indexAxis: "y",
        scales: {
          x: {
            min: 0,
            max: 100,
            ticks: {
              callback: function(v) { return v + "%"; }
            }
          }
        },
        plugins: {
          legend: {
            labels: {
              filter: function(item) { return item.text !== ""; }
            }
          },
          tooltip: {
            callbacks: {
              label: function(ctx) {
                return ctx.dataset.label !== "" ? ctx.dataset.label + ": " + ctx.raw + "%" : null;
              }
            }
          }
        }
      }
    });
  }

  document.getElementById("countySelect").addEventListener("change", function() {
    renderChart(Object.values(data[this.value]));
  });

  renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
