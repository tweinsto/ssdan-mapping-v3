<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Living Arrangements â€“ North Dakota</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Living Arrangements of Adults 65+ in North Dakota</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Adams County, North Dakota">Adams County, North Dakota</option>
      <option value="Barnes County, North Dakota">Barnes County, North Dakota</option>
      <option value="Benson County, North Dakota">Benson County, North Dakota</option>
      <option value="Billings County, North Dakota">Billings County, North Dakota</option>
      <option value="Bottineau County, North Dakota">Bottineau County, North Dakota</option>
      <option value="Bowman County, North Dakota">Bowman County, North Dakota</option>
      <option value="Burke County, North Dakota">Burke County, North Dakota</option>
      <option value="Burleigh County, North Dakota">Burleigh County, North Dakota</option>
      <option value="Cass County, North Dakota">Cass County, North Dakota</option>
      <option value="Cavalier County, North Dakota">Cavalier County, North Dakota</option>
      <option value="Dickey County, North Dakota">Dickey County, North Dakota</option>
      <option value="Divide County, North Dakota">Divide County, North Dakota</option>
      <option value="Dunn County, North Dakota">Dunn County, North Dakota</option>
      <option value="Eddy County, North Dakota">Eddy County, North Dakota</option>
      <option value="Emmons County, North Dakota">Emmons County, North Dakota</option>
      <option value="Foster County, North Dakota">Foster County, North Dakota</option>
      <option value="Golden Valley County, North Dakota">Golden Valley County, North Dakota</option>
      <option value="Grand Forks County, North Dakota">Grand Forks County, North Dakota</option>
      <option value="Grant County, North Dakota">Grant County, North Dakota</option>
      <option value="Griggs County, North Dakota">Griggs County, North Dakota</option>
      <option value="Hettinger County, North Dakota">Hettinger County, North Dakota</option>
      <option value="Kidder County, North Dakota">Kidder County, North Dakota</option>
      <option value="LaMoure County, North Dakota">LaMoure County, North Dakota</option>
      <option value="Logan County, North Dakota">Logan County, North Dakota</option>
      <option value="McHenry County, North Dakota">McHenry County, North Dakota</option>
      <option value="McIntosh County, North Dakota">McIntosh County, North Dakota</option>
      <option value="McKenzie County, North Dakota">McKenzie County, North Dakota</option>
      <option value="McLean County, North Dakota">McLean County, North Dakota</option>
      <option value="Mercer County, North Dakota">Mercer County, North Dakota</option>
      <option value="Morton County, North Dakota">Morton County, North Dakota</option>
      <option value="Mountrail County, North Dakota">Mountrail County, North Dakota</option>
      <option value="Nelson County, North Dakota">Nelson County, North Dakota</option>
      <option value="Oliver County, North Dakota">Oliver County, North Dakota</option>
      <option value="Pembina County, North Dakota">Pembina County, North Dakota</option>
      <option value="Pierce County, North Dakota">Pierce County, North Dakota</option>
      <option value="Ramsey County, North Dakota">Ramsey County, North Dakota</option>
      <option value="Ransom County, North Dakota">Ransom County, North Dakota</option>
      <option value="Renville County, North Dakota">Renville County, North Dakota</option>
      <option value="Richland County, North Dakota">Richland County, North Dakota</option>
      <option value="Rolette County, North Dakota">Rolette County, North Dakota</option>
      <option value="Sargent County, North Dakota">Sargent County, North Dakota</option>
      <option value="Sheridan County, North Dakota">Sheridan County, North Dakota</option>
      <option value="Sioux County, North Dakota">Sioux County, North Dakota</option>
      <option value="Slope County, North Dakota">Slope County, North Dakota</option>
      <option value="Stark County, North Dakota">Stark County, North Dakota</option>
      <option value="Steele County, North Dakota">Steele County, North Dakota</option>
      <option value="Stutsman County, North Dakota">Stutsman County, North Dakota</option>
      <option value="Towner County, North Dakota">Towner County, North Dakota</option>
      <option value="Traill County, North Dakota">Traill County, North Dakota</option>
      <option value="Walsh County, North Dakota">Walsh County, North Dakota</option>
      <option value="Ward County, North Dakota">Ward County, North Dakota</option>
      <option value="Wells County, North Dakota">Wells County, North Dakota</option>
      <option value="Williams County, North Dakota">Williams County, North Dakota</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>  const data = {"Statewide":[32.6,0.1,1.2,5.2,58.7,2.1],"Adams County, North Dakota":[37.8,0,1.1,3.5,57.6,0],"Barnes County, North Dakota":[35.1,0,0.9,5.3,56.7,2.1],"Benson County, North Dakota":[23.1,0,1.3,12.4,60.3,2.9],"Billings County, North Dakota":[13,4.9,0,3.7,78.5,0],"Bottineau County, North Dakota":[32.8,0,0,3.6,63.1,0.5],"Bowman County, North Dakota":[40.4,0.5,0,6.8,49.4,2.9],"Burke County, North Dakota":[28.2,0.2,0,2.2,69,0.4],"Burleigh County, North Dakota":[30.9,0,1.2,6.1,59.2,2.6],"Cass County, North Dakota":[31.3,0.1,1.6,4.2,61,1.7],"Cavalier County, North Dakota":[33.6,0,1.6,2.1,62.3,0.4],"Dickey County, North Dakota":[27.1,0,0,4.2,68,0.7],"Divide County, North Dakota":[25.3,0,0.2,3.1,71.5,0],"Dunn County, North Dakota":[29.2,0.6,3.5,12.8,52.8,1.2],"Eddy County, North Dakota":[48.4,0,1.8,3.1,45,1.6],"Emmons County, North Dakota":[35.7,0,0.1,4.3,57.2,2.6],"Foster County, North Dakota":[32.2,1.2,2.6,2,61,1],"Golden Valley County, North Dakota":[23.1,1.9,0,16.3,57.1,1.7],"Grand Forks County, North Dakota":[39.1,0.1,1,4.9,51.3,3.6],"Grant County, North Dakota":[38.4,0.5,1,3.9,55.6,0.7],"Griggs County, North Dakota":[32.5,0,0.7,3.6,62.5,0.7],"Hettinger County, North Dakota":[43.8,0,0,2.6,53.4,0.2],"Kidder County, North Dakota":[39,0,0,2.3,56.7,2],"LaMoure County, North Dakota":[31.4,0.8,1.4,2.9,61.6,1.8],"Logan County, North Dakota":[28.2,0,0.9,5.8,65,0.2],"McHenry County, North Dakota":[36.7,0,0.5,3.1,58.2,1.6],"McIntosh County, North Dakota":[38.1,0.1,0,3.4,56.3,2.1],"McKenzie County, North Dakota":[29.4,0,0.7,1.3,68.5,0],"McLean County, North Dakota":[24.8,0,1.3,2.8,65.5,5.6],"Mercer County, North Dakota":[26.1,0,0,2.2,71.6,0.1],"Morton County, North Dakota":[30.6,0,0.6,6,60.4,2.3],"Mountrail County, North Dakota":[26.9,0,3.5,10.9,58.6,0],"Nelson County, North Dakota":[30.3,0,0,2.5,66.8,0.4],"Oliver County, North Dakota":[17.9,0.6,0,3.4,78.1,0],"Pembina County, North Dakota":[37.5,0.7,0.8,5,54.6,1.3],"Pierce County, North Dakota":[28.7,0,0.2,6.5,63.4,1.1],"Ramsey County, North Dakota":[39.7,0,1.5,5.1,53.3,0.3],"Ransom County, North Dakota":[37.9,0,0.2,4.1,57.6,0.2],"Renville County, North Dakota":[21.7,0,1,3.2,71.2,3],"Richland County, North Dakota":[31.1,0,2.3,2.8,62,1.7],"Rolette County, North Dakota":[21.3,1.1,0.8,19.5,51,6.4],"Sargent County, North Dakota":[24.7,0.2,4.4,1,67.5,2.2],"Sheridan County, North Dakota":[36.6,0,0,6.2,54.5,2.6],"Sioux County, North Dakota":[17.8,0,1.4,24.4,50.6,5.7],"Slope County, North Dakota":[24.7,0,1.4,9.6,64.4,0],"Stark County, North Dakota":[37.2,0,0.2,5.7,56.7,0.2],"Steele County, North Dakota":[29.3,0,0,4,60.3,6.4],"Stutsman County, North Dakota":[40.5,0.3,0.9,2.2,52.8,3.3],"Towner County, North Dakota":[37.7,0,0,3.4,58.5,0.4],"Traill County, North Dakota":[29.9,0,0.1,5.6,62.4,2],"Walsh County, North Dakota":[33.1,0,1.2,4.2,58.1,3.4],"Ward County, North Dakota":[30.6,0,3.2,6.5,57.3,2.4],"Wells County, North Dakota":[41.2,0,0.4,1.4,54.6,2.3],"Williams County, North Dakota":[36,0,0.2,10,52,1.8]};
  const nationalAvg = [27.3,0.3,2.3,14.5,53.2,2.4];
  const categories = ["Lives alone","With child","With nonrelatives","With other relatives","With spouse only","With unmarried partner"];
  const ctx = document.getElementById("barChart").getContext("2d");
  let chart;

  function renderChart(values) {
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: categories,
        datasets: [
          {
            label: "County/State",
            data: values,
            backgroundColor: [
              "#e41a1c", "#ff7f00", "#4daf4a",
              "#984ea3", "#377eb8", "#a65628"
            ]
          },
          {
            label: "",
            data: categories.map(c => nationalAvg[c]),
            type: "line",
            borderColor: "gray",
            borderWidth: 1,
            borderDash: [4, 4],
            pointRadius: 0,
            fill: false
          }
        ]
      },
      options: {
        indexAxis: "y",
        scales: {
          x: {
            min: 0,
            max: 100,
            ticks: {
              callback: function(v) { return v + "%"; }
            }
          }
        },
        plugins: {
          legend: {
            labels: {
              filter: function(item) { return item.text !== ""; }
            }
          },
          tooltip: {
            callbacks: {
              label: function(ctx) {
                return ctx.dataset.label !== "" ? ctx.dataset.label + ": " + ctx.raw + "%" : null;
              }
            }
          }
        }
      }
    });
  }

  document.getElementById("countySelect").addEventListener("change", function() {
    renderChart(Object.values(data[this.value]));
  });

  renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
