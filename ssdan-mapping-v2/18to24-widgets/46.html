<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Educational Enrollment – South Dakota</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Educational Enrollment (Age 18–24) in South Dakota</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Aurora County, South Dakota">Aurora County, South Dakota</option>
      <option value="Beadle County, South Dakota">Beadle County, South Dakota</option>
      <option value="Bennett County, South Dakota">Bennett County, South Dakota</option>
      <option value="Bon Homme County, South Dakota">Bon Homme County, South Dakota</option>
      <option value="Brookings County, South Dakota">Brookings County, South Dakota</option>
      <option value="Brown County, South Dakota">Brown County, South Dakota</option>
      <option value="Brule County, South Dakota">Brule County, South Dakota</option>
      <option value="Buffalo County, South Dakota">Buffalo County, South Dakota</option>
      <option value="Butte County, South Dakota">Butte County, South Dakota</option>
      <option value="Campbell County, South Dakota">Campbell County, South Dakota</option>
      <option value="Charles Mix County, South Dakota">Charles Mix County, South Dakota</option>
      <option value="Clark County, South Dakota">Clark County, South Dakota</option>
      <option value="Clay County, South Dakota">Clay County, South Dakota</option>
      <option value="Codington County, South Dakota">Codington County, South Dakota</option>
      <option value="Corson County, South Dakota">Corson County, South Dakota</option>
      <option value="Custer County, South Dakota">Custer County, South Dakota</option>
      <option value="Davison County, South Dakota">Davison County, South Dakota</option>
      <option value="Day County, South Dakota">Day County, South Dakota</option>
      <option value="Deuel County, South Dakota">Deuel County, South Dakota</option>
      <option value="Dewey County, South Dakota">Dewey County, South Dakota</option>
      <option value="Douglas County, South Dakota">Douglas County, South Dakota</option>
      <option value="Edmunds County, South Dakota">Edmunds County, South Dakota</option>
      <option value="Fall River County, South Dakota">Fall River County, South Dakota</option>
      <option value="Faulk County, South Dakota">Faulk County, South Dakota</option>
      <option value="Grant County, South Dakota">Grant County, South Dakota</option>
      <option value="Gregory County, South Dakota">Gregory County, South Dakota</option>
      <option value="Haakon County, South Dakota">Haakon County, South Dakota</option>
      <option value="Hamlin County, South Dakota">Hamlin County, South Dakota</option>
      <option value="Hand County, South Dakota">Hand County, South Dakota</option>
      <option value="Hanson County, South Dakota">Hanson County, South Dakota</option>
      <option value="Harding County, South Dakota">Harding County, South Dakota</option>
      <option value="Hughes County, South Dakota">Hughes County, South Dakota</option>
      <option value="Hutchinson County, South Dakota">Hutchinson County, South Dakota</option>
      <option value="Hyde County, South Dakota">Hyde County, South Dakota</option>
      <option value="Jackson County, South Dakota">Jackson County, South Dakota</option>
      <option value="Jerauld County, South Dakota">Jerauld County, South Dakota</option>
      <option value="Jones County, South Dakota">Jones County, South Dakota</option>
      <option value="Kingsbury County, South Dakota">Kingsbury County, South Dakota</option>
      <option value="Lake County, South Dakota">Lake County, South Dakota</option>
      <option value="Lawrence County, South Dakota">Lawrence County, South Dakota</option>
      <option value="Lincoln County, South Dakota">Lincoln County, South Dakota</option>
      <option value="Lyman County, South Dakota">Lyman County, South Dakota</option>
      <option value="Marshall County, South Dakota">Marshall County, South Dakota</option>
      <option value="McCook County, South Dakota">McCook County, South Dakota</option>
      <option value="McPherson County, South Dakota">McPherson County, South Dakota</option>
      <option value="Meade County, South Dakota">Meade County, South Dakota</option>
      <option value="Mellette County, South Dakota">Mellette County, South Dakota</option>
      <option value="Miner County, South Dakota">Miner County, South Dakota</option>
      <option value="Minnehaha County, South Dakota">Minnehaha County, South Dakota</option>
      <option value="Moody County, South Dakota">Moody County, South Dakota</option>
      <option value="Oglala Lakota County, South Dakota">Oglala Lakota County, South Dakota</option>
      <option value="Pennington County, South Dakota">Pennington County, South Dakota</option>
      <option value="Perkins County, South Dakota">Perkins County, South Dakota</option>
      <option value="Potter County, South Dakota">Potter County, South Dakota</option>
      <option value="Roberts County, South Dakota">Roberts County, South Dakota</option>
      <option value="Sanborn County, South Dakota">Sanborn County, South Dakota</option>
      <option value="Spink County, South Dakota">Spink County, South Dakota</option>
      <option value="Stanley County, South Dakota">Stanley County, South Dakota</option>
      <option value="Sully County, South Dakota">Sully County, South Dakota</option>
      <option value="Todd County, South Dakota">Todd County, South Dakota</option>
      <option value="Tripp County, South Dakota">Tripp County, South Dakota</option>
      <option value="Turner County, South Dakota">Turner County, South Dakota</option>
      <option value="Union County, South Dakota">Union County, South Dakota</option>
      <option value="Walworth County, South Dakota">Walworth County, South Dakota</option>
      <option value="Yankton County, South Dakota">Yankton County, South Dakota</option>
      <option value="Ziebach County, South Dakota">Ziebach County, South Dakota</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>  const data = {"Statewide":[47.7,14.7,37.6],"Aurora County, South Dakota":[51.1,2.3,46.6],"Beadle County, South Dakota":[48.5,21.1,30.4],"Bennett County, South Dakota":[45,19.9,35.1],"Bon Homme County, South Dakota":[44.1,20.3,35.7],"Brookings County, South Dakota":[47,12.1,40.9],"Brown County, South Dakota":[52.3,17.6,30.1],"Brule County, South Dakota":[45.7,10.7,43.5],"Buffalo County, South Dakota":[42.3,32,25.8],"Butte County, South Dakota":[49.9,6.2,43.8],"Campbell County, South Dakota":[50,8.3,41.7],"Charles Mix County, South Dakota":[45.8,19.6,34.6],"Clark County, South Dakota":[66.2,0,33.8],"Clay County, South Dakota":[43.3,11.9,44.7],"Codington County, South Dakota":[49.1,9.4,41.6],"Corson County, South Dakota":[40.2,21.9,37.9],"Custer County, South Dakota":[45.9,20.7,33.4],"Davison County, South Dakota":[45.7,20.8,33.5],"Day County, South Dakota":[41.6,24.9,33.5],"Deuel County, South Dakota":[44.5,11.5,44],"Dewey County, South Dakota":[41,24,35],"Douglas County, South Dakota":[52.1,9,38.9],"Edmunds County, South Dakota":[51.3,0,48.7],"Fall River County, South Dakota":[51.4,12.3,36.3],"Faulk County, South Dakota":[58.6,0,41.4],"Grant County, South Dakota":[39.8,26.8,33.3],"Gregory County, South Dakota":[50.4,8.3,41.3],"Haakon County, South Dakota":[67.8,5.1,27.1],"Hamlin County, South Dakota":[48.9,15,36.1],"Hand County, South Dakota":[53.5,0,46.5],"Hanson County, South Dakota":[49.5,12.8,37.7],"Harding County, South Dakota":[25,33.3,41.7],"Hughes County, South Dakota":[45.2,19.2,35.5],"Hutchinson County, South Dakota":[51.6,11.7,36.7],"Hyde County, South Dakota":[46.2,7.7,46.2],"Jackson County, South Dakota":[48.1,24.3,27.6],"Jerauld County, South Dakota":[39.7,21.8,38.5],"Jones County, South Dakota":[46.4,19.9,33.8],"Kingsbury County, South Dakota":[49.3,20.9,29.9],"Lake County, South Dakota":[54.7,3,42.3],"Lawrence County, South Dakota":[48.2,14.2,37.5],"Lincoln County, South Dakota":[49.8,14.8,35.4],"Lyman County, South Dakota":[36.6,27.7,35.6],"Marshall County, South Dakota":[54.1,0,45.9],"McCook County, South Dakota":[48.7,7.3,44],"McPherson County, South Dakota":[63.2,0,36.8],"Meade County, South Dakota":[50,21.6,28.4],"Mellette County, South Dakota":[41.7,33,25.2],"Miner County, South Dakota":[43.2,27.2,29.6],"Minnehaha County, South Dakota":[47.6,13.3,39.1],"Moody County, South Dakota":[49.2,14.8,36],"Oglala Lakota County, South Dakota":[43.7,20.1,36.2],"Pennington County, South Dakota":[49.8,13,37.2],"Perkins County, South Dakota":[50,0,50],"Potter County, South Dakota":[44.9,20.6,34.6],"Roberts County, South Dakota":[45.3,17.1,37.5],"Sanborn County, South Dakota":[50.3,9.5,40.2],"Spink County, South Dakota":[46.2,8.8,45.1],"Stanley County, South Dakota":[43.1,20.2,36.7],"Sully County, South Dakota":[47.3,16.1,36.6],"Todd County, South Dakota":[45.1,23.2,31.7],"Tripp County, South Dakota":[45.7,17.3,37],"Turner County, South Dakota":[44.2,17.6,38.2],"Union County, South Dakota":[44.5,16.7,38.8],"Walworth County, South Dakota":[42.6,16.1,41.3],"Yankton County, South Dakota":[48,10.6,41.3],"Ziebach County, South Dakota":[54.4,9.8,35.8]};
  const nationalAvg = [6.9,55,38.1];
  const categories = ["Enrolled in College","Enrolled in Other School","Not Enrolled"];
  const ctx = document.getElementById("barChart").getContext("2d");
  let chart;

  function renderChart(values) {
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: categories,
        datasets: [
          {
            label: "County/State",
            data: values,
            backgroundColor: ["#66c2a5", "#fc8d62", "#8da0cb"]
          },
          {
            label: null,
            data: categories.map(c => nationalAvg[c]),
            type: "line",
            borderColor: "black",
            borderWidth: 2,
            pointRadius: 0,
            fill: false
          }
        ]
      },
      options: {
        indexAxis: "y",
        scales: {
          x: {
            min: 0,
            max: 100,
            ticks: {
              callback: v => v + "%"
            }
          }
        },
        plugins: {
          legend: {
            labels: {
              filter: item => item.text !== null
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label ? ctx.dataset.label + ": " + ctx.raw + "%" : null
            }
          }
        }
      }
    });
  }

  document.getElementById("countySelect").addEventListener("change", function() {
    renderChart(Object.values(data[this.value]));
  });

  renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
