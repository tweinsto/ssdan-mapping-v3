<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Educational Enrollment – West Virginia</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Educational Enrollment (Age 18–24) in West Virginia</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Barbour County, West Virginia">Barbour County, West Virginia</option>
      <option value="Berkeley County, West Virginia">Berkeley County, West Virginia</option>
      <option value="Boone County, West Virginia">Boone County, West Virginia</option>
      <option value="Braxton County, West Virginia">Braxton County, West Virginia</option>
      <option value="Brooke County, West Virginia">Brooke County, West Virginia</option>
      <option value="Cabell County, West Virginia">Cabell County, West Virginia</option>
      <option value="Calhoun County, West Virginia">Calhoun County, West Virginia</option>
      <option value="Clay County, West Virginia">Clay County, West Virginia</option>
      <option value="Doddridge County, West Virginia">Doddridge County, West Virginia</option>
      <option value="Fayette County, West Virginia">Fayette County, West Virginia</option>
      <option value="Gilmer County, West Virginia">Gilmer County, West Virginia</option>
      <option value="Grant County, West Virginia">Grant County, West Virginia</option>
      <option value="Greenbrier County, West Virginia">Greenbrier County, West Virginia</option>
      <option value="Hampshire County, West Virginia">Hampshire County, West Virginia</option>
      <option value="Hancock County, West Virginia">Hancock County, West Virginia</option>
      <option value="Hardy County, West Virginia">Hardy County, West Virginia</option>
      <option value="Harrison County, West Virginia">Harrison County, West Virginia</option>
      <option value="Jackson County, West Virginia">Jackson County, West Virginia</option>
      <option value="Jefferson County, West Virginia">Jefferson County, West Virginia</option>
      <option value="Kanawha County, West Virginia">Kanawha County, West Virginia</option>
      <option value="Lewis County, West Virginia">Lewis County, West Virginia</option>
      <option value="Lincoln County, West Virginia">Lincoln County, West Virginia</option>
      <option value="Logan County, West Virginia">Logan County, West Virginia</option>
      <option value="Marion County, West Virginia">Marion County, West Virginia</option>
      <option value="Marshall County, West Virginia">Marshall County, West Virginia</option>
      <option value="Mason County, West Virginia">Mason County, West Virginia</option>
      <option value="McDowell County, West Virginia">McDowell County, West Virginia</option>
      <option value="Mercer County, West Virginia">Mercer County, West Virginia</option>
      <option value="Mineral County, West Virginia">Mineral County, West Virginia</option>
      <option value="Mingo County, West Virginia">Mingo County, West Virginia</option>
      <option value="Monongalia County, West Virginia">Monongalia County, West Virginia</option>
      <option value="Monroe County, West Virginia">Monroe County, West Virginia</option>
      <option value="Morgan County, West Virginia">Morgan County, West Virginia</option>
      <option value="Nicholas County, West Virginia">Nicholas County, West Virginia</option>
      <option value="Ohio County, West Virginia">Ohio County, West Virginia</option>
      <option value="Pendleton County, West Virginia">Pendleton County, West Virginia</option>
      <option value="Pleasants County, West Virginia">Pleasants County, West Virginia</option>
      <option value="Pocahontas County, West Virginia">Pocahontas County, West Virginia</option>
      <option value="Preston County, West Virginia">Preston County, West Virginia</option>
      <option value="Putnam County, West Virginia">Putnam County, West Virginia</option>
      <option value="Raleigh County, West Virginia">Raleigh County, West Virginia</option>
      <option value="Randolph County, West Virginia">Randolph County, West Virginia</option>
      <option value="Ritchie County, West Virginia">Ritchie County, West Virginia</option>
      <option value="Roane County, West Virginia">Roane County, West Virginia</option>
      <option value="Summers County, West Virginia">Summers County, West Virginia</option>
      <option value="Taylor County, West Virginia">Taylor County, West Virginia</option>
      <option value="Tucker County, West Virginia">Tucker County, West Virginia</option>
      <option value="Tyler County, West Virginia">Tyler County, West Virginia</option>
      <option value="Upshur County, West Virginia">Upshur County, West Virginia</option>
      <option value="Wayne County, West Virginia">Wayne County, West Virginia</option>
      <option value="Webster County, West Virginia">Webster County, West Virginia</option>
      <option value="Wetzel County, West Virginia">Wetzel County, West Virginia</option>
      <option value="Wirt County, West Virginia">Wirt County, West Virginia</option>
      <option value="Wood County, West Virginia">Wood County, West Virginia</option>
      <option value="Wyoming County, West Virginia">Wyoming County, West Virginia</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>  const data = {"Statewide":[46.6,17,36.4],"Barbour County, West Virginia":[49.1,13.9,36.9],"Berkeley County, West Virginia":[47.3,19.8,32.9],"Boone County, West Virginia":[46.7,23,30.3],"Braxton County, West Virginia":[52.5,11.9,35.6],"Brooke County, West Virginia":[44.5,15.4,40.1],"Cabell County, West Virginia":[45.5,16.6,37.9],"Calhoun County, West Virginia":[31.2,26.9,41.8],"Clay County, West Virginia":[50.1,13.6,36.3],"Doddridge County, West Virginia":[44.5,30.9,24.6],"Fayette County, West Virginia":[44.3,20.6,35.1],"Gilmer County, West Virginia":[50,0,50],"Grant County, West Virginia":[37.9,32.2,29.9],"Greenbrier County, West Virginia":[50,12.7,37.3],"Hampshire County, West Virginia":[46.1,11.3,42.6],"Hancock County, West Virginia":[49.7,15.9,34.4],"Hardy County, West Virginia":[52.6,4.8,42.6],"Harrison County, West Virginia":[46,22.3,31.6],"Jackson County, West Virginia":[44.7,16.9,38.4],"Jefferson County, West Virginia":[47.9,12.8,39.3],"Kanawha County, West Virginia":[47.5,14,38.5],"Lewis County, West Virginia":[45.5,25.7,28.7],"Lincoln County, West Virginia":[42.4,26.5,31],"Logan County, West Virginia":[46.9,18.9,34.2],"Marion County, West Virginia":[44.1,23.1,32.7],"Marshall County, West Virginia":[47.7,14.4,37.9],"Mason County, West Virginia":[46.7,13,40.3],"McDowell County, West Virginia":[44.7,21.8,33.5],"Mercer County, West Virginia":[48.3,15.7,36.1],"Mineral County, West Virginia":[39.8,21.9,38.3],"Mingo County, West Virginia":[47.4,9.3,43.3],"Monongalia County, West Virginia":[49,6.3,44.8],"Monroe County, West Virginia":[40.8,24,35.2],"Morgan County, West Virginia":[42.3,22.3,35.3],"Nicholas County, West Virginia":[45.9,20.5,33.6],"Ohio County, West Virginia":[47.8,10,42.2],"Pendleton County, West Virginia":[41.7,19.5,38.8],"Pleasants County, West Virginia":[44.4,21.4,34.2],"Pocahontas County, West Virginia":[39.7,29,31.3],"Preston County, West Virginia":[46.9,17.1,36],"Putnam County, West Virginia":[50.9,14.3,34.8],"Raleigh County, West Virginia":[44.5,27.8,27.7],"Randolph County, West Virginia":[42.6,19.4,37.9],"Ritchie County, West Virginia":[43.7,22.4,33.9],"Roane County, West Virginia":[43.9,26.5,29.6],"Summers County, West Virginia":[68.9,7.7,23.4],"Taylor County, West Virginia":[56.3,3.1,40.6],"Tucker County, West Virginia":[37.3,37.1,25.6],"Tyler County, West Virginia":[43,21.4,35.6],"Upshur County, West Virginia":[47.6,10.6,41.8],"Wayne County, West Virginia":[48.8,16.1,35.2],"Webster County, West Virginia":[20.4,60.5,19.1],"Wetzel County, West Virginia":[52.1,8.2,39.6],"Wirt County, West Virginia":[49.9,10.3,39.9],"Wood County, West Virginia":[47.6,17.7,34.7],"Wyoming County, West Virginia":[41.3,27.5,31.2]};
  const nationalAvg = [6.9,55,38.1];
  const categories = ["Enrolled in College","Enrolled in Other School","Not Enrolled"];
  const ctx = document.getElementById("barChart").getContext("2d");
  let chart;

  function renderChart(values) {
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: categories,
        datasets: [
          {
            label: "County/State",
            data: values,
            backgroundColor: ["#66c2a5", "#fc8d62", "#8da0cb"]
          },
          {
            label: null,
            data: categories.map(c => nationalAvg[c]),
            type: "line",
            borderColor: "black",
            borderWidth: 2,
            pointRadius: 0,
            fill: false
          }
        ]
      },
      options: {
        indexAxis: "y",
        scales: {
          x: {
            min: 0,
            max: 100,
            ticks: {
              callback: v => v + "%"
            }
          }
        },
        plugins: {
          legend: {
            labels: {
              filter: item => item.text !== null
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label ? ctx.dataset.label + ": " + ctx.raw + "%" : null
            }
          }
        }
      }
    });
  }

  document.getElementById("countySelect").addEventListener("change", function() {
    renderChart(Object.values(data[this.value]));
  });

  renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
