<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Educational Enrollment – New York</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Educational Enrollment (Age 18–24) in New York</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Albany County, New York">Albany County, New York</option>
      <option value="Allegany County, New York">Allegany County, New York</option>
      <option value="Bronx County, New York">Bronx County, New York</option>
      <option value="Broome County, New York">Broome County, New York</option>
      <option value="Cattaraugus County, New York">Cattaraugus County, New York</option>
      <option value="Cayuga County, New York">Cayuga County, New York</option>
      <option value="Chautauqua County, New York">Chautauqua County, New York</option>
      <option value="Chemung County, New York">Chemung County, New York</option>
      <option value="Chenango County, New York">Chenango County, New York</option>
      <option value="Clinton County, New York">Clinton County, New York</option>
      <option value="Columbia County, New York">Columbia County, New York</option>
      <option value="Cortland County, New York">Cortland County, New York</option>
      <option value="Delaware County, New York">Delaware County, New York</option>
      <option value="Dutchess County, New York">Dutchess County, New York</option>
      <option value="Erie County, New York">Erie County, New York</option>
      <option value="Essex County, New York">Essex County, New York</option>
      <option value="Franklin County, New York">Franklin County, New York</option>
      <option value="Fulton County, New York">Fulton County, New York</option>
      <option value="Genesee County, New York">Genesee County, New York</option>
      <option value="Greene County, New York">Greene County, New York</option>
      <option value="Hamilton County, New York">Hamilton County, New York</option>
      <option value="Herkimer County, New York">Herkimer County, New York</option>
      <option value="Jefferson County, New York">Jefferson County, New York</option>
      <option value="Kings County, New York">Kings County, New York</option>
      <option value="Lewis County, New York">Lewis County, New York</option>
      <option value="Livingston County, New York">Livingston County, New York</option>
      <option value="Madison County, New York">Madison County, New York</option>
      <option value="Monroe County, New York">Monroe County, New York</option>
      <option value="Montgomery County, New York">Montgomery County, New York</option>
      <option value="Nassau County, New York">Nassau County, New York</option>
      <option value="New York County, New York">New York County, New York</option>
      <option value="Niagara County, New York">Niagara County, New York</option>
      <option value="Oneida County, New York">Oneida County, New York</option>
      <option value="Onondaga County, New York">Onondaga County, New York</option>
      <option value="Ontario County, New York">Ontario County, New York</option>
      <option value="Orange County, New York">Orange County, New York</option>
      <option value="Orleans County, New York">Orleans County, New York</option>
      <option value="Oswego County, New York">Oswego County, New York</option>
      <option value="Otsego County, New York">Otsego County, New York</option>
      <option value="Putnam County, New York">Putnam County, New York</option>
      <option value="Queens County, New York">Queens County, New York</option>
      <option value="Rensselaer County, New York">Rensselaer County, New York</option>
      <option value="Richmond County, New York">Richmond County, New York</option>
      <option value="Rockland County, New York">Rockland County, New York</option>
      <option value="Saratoga County, New York">Saratoga County, New York</option>
      <option value="Schenectady County, New York">Schenectady County, New York</option>
      <option value="Schoharie County, New York">Schoharie County, New York</option>
      <option value="Schuyler County, New York">Schuyler County, New York</option>
      <option value="Seneca County, New York">Seneca County, New York</option>
      <option value="St. Lawrence County, New York">St. Lawrence County, New York</option>
      <option value="Steuben County, New York">Steuben County, New York</option>
      <option value="Suffolk County, New York">Suffolk County, New York</option>
      <option value="Sullivan County, New York">Sullivan County, New York</option>
      <option value="Tioga County, New York">Tioga County, New York</option>
      <option value="Tompkins County, New York">Tompkins County, New York</option>
      <option value="Ulster County, New York">Ulster County, New York</option>
      <option value="Warren County, New York">Warren County, New York</option>
      <option value="Washington County, New York">Washington County, New York</option>
      <option value="Wayne County, New York">Wayne County, New York</option>
      <option value="Westchester County, New York">Westchester County, New York</option>
      <option value="Wyoming County, New York">Wyoming County, New York</option>
      <option value="Yates County, New York">Yates County, New York</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>  const data = {"Statewide":[47.3,12,40.7],"Albany County, New York":[47.8,10.6,41.6],"Allegany County, New York":[47.8,9.8,42.4],"Bronx County, New York":[46.2,14.1,39.7],"Broome County, New York":[46.7,9.7,43.6],"Cattaraugus County, New York":[48,13.1,39],"Cayuga County, New York":[45.7,20.4,33.8],"Chautauqua County, New York":[49.5,14.6,36],"Chemung County, New York":[43.7,23.1,33.3],"Chenango County, New York":[49.5,22.9,27.5],"Clinton County, New York":[47.4,11.2,41.4],"Columbia County, New York":[39.4,26.3,34.3],"Cortland County, New York":[49.1,6.3,44.5],"Delaware County, New York":[44.2,16.3,39.6],"Dutchess County, New York":[46.6,12.1,41.2],"Erie County, New York":[47.1,12.9,40.1],"Essex County, New York":[42.5,20.3,37.2],"Franklin County, New York":[43.2,26.1,30.7],"Fulton County, New York":[47,15.1,37.9],"Genesee County, New York":[45.5,17.4,37.1],"Greene County, New York":[42.3,28.6,29],"Hamilton County, New York":[43.5,20.7,35.8],"Herkimer County, New York":[43.7,22.4,33.8],"Jefferson County, New York":[44.4,30.3,25.2],"Kings County, New York":[47.1,12.1,40.8],"Lewis County, New York":[43.5,24.5,32],"Livingston County, New York":[47.8,9.3,42.9],"Madison County, New York":[47.8,9.8,42.3],"Monroe County, New York":[48.1,11.9,40.1],"Montgomery County, New York":[52.6,21.9,25.5],"Nassau County, New York":[48.7,8.2,43.1],"New York County, New York":[47.4,7.3,45.3],"Niagara County, New York":[44.9,17.5,37.6],"Oneida County, New York":[47.6,14.5,37.9],"Onondaga County, New York":[47.4,9.4,43.1],"Ontario County, New York":[49.3,11.2,39.6],"Orange County, New York":[47.7,14.4,37.9],"Orleans County, New York":[46.6,20.1,33.3],"Oswego County, New York":[47.1,12.6,40.3],"Otsego County, New York":[49.6,8.9,41.5],"Putnam County, New York":[47,12.1,40.8],"Queens County, New York":[47.4,11.2,41.4],"Rensselaer County, New York":[48.6,12,39.4],"Richmond County, New York":[47.4,9.4,43.2],"Rockland County, New York":[48.3,10.6,41.1],"Saratoga County, New York":[48.5,9.5,42],"Schenectady County, New York":[47,12,41.1],"Schoharie County, New York":[46.6,19.1,34.3],"Schuyler County, New York":[47.6,16.9,35.6],"Seneca County, New York":[42.9,30.4,26.7],"St. Lawrence County, New York":[46.1,16.8,37.1],"Steuben County, New York":[45.3,19.4,35.3],"Suffolk County, New York":[47.7,12.1,40.2],"Sullivan County, New York":[45.9,24.5,29.6],"Tioga County, New York":[47,21.6,31.4],"Tompkins County, New York":[49.2,7.2,43.7],"Ulster County, New York":[45.7,14.2,40.1],"Warren County, New York":[47.4,14.8,37.8],"Washington County, New York":[43.1,24.2,32.7],"Wayne County, New York":[48.2,15.9,35.9],"Westchester County, New York":[47.6,8.9,43.5],"Wyoming County, New York":[48.3,20,31.7],"Yates County, New York":[47.9,16.6,35.5]};
  const nationalAvg = [6.9,55,38.1];
  const categories = ["Enrolled in College","Enrolled in Other School","Not Enrolled"];
  const ctx = document.getElementById("barChart").getContext("2d");
  let chart;

  function renderChart(values) {
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: categories,
        datasets: [
          {
            label: "County/State",
            data: values,
            backgroundColor: ["#66c2a5", "#fc8d62", "#8da0cb"]
          },
          {
            label: null,
            data: categories.map(c => nationalAvg[c]),
            type: "line",
            borderColor: "black",
            borderWidth: 2,
            pointRadius: 0,
            fill: false
          }
        ]
      },
      options: {
        indexAxis: "y",
        scales: {
          x: {
            min: 0,
            max: 100,
            ticks: {
              callback: v => v + "%"
            }
          }
        },
        plugins: {
          legend: {
            labels: {
              filter: item => item.text !== null
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label ? ctx.dataset.label + ": " + ctx.raw + "%" : null
            }
          }
        }
      }
    });
  }

  document.getElementById("countySelect").addEventListener("change", function() {
    renderChart(Object.values(data[this.value]));
  });

  renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
