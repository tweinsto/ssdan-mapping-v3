<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Age Pyramid â€“  Kentucky</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
      body {
        font-family: sans-serif;
        margin: 1rem 2rem;
        text-align: center;
      }
      h2 {
        margin-bottom: 0.25rem;
        font-size: 1.6rem;
      }
      select {
        padding: 0.4rem;
        font-size: 1rem;
        margin: 1rem 0;
        border-radius: 5px;
        border: 1px solid #999;
      }
      canvas {
        width: 100%;
        max-width: 850px;
        height: 500px;
        margin-top: 1rem;
      }
    </style>
</head>
<html>
  <body>
    <h2>Age Distribution in  Kentucky (2023)</h2>
    <label>Select County:</label>
          <select id="countySelect">
        <option value='Statewide'>Statewide</option>
<option value='Adair County, Kentucky'>Adair County, Kentucky</option>
<option value='Allen County, Kentucky'>Allen County, Kentucky</option>
<option value='Anderson County, Kentucky'>Anderson County, Kentucky</option>
<option value='Ballard County, Kentucky'>Ballard County, Kentucky</option>
<option value='Barren County, Kentucky'>Barren County, Kentucky</option>
<option value='Bath County, Kentucky'>Bath County, Kentucky</option>
<option value='Bell County, Kentucky'>Bell County, Kentucky</option>
<option value='Boone County, Kentucky'>Boone County, Kentucky</option>
<option value='Bourbon County, Kentucky'>Bourbon County, Kentucky</option>
<option value='Boyd County, Kentucky'>Boyd County, Kentucky</option>
<option value='Boyle County, Kentucky'>Boyle County, Kentucky</option>
<option value='Bracken County, Kentucky'>Bracken County, Kentucky</option>
<option value='Breathitt County, Kentucky'>Breathitt County, Kentucky</option>
<option value='Breckinridge County, Kentucky'>Breckinridge County, Kentucky</option>
<option value='Bullitt County, Kentucky'>Bullitt County, Kentucky</option>
<option value='Butler County, Kentucky'>Butler County, Kentucky</option>
<option value='Caldwell County, Kentucky'>Caldwell County, Kentucky</option>
<option value='Calloway County, Kentucky'>Calloway County, Kentucky</option>
<option value='Campbell County, Kentucky'>Campbell County, Kentucky</option>
<option value='Carlisle County, Kentucky'>Carlisle County, Kentucky</option>
<option value='Carroll County, Kentucky'>Carroll County, Kentucky</option>
<option value='Carter County, Kentucky'>Carter County, Kentucky</option>
<option value='Casey County, Kentucky'>Casey County, Kentucky</option>
<option value='Christian County, Kentucky'>Christian County, Kentucky</option>
<option value='Clark County, Kentucky'>Clark County, Kentucky</option>
<option value='Clay County, Kentucky'>Clay County, Kentucky</option>
<option value='Clinton County, Kentucky'>Clinton County, Kentucky</option>
<option value='Crittenden County, Kentucky'>Crittenden County, Kentucky</option>
<option value='Cumberland County, Kentucky'>Cumberland County, Kentucky</option>
<option value='Daviess County, Kentucky'>Daviess County, Kentucky</option>
<option value='Edmonson County, Kentucky'>Edmonson County, Kentucky</option>
<option value='Elliott County, Kentucky'>Elliott County, Kentucky</option>
<option value='Estill County, Kentucky'>Estill County, Kentucky</option>
<option value='Fayette County, Kentucky'>Fayette County, Kentucky</option>
<option value='Fleming County, Kentucky'>Fleming County, Kentucky</option>
<option value='Floyd County, Kentucky'>Floyd County, Kentucky</option>
<option value='Franklin County, Kentucky'>Franklin County, Kentucky</option>
<option value='Fulton County, Kentucky'>Fulton County, Kentucky</option>
<option value='Gallatin County, Kentucky'>Gallatin County, Kentucky</option>
<option value='Garrard County, Kentucky'>Garrard County, Kentucky</option>
<option value='Grant County, Kentucky'>Grant County, Kentucky</option>
<option value='Graves County, Kentucky'>Graves County, Kentucky</option>
<option value='Grayson County, Kentucky'>Grayson County, Kentucky</option>
<option value='Green County, Kentucky'>Green County, Kentucky</option>
<option value='Greenup County, Kentucky'>Greenup County, Kentucky</option>
<option value='Hancock County, Kentucky'>Hancock County, Kentucky</option>
<option value='Hardin County, Kentucky'>Hardin County, Kentucky</option>
<option value='Harlan County, Kentucky'>Harlan County, Kentucky</option>
<option value='Harrison County, Kentucky'>Harrison County, Kentucky</option>
<option value='Hart County, Kentucky'>Hart County, Kentucky</option>
<option value='Henderson County, Kentucky'>Henderson County, Kentucky</option>
<option value='Henry County, Kentucky'>Henry County, Kentucky</option>
<option value='Hickman County, Kentucky'>Hickman County, Kentucky</option>
<option value='Hopkins County, Kentucky'>Hopkins County, Kentucky</option>
<option value='Jackson County, Kentucky'>Jackson County, Kentucky</option>
<option value='Jefferson County, Kentucky'>Jefferson County, Kentucky</option>
<option value='Jessamine County, Kentucky'>Jessamine County, Kentucky</option>
<option value='Johnson County, Kentucky'>Johnson County, Kentucky</option>
<option value='Kenton County, Kentucky'>Kenton County, Kentucky</option>
<option value='Knott County, Kentucky'>Knott County, Kentucky</option>
<option value='Knox County, Kentucky'>Knox County, Kentucky</option>
<option value='Larue County, Kentucky'>Larue County, Kentucky</option>
<option value='Laurel County, Kentucky'>Laurel County, Kentucky</option>
<option value='Lawrence County, Kentucky'>Lawrence County, Kentucky</option>
<option value='Lee County, Kentucky'>Lee County, Kentucky</option>
<option value='Leslie County, Kentucky'>Leslie County, Kentucky</option>
<option value='Letcher County, Kentucky'>Letcher County, Kentucky</option>
<option value='Lewis County, Kentucky'>Lewis County, Kentucky</option>
<option value='Lincoln County, Kentucky'>Lincoln County, Kentucky</option>
<option value='Livingston County, Kentucky'>Livingston County, Kentucky</option>
<option value='Logan County, Kentucky'>Logan County, Kentucky</option>
<option value='Lyon County, Kentucky'>Lyon County, Kentucky</option>
<option value='Madison County, Kentucky'>Madison County, Kentucky</option>
<option value='Magoffin County, Kentucky'>Magoffin County, Kentucky</option>
<option value='Marion County, Kentucky'>Marion County, Kentucky</option>
<option value='Marshall County, Kentucky'>Marshall County, Kentucky</option>
<option value='Martin County, Kentucky'>Martin County, Kentucky</option>
<option value='Mason County, Kentucky'>Mason County, Kentucky</option>
<option value='McCracken County, Kentucky'>McCracken County, Kentucky</option>
<option value='McCreary County, Kentucky'>McCreary County, Kentucky</option>
<option value='McLean County, Kentucky'>McLean County, Kentucky</option>
<option value='Meade County, Kentucky'>Meade County, Kentucky</option>
<option value='Menifee County, Kentucky'>Menifee County, Kentucky</option>
<option value='Mercer County, Kentucky'>Mercer County, Kentucky</option>
<option value='Metcalfe County, Kentucky'>Metcalfe County, Kentucky</option>
<option value='Monroe County, Kentucky'>Monroe County, Kentucky</option>
<option value='Montgomery County, Kentucky'>Montgomery County, Kentucky</option>
<option value='Morgan County, Kentucky'>Morgan County, Kentucky</option>
<option value='Muhlenberg County, Kentucky'>Muhlenberg County, Kentucky</option>
<option value='Nelson County, Kentucky'>Nelson County, Kentucky</option>
<option value='Nicholas County, Kentucky'>Nicholas County, Kentucky</option>
<option value='Ohio County, Kentucky'>Ohio County, Kentucky</option>
<option value='Oldham County, Kentucky'>Oldham County, Kentucky</option>
<option value='Owen County, Kentucky'>Owen County, Kentucky</option>
<option value='Owsley County, Kentucky'>Owsley County, Kentucky</option>
<option value='Pendleton County, Kentucky'>Pendleton County, Kentucky</option>
<option value='Perry County, Kentucky'>Perry County, Kentucky</option>
<option value='Pike County, Kentucky'>Pike County, Kentucky</option>
<option value='Powell County, Kentucky'>Powell County, Kentucky</option>
<option value='Pulaski County, Kentucky'>Pulaski County, Kentucky</option>
<option value='Robertson County, Kentucky'>Robertson County, Kentucky</option>
<option value='Rockcastle County, Kentucky'>Rockcastle County, Kentucky</option>
<option value='Rowan County, Kentucky'>Rowan County, Kentucky</option>
<option value='Russell County, Kentucky'>Russell County, Kentucky</option>
<option value='Scott County, Kentucky'>Scott County, Kentucky</option>
<option value='Shelby County, Kentucky'>Shelby County, Kentucky</option>
<option value='Simpson County, Kentucky'>Simpson County, Kentucky</option>
<option value='Spencer County, Kentucky'>Spencer County, Kentucky</option>
<option value='Taylor County, Kentucky'>Taylor County, Kentucky</option>
<option value='Todd County, Kentucky'>Todd County, Kentucky</option>
<option value='Trigg County, Kentucky'>Trigg County, Kentucky</option>
<option value='Trimble County, Kentucky'>Trimble County, Kentucky</option>
<option value='Union County, Kentucky'>Union County, Kentucky</option>
<option value='Warren County, Kentucky'>Warren County, Kentucky</option>
<option value='Washington County, Kentucky'>Washington County, Kentucky</option>
<option value='Wayne County, Kentucky'>Wayne County, Kentucky</option>
<option value='Webster County, Kentucky'>Webster County, Kentucky</option>
<option value='Whitley County, Kentucky'>Whitley County, Kentucky</option>
<option value='Wolfe County, Kentucky'>Wolfe County, Kentucky</option>
<option value='Woodford County, Kentucky'>Woodford County, Kentucky</option>
      </select>
    <canvas id="barChart" width="850" height="500"></canvas>
    <script>  const ageData = {"Statewide":[-3,2.9,-3.3,3.2,-2,1.9,-3.2,3],"Adair County, Kentucky":[-2.5,2.2,-3.4,2.5,-3,2.8,-1.9,1.6],"Allen County, Kentucky":[-3.1,2.8,-3.8,3.5,-2.5,3.6,-1.9,1.9],"Anderson County, Kentucky":[-3.3,2.6,-3.9,3.4,-2.7,3.2,-2.4,1.8],"Ballard County, Kentucky":[-2.2,2.1,-4.1,3.2,-2.1,2.5,-2,1.8],"Barren County, Kentucky":[-3.1,2.9,-3.7,3,-3.3,3.7,-2.1,2.1],"Bath County, Kentucky":[-3.5,3.2,-4.5,3.5,-3.1,3.4,-2.4,2],"Bell County, Kentucky":[-2.9,3.1,-3.2,2.3,-3.2,3.2,-2.2,1.7],"Boone County, Kentucky":[-3.4,3,-4,3.7,-3.5,3.5,-2.2,2.5],"Bourbon County, Kentucky":[-3.6,2.6,-3.3,2.3,-4,3.7,-1.7,1.7],"Boyd County, Kentucky":[-2.8,2.4,-3.1,3.1,-2.9,2.9,-2.1,1.8],"Boyle County, Kentucky":[-2.5,2.5,-3.4,2.8,-3.1,3,-1.9,1.4],"Bracken County, Kentucky":[-2.8,3.1,-4.1,2.9,-2.8,3.3,-2.5,2.1],"Breathitt County, Kentucky":[-3,2.7,-2.7,2.9,-3.2,2.5,-1.9,2],"Breckinridge County, Kentucky":[-3.1,2.7,-3.2,2.8,-3.5,3.2,-2.1,1.9],"Bullitt County, Kentucky":[-2.7,2.4,-3.6,2.9,-2.7,3.1,-2.1,1.9],"Butler County, Kentucky":[-3.1,2.9,-3.5,3.5,-3.6,2.6,-2.3,1.7],"Caldwell County, Kentucky":[-3.1,2.6,-2.7,2.2,-3.8,4.5,-1.5,2.6],"Calloway County, Kentucky":[-2.1,2.3,-2.6,2.5,-2.8,2.9,-1.6,1.5],"Campbell County, Kentucky":[-2.8,2.7,-3.4,3.2,-2.5,2.7,-1.8,1.6],"Carlisle County, Kentucky":[-3,2.9,-4.3,3.2,-3.2,3,-2.1,1.8],"Carroll County, Kentucky":[-3.2,3.2,-3.4,4.1,-3.5,4,-3,2.1],"Carter County, Kentucky":[-2.9,2.9,-3.3,2.1,-3,4,-2.2,2],"Casey County, Kentucky":[-3.1,3.5,-3,3.2,-4,2.9,-2,1.8],"Christian County, Kentucky":[-4.9,4.6,-4.6,3.9,-3,3.3,-1.9,1.8],"Clark County, Kentucky":[-3.1,2.5,-2.8,3.2,-3.5,3.3,-2.1,2.1],"Clay County, Kentucky":[-2.8,2.9,-2.2,2.3,-3.5,3.6,-1.8,1.7],"Clinton County, Kentucky":[-3.2,2.5,-2.4,1.9,-3.2,4.3,-2.1,1.9],"Crittenden County, Kentucky":[-2.5,2.7,-2.4,2.6,-4.8,3.2,-2.4,1.9],"Cumberland County, Kentucky":[-4,2.2,-3.4,4.7,-3.1,2.1,-1.6,0.9],"Daviess County, Kentucky":[-3.2,3.2,-3.7,3.8,-3.5,3,-2,2.2],"Edmonson County, Kentucky":[-2.2,2.1,-1.8,3.4,-3.8,2.3,-1.7,1.6],"Elliott County, Kentucky":[-2.4,1.4,-2,3.1,-3.1,1.6,-0.9,2.1],"Estill County, Kentucky":[-2.7,2.3,-3.6,3,-2.8,2.7,-2.3,1.9],"Fayette County, Kentucky":[-2.9,2.8,-3.1,2.8,-2.9,3,-1.8,1.8],"Fleming County, Kentucky":[-3.2,3.6,-3.9,3.6,-2.7,2.8,-2.3,1.9],"Floyd County, Kentucky":[-2.9,2.7,-2.9,3.4,-3.5,2.6,-2.2,1.8],"Franklin County, Kentucky":[-2.9,2.6,-2.6,2.5,-3.4,3.2,-1.8,2],"Fulton County, Kentucky":[-2.3,2.5,-3.9,3.3,-3.6,2.9,-2,1.3],"Gallatin County, Kentucky":[-3.1,2.4,-2.5,3.7,-4.4,2.4,-1.9,1.9],"Garrard County, Kentucky":[-2.8,2.6,-3.6,2.7,-2.7,3.6,-2.3,1.7],"Grant County, Kentucky":[-3.4,3.4,-3.8,2.9,-3.9,4.3,-2.5,2.5],"Graves County, Kentucky":[-3.4,3.3,-3.8,3,-3.2,3.7,-2,1.9],"Grayson County, Kentucky":[-3.2,3.2,-2.7,2.9,-3.7,3.6,-2.3,2],"Green County, Kentucky":[-2.8,2.7,-2,4,-4.1,2,-1.8,1.6],"Greenup County, Kentucky":[-2.5,2.3,-3.5,3.3,-3,2.7,-2.2,1.9],"Hancock County, Kentucky":[-3.2,2.6,-3.8,3.4,-3.5,3,-1.6,3.1],"Hardin County, Kentucky":[-3.2,3.2,-3.3,3.7,-4,3.2,-1.9,2.3],"Harlan County, Kentucky":[-2.8,3.1,-3.1,3.1,-3.6,3.7,-2.2,2],"Harrison County, Kentucky":[-3.5,3.2,-3.1,2.6,-2.9,3.8,-2.1,1.9],"Hart County, Kentucky":[-3.3,3.3,-2.3,3.4,-4.5,3.3,-2.4,1.9],"Henderson County, Kentucky":[-3,2.6,-3.1,2.6,-3.7,3.7,-2,2.1],"Henry County, Kentucky":[-2.9,2.7,-3.5,2.9,-3.3,3.6,-2.5,2],"Hickman County, Kentucky":[-1.9,2.3,-2.3,1.6,-3.5,3.7,-2.3,2.3],"Hopkins County, Kentucky":[-2.5,3.4,-3.4,2.9,-3.1,3.6,-2.3,1.8],"Jackson County, Kentucky":[-3.1,2.9,-4,2.2,-2.9,4.2,-1.6,2.5],"Jefferson County, Kentucky":[-3.1,3,-3,2.8,-3.3,3.2,-1.9,1.9],"Jessamine County, Kentucky":[-3.3,2.8,-3.4,3.5,-3.5,3.3,-2,2],"Johnson County, Kentucky":[-2.8,2.5,-4,3.3,-2.7,2.8,-2.2,2],"Kenton County, Kentucky":[-3.2,3.1,-3.6,2.9,-3.1,3.5,-2.1,1.9],"Knott County, Kentucky":[-2.3,2.4,-3.5,2.8,-2.4,3,-2,1.7],"Knox County, Kentucky":[-3.1,3.1,-3.5,3.4,-2.9,3.6,-2.1,1.9],"Larue County, Kentucky":[-2.6,2.7,-2.4,2.5,-4.4,4,-2.2,1.8],"Laurel County, Kentucky":[-3,2.9,-3.6,3.8,-3.2,2.5,-2,2],"Lawrence County, Kentucky":[-3.3,3,-2.5,1.8,-4.6,4.6,-2.1,1.9],"Lee County, Kentucky":[-2.1,2.8,-3.6,1.7,-2.5,3,-2.5,0.5],"Leslie County, Kentucky":[-2.4,2.7,-2.5,2.4,-3.9,3.3,-2.1,2],"Letcher County, Kentucky":[-2.7,2.4,-2.3,2.2,-4.4,3.7,-2.1,1.8],"Lewis County, Kentucky":[-3,2.9,-2.4,3.5,-4.4,2.9,-2.1,1.9],"Lincoln County, Kentucky":[-3.3,3.2,-3.3,2.9,-3.5,3.5,-2,2],"Livingston County, Kentucky":[-2.6,2.6,-4.2,2,-2.4,3.7,-2.2,1.8],"Logan County, Kentucky":[-3.3,3.2,-3.3,3.9,-3.4,2.7,-2.1,2.1],"Lyon County, Kentucky":[-2.4,0.8,-2,0.9,-2.1,2.6,-1.4,1.6],"McCracken County, Kentucky":[-2.8,3,-3.4,2.9,-3,3.3,-1.8,1.9],"McCreary County, Kentucky":[-2.8,2.8,-3.1,3.4,-3.3,2.7,-2,1.7],"McLean County, Kentucky":[-2.7,2.7,-3.4,2.7,-3.3,3.6,-2.7,2.1],"Madison County, Kentucky":[-2.9,2.7,-3,2.6,-3.2,3.1,-2,1.7],"Magoffin County, Kentucky":[-3.2,2.9,-3.7,2.4,-2.9,3.5,-2.1,2],"Marion County, Kentucky":[-3.2,3.2,-2.3,3.2,-4.5,3.3,-2.1,2.2],"Marshall County, Kentucky":[-2.5,2.4,-3.3,3.3,-2.9,2.1,-2,1.9],"Martin County, Kentucky":[-2.5,2.4,-1.8,1.9,-3.9,3.4,-2,1.6],"Mason County, Kentucky":[-2.7,3.1,-4.1,3.4,-2.7,2.6,-2.2,1.9],"Meade County, Kentucky":[-2.6,2.6,-3.4,3.4,-3.3,3.3,-1.9,1.7],"Menifee County, Kentucky":[-3,2.9,-3.7,1.8,-2.3,3.4,-1.1,2.8],"Mercer County, Kentucky":[-3.5,2.8,-3.6,3.8,-2.6,2.1,-2.2,1.7],"Metcalfe County, Kentucky":[-2.8,2.9,-3.6,3.5,-3.3,3.3,-2.6,1.6],"Monroe County, Kentucky":[-3.2,2.7,-3.9,2.9,-3.3,3.6,-2.1,1.8],"Montgomery County, Kentucky":[-2.8,2.7,-3.6,3.2,-3.7,3.3,-2.1,2],"Morgan County, Kentucky":[-3,2.7,-3,2.4,-3.2,1.9,-1.8,1.8],"Muhlenberg County, Kentucky":[-2.9,2.6,-2.9,2.9,-3.3,2.4,-2,1.9],"Nelson County, Kentucky":[-3.3,2.7,-3.4,3.3,-3.6,2.8,-2.4,1.9],"Nicholas County, Kentucky":[-2.9,2.8,-3.4,1.6,-3.3,6.1,-2.1,2],"Ohio County, Kentucky":[-2.7,3,-2.9,3.3,-3.8,3.9,-2.5,2],"Oldham County, Kentucky":[-2.6,2.4,-3.7,3.7,-4,3.8,-2.5,2.5],"Owen County, Kentucky":[-2.9,2.5,-2.7,3.4,-4.3,2.3,-2.1,2],"Owsley County, Kentucky":[-5,2.3,-2,0.8,-3.9,1.5,-3,0.2],"Pendleton County, Kentucky":[-3.1,2.6,-2.5,3.1,-4.3,3,-2.5,2.1],"Perry County, Kentucky":[-3.1,2.9,-2.9,1.9,-4,4.5,-2.2,1.9],"Pike County, Kentucky":[-2.5,2.7,-3.3,2.5,-2.4,3.3,-2.1,1.8],"Powell County, Kentucky":[-3.2,2.8,-3.3,3.2,-4,3.5,-2.2,2.4],"Pulaski County, Kentucky":[-3,2.7,-2.4,3,-4,3,-2,1.9],"Robertson County, Kentucky":[-0.9,2.5,-2.6,8.7,-3.3,4.6,-1.2,4.2],"Rockcastle County, Kentucky":[-2.8,2.6,-2.7,3.1,-3.3,2.8,-2,2.2],"Rowan County, Kentucky":[-2.7,2.7,-2,2.7,-3.5,2.6,-1.7,1.8],"Russell County, Kentucky":[-3,2.7,-3.2,3.2,-3.9,3.1,-2.1,1.9],"Scott County, Kentucky":[-3.1,3.1,-3.4,3.5,-3.6,3.6,-2.1,2.1],"Shelby County, Kentucky":[-3.3,2.5,-3.1,3.5,-3.6,2.6,-1.9,1.8],"Simpson County, Kentucky":[-3,2.8,-4.5,3.5,-2.9,3,-1.9,1.9],"Spencer County, Kentucky":[-2.7,2.5,-3.4,2.4,-3.6,3.8,-2.1,2],"Taylor County, Kentucky":[-3.1,2.8,-3.5,3,-3.3,3.4,-1.9,1.9],"Todd County, Kentucky":[-3.6,3.6,-4,3.5,-4,3.2,-2.6,2.5],"Trigg County, Kentucky":[-3.1,2.5,-3.7,2.5,-2.3,3.8,-2.1,1.8],"Trimble County, Kentucky":[-2.5,2.6,-3.8,2.5,-2.2,4.4,-2.6,1.4],"Union County, Kentucky":[-2.5,2.9,-2.4,3,-3.2,1.5,-2.4,1.5],"Warren County, Kentucky":[-3.3,3.2,-3.2,3.2,-3.4,3.3,-2,2],"Washington County, Kentucky":[-3.3,2.7,-3.1,3.3,-3.9,3,-2,2.1],"Wayne County, Kentucky":[-2.8,2.8,-2.5,2.3,-3.1,3.2,-2.3,1.6],"Webster County, Kentucky":[-3,3.2,-3.7,3.6,-3.3,3,-1.9,2.1],"Whitley County, Kentucky":[-3.6,3.4,-3.4,3.2,-4.4,3.8,-2.2,2.1],"Wolfe County, Kentucky":[-3.5,2.7,-2.4,3.7,-3.7,3.5,-2.9,0.4],"Woodford County, Kentucky":[-2.7,2.9,-2.9,3.3,-3.1,3.2,-1.9,1.9]};
  const ageBins = ["0â€“4","5â€“9","10â€“14","15â€“17"];
  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    const maleData = data.filter((_, i) => i % 2 === 0);
    const femaleData = data.filter((_, i) => i % 2 === 1);

    const maxValue = Math.max(
      ...maleData.map(Math.abs),
      ...femaleData.map(Math.abs)
    );
    const padding = 1.0;
    const xMax = +(maxValue + padding).toFixed(1);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ageBins,
        datasets: [
          {
            label: 'Male',
            data: maleData,
            backgroundColor: 'darkslategray'
          },
          {
            label: 'Female',
            data: femaleData,
            backgroundColor: 'darkorange'
          }
        ]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        scales: {
          x: {
            min: -xMax,
            max: xMax,
            ticks: {
              callback: value => Math.abs(value).toFixed(1) + '%'
            }
          },
          y: {
            stacked: false
          }
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              usePointStyle: true
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + Math.abs(ctx.parsed.x).toFixed(1) + '%'
            }
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(ageData[this.value]));
  });

  renderChart(Object.values(ageData['Statewide']));</script>
  </body>
</html>
</html>
