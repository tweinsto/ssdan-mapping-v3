<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>


</head>
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Industry Composition â€“ 01</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: sans-serif;
      background: #fff;
    }
    .container {
      width: 95%;
      max-width: 1200px;
      margin: auto;
      text-align: center;
    }
    canvas {
  max-width: 100%;
}
    #countySelect {
      font-size: 1rem;
      padding: 0.5rem;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Industry Composition (Percent)</h2>
    <select id="countySelect"></select>
    <canvas id="pieChart"></canvas>
  </div>

  <script>
    const data = {"Statewide":{"Agriculture & mining":1.3,"Arts & food services":8.1,"Construction":7,"Education & health":22.6,"Finance & real estate":5.6,"Information":1.2,"Manufacturing":14.2,"Other services":4.8,"Prof. & waste services":10,"Public administration":5.5,"Retail trade":11.6,"Transport & utilities":5.8,"Wholesale trade":2.2},"Autauga County":{"Agriculture & mining":1,"Arts & food services":10.1,"Construction":7.2,"Education & health":19,"Finance & real estate":5.8,"Information":1.3,"Manufacturing":11.7,"Other services":3.7,"Prof. & waste services":9.1,"Public administration":10.3,"Retail trade":12.2,"Transport & utilities":5.7,"Wholesale trade":2.9},"Baldwin County":{"Agriculture & mining":1.7,"Arts & food services":10.1,"Construction":8.2,"Education & health":19.3,"Finance & real estate":7.1,"Information":0.9,"Manufacturing":9.8,"Other services":4.9,"Prof. & waste services":11.8,"Public administration":4.6,"Retail trade":14.6,"Transport & utilities":4.9,"Wholesale trade":2},"Barbour County":{"Agriculture & mining":4.2,"Arts & food services":8.6,"Construction":5.3,"Education & health":21.4,"Finance & real estate":3.5,"Information":0.5,"Manufacturing":22.7,"Other services":3,"Prof. & waste services":5.2,"Public administration":8.2,"Retail trade":10,"Transport & utilities":6.8,"Wholesale trade":0.6},"Bibb County":{"Agriculture & mining":2.7,"Arts & food services":3.4,"Construction":10.2,"Education & health":20.1,"Finance & real estate":5.9,"Information":0.8,"Manufacturing":16.3,"Other services":5.5,"Prof. & waste services":8.3,"Public administration":4.7,"Retail trade":13.5,"Transport & utilities":5.7,"Wholesale trade":2.9},"Blount County":{"Agriculture & mining":2.2,"Arts & food services":5.9,"Construction":9.3,"Education & health":19.6,"Finance & real estate":4.8,"Information":0.9,"Manufacturing":16.4,"Other services":5.3,"Prof. & waste services":7.8,"Public administration":3.6,"Retail trade":13.2,"Transport & utilities":7.7,"Wholesale trade":3.3},"Bullock County":{"Agriculture & mining":2.5,"Arts & food services":5.2,"Construction":3.9,"Education & health":13.4,"Finance & real estate":5.4,"Information":1.5,"Manufacturing":36,"Other services":3.7,"Prof. & waste services":3.3,"Public administration":8.8,"Retail trade":10.6,"Transport & utilities":3.9,"Wholesale trade":1.8},"Butler County":{"Agriculture & mining":3.3,"Arts & food services":10.7,"Construction":4.5,"Education & health":18.4,"Finance & real estate":6,"Information":0.7,"Manufacturing":20.3,"Other services":5.4,"Prof. & waste services":7.4,"Public administration":3.8,"Retail trade":11.8,"Transport & utilities":5.5,"Wholesale trade":2.1},"Calhoun County":{"Agriculture & mining":0.9,"Arts & food services":9,"Construction":4.7,"Education & health":23.2,"Finance & real estate":3.6,"Information":1,"Manufacturing":19.3,"Other services":3.8,"Prof. & waste services":7.8,"Public administration":7.3,"Retail trade":12.4,"Transport & utilities":4.8,"Wholesale trade":2.3},"Chambers County":{"Agriculture & mining":1.7,"Arts & food services":7.6,"Construction":5.5,"Education & health":21,"Finance & real estate":3.6,"Information":1.2,"Manufacturing":29.9,"Other services":4.3,"Prof. & waste services":7.2,"Public administration":3.4,"Retail trade":8.9,"Transport & utilities":4.5,"Wholesale trade":1.1},"Cherokee County":{"Agriculture & mining":2,"Arts & food services":6.7,"Construction":7.7,"Education & health":25.9,"Finance & real estate":3.2,"Information":0.8,"Manufacturing":18.5,"Other services":5.5,"Prof. & waste services":3.1,"Public administration":6.2,"Retail trade":11.2,"Transport & utilities":7.8,"Wholesale trade":1.3},"Chilton County":{"Agriculture & mining":3.1,"Arts & food services":6.3,"Construction":15.5,"Education & health":18.9,"Finance & real estate":5.1,"Information":1,"Manufacturing":13.9,"Other services":5.4,"Prof. & waste services":5.3,"Public administration":4.6,"Retail trade":12.8,"Transport & utilities":5.5,"Wholesale trade":2.7},"Choctaw County":{"Agriculture & mining":3.3,"Arts & food services":5.8,"Construction":12.9,"Education & health":21.6,"Finance & real estate":4.6,"Information":0.7,"Manufacturing":20.2,"Other services":2.7,"Prof. & waste services":3.1,"Public administration":4.8,"Retail trade":10.3,"Transport & utilities":8.6,"Wholesale trade":1.3},"Clarke County":{"Agriculture & mining":3.9,"Arts & food services":5.2,"Construction":6.8,"Education & health":20.7,"Finance & real estate":6.6,"Information":0.5,"Manufacturing":16.5,"Other services":5.2,"Prof. & waste services":5.3,"Public administration":3.8,"Retail trade":15,"Transport & utilities":10.2,"Wholesale trade":0.3},"Clay County":{"Agriculture & mining":1,"Arts & food services":4.2,"Construction":12.4,"Education & health":15.9,"Finance & real estate":4.3,"Information":1.4,"Manufacturing":30.3,"Other services":5.2,"Prof. & waste services":5.4,"Public administration":4.2,"Retail trade":7.8,"Transport & utilities":6.7,"Wholesale trade":1.2},"Cleburne County":{"Agriculture & mining":1.6,"Arts & food services":7.3,"Construction":12.8,"Education & health":18,"Finance & real estate":3.4,"Information":0.5,"Manufacturing":19.1,"Other services":6.5,"Prof. & waste services":6.1,"Public administration":5.5,"Retail trade":9.1,"Transport & utilities":6.2,"Wholesale trade":3.8},"Coffee County":{"Agriculture & mining":2.2,"Arts & food services":9.1,"Construction":4.9,"Education & health":21,"Finance & real estate":4.6,"Information":0.8,"Manufacturing":10,"Other services":4.7,"Prof. & waste services":8.8,"Public administration":8.4,"Retail trade":11.8,"Transport & utilities":11.4,"Wholesale trade":2.3},"Colbert County":{"Agriculture & mining":1.7,"Arts & food services":9,"Construction":7.6,"Education & health":21.6,"Finance & real estate":3.6,"Information":1.1,"Manufacturing":18.4,"Other services":6.2,"Prof. & waste services":7.6,"Public administration":4.4,"Retail trade":10.1,"Transport & utilities":5.8,"Wholesale trade":2.9},"Conecuh County":{"Agriculture & mining":4.3,"Arts & food services":7.3,"Construction":6.5,"Education & health":17.5,"Finance & real estate":4.2,"Information":0.1,"Manufacturing":23.8,"Other services":4.8,"Prof. & waste services":6.8,"Public administration":4.2,"Retail trade":11.3,"Transport & utilities":8,"Wholesale trade":1.3},"Coosa County":{"Agriculture & mining":3.7,"Arts & food services":7.9,"Construction":7,"Education & health":19.5,"Finance & real estate":5,"Information":0.1,"Manufacturing":21.7,"Other services":6.9,"Prof. & waste services":3.5,"Public administration":3.8,"Retail trade":12.4,"Transport & utilities":7,"Wholesale trade":1.5},"Covington County":{"Agriculture & mining":5.2,"Arts & food services":6.1,"Construction":7.4,"Education & health":23.1,"Finance & real estate":4.1,"Information":1,"Manufacturing":14.1,"Other services":4.3,"Prof. & waste services":6.9,"Public administration":5,"Retail trade":12.4,"Transport & utilities":7.7,"Wholesale trade":2.7},"Crenshaw County":{"Agriculture & mining":6.4,"Arts & food services":4.6,"Construction":6.7,"Education & health":18.3,"Finance & real estate":4.2,"Information":0.6,"Manufacturing":23.9,"Other services":3.8,"Prof. & waste services":6.8,"Public administration":6,"Retail trade":9.1,"Transport & utilities":8.3,"Wholesale trade":1.5},"Cullman County":{"Agriculture & mining":2,"Arts & food services":7.4,"Construction":9.9,"Education & health":21.2,"Finance & real estate":4.4,"Information":0.8,"Manufacturing":15.4,"Other services":5.6,"Prof. & waste services":7.1,"Public administration":4.6,"Retail trade":12.9,"Transport & utilities":6.9,"Wholesale trade":1.8},"Dale County":{"Agriculture & mining":2,"Arts & food services":10.5,"Construction":6.7,"Education & health":21.5,"Finance & real estate":3.1,"Information":0.4,"Manufacturing":10.2,"Other services":4.9,"Prof. & waste services":7.9,"Public administration":7.1,"Retail trade":14.6,"Transport & utilities":9.9,"Wholesale trade":1.3},"Dallas County":{"Agriculture & mining":2.6,"Arts & food services":6.9,"Construction":4.9,"Education & health":19.7,"Finance & real estate":6.4,"Information":1.4,"Manufacturing":20.6,"Other services":5.6,"Prof. & waste services":8.9,"Public administration":5.2,"Retail trade":10.9,"Transport & utilities":4.9,"Wholesale trade":2},"DeKalb County":{"Agriculture & mining":2.7,"Arts & food services":6.5,"Construction":8.1,"Education & health":19.2,"Finance & real estate":3.9,"Information":2.1,"Manufacturing":24.2,"Other services":6.8,"Prof. & waste services":6.1,"Public administration":3,"Retail trade":9.3,"Transport & utilities":6.3,"Wholesale trade":1.9},"Elmore County":{"Agriculture & mining":0.6,"Arts & food services":8.7,"Construction":6.8,"Education & health":22.1,"Finance & real estate":6.4,"Information":0.6,"Manufacturing":11,"Other services":4.2,"Prof. & waste services":9,"Public administration":11.4,"Retail trade":11.8,"Transport & utilities":4.8,"Wholesale trade":2.7},"Escambia County":{"Agriculture & mining":2.3,"Arts & food services":11.7,"Construction":7.4,"Education & health":17.6,"Finance & real estate":3.2,"Information":0.9,"Manufacturing":16.8,"Other services":7.9,"Prof. & waste services":4,"Public administration":7.9,"Retail trade":15,"Transport & utilities":3.8,"Wholesale trade":1.5},"Etowah County":{"Agriculture & mining":1,"Arts & food services":8.4,"Construction":7.3,"Education & health":23.9,"Finance & real estate":3.8,"Information":1,"Manufacturing":17.7,"Other services":5.9,"Prof. & waste services":6,"Public administration":4.6,"Retail trade":13.6,"Transport & utilities":4.4,"Wholesale trade":2.4},"Fayette County":{"Agriculture & mining":1.6,"Arts & food services":6.3,"Construction":5.6,"Education & health":24.2,"Finance & real estate":1.8,"Information":1,"Manufacturing":26.2,"Other services":4.7,"Prof. & waste services":4.4,"Public administration":3.2,"Retail trade":14.3,"Transport & utilities":5,"Wholesale trade":1.7},"Franklin County":{"Agriculture & mining":1.8,"Arts & food services":4.6,"Construction":9.5,"Education & health":18.6,"Finance & real estate":5,"Information":0.8,"Manufacturing":31.4,"Other services":3.8,"Prof. & waste services":7.2,"Public administration":1.9,"Retail trade":8.2,"Transport & utilities":5.5,"Wholesale trade":1.7},"Geneva County":{"Agriculture & mining":2.6,"Arts & food services":7.8,"Construction":7.1,"Education & health":22.2,"Finance & real estate":4,"Information":1,"Manufacturing":12.7,"Other services":4.1,"Prof. & waste services":6.8,"Public administration":4.2,"Retail trade":14.1,"Transport & utilities":8.9,"Wholesale trade":4.7},"Greene County":{"Agriculture & mining":1.7,"Arts & food services":7.6,"Construction":5.7,"Education & health":17.6,"Finance & real estate":4.3,"Information":0.3,"Manufacturing":22.4,"Other services":1.9,"Prof. & waste services":11.9,"Public administration":12.3,"Retail trade":4.5,"Transport & utilities":7.4,"Wholesale trade":2.5},"Hale County":{"Agriculture & mining":4.1,"Arts & food services":9.7,"Construction":3.7,"Education & health":31.9,"Finance & real estate":1.1,"Information":0.3,"Manufacturing":15.1,"Other services":2.6,"Prof. & waste services":5.3,"Public administration":3.9,"Retail trade":15.7,"Transport & utilities":6.2,"Wholesale trade":0.3},"Henry County":{"Agriculture & mining":3,"Arts & food services":5,"Construction":7,"Education & health":25,"Finance & real estate":3.3,"Information":0.9,"Manufacturing":10.7,"Other services":7.9,"Prof. & waste services":7.6,"Public administration":6.5,"Retail trade":12.8,"Transport & utilities":7.5,"Wholesale trade":2.7},"Houston County":{"Agriculture & mining":1.3,"Arts & food services":8.5,"Construction":6.8,"Education & health":24.7,"Finance & real estate":4,"Information":0.9,"Manufacturing":9.9,"Other services":5.2,"Prof. & waste services":7.9,"Public administration":5.3,"Retail trade":13.5,"Transport & utilities":8.6,"Wholesale trade":3.3},"Jackson County":{"Agriculture & mining":1.1,"Arts & food services":6.6,"Construction":9.2,"Education & health":18.5,"Finance & real estate":3,"Information":1.3,"Manufacturing":25.2,"Other services":5.4,"Prof. & waste services":8.1,"Public administration":4.8,"Retail trade":9.5,"Transport & utilities":4.8,"Wholesale trade":2.5},"Jefferson County":{"Agriculture & mining":0.6,"Arts & food services":8.5,"Construction":5.4,"Education & health":26.1,"Finance & real estate":8.5,"Information":1.7,"Manufacturing":9,"Other services":5,"Prof. & waste services":10.7,"Public administration":4.4,"Retail trade":11.1,"Transport & utilities":6.5,"Wholesale trade":2.5},"Lamar County":{"Agriculture & mining":1.6,"Arts & food services":2,"Construction":3,"Education & health":19.2,"Finance & real estate":4.9,"Information":1.5,"Manufacturing":26,"Other services":6.9,"Prof. & waste services":6.6,"Public administration":5.4,"Retail trade":10.5,"Transport & utilities":6.9,"Wholesale trade":5.5},"Lauderdale County":{"Agriculture & mining":0.7,"Arts & food services":9.6,"Construction":7.8,"Education & health":21.9,"Finance & real estate":4.9,"Information":1.1,"Manufacturing":14.7,"Other services":3.8,"Prof. & waste services":6.7,"Public administration":4.7,"Retail trade":16.1,"Transport & utilities":5.7,"Wholesale trade":2.3},"Lawrence County":{"Agriculture & mining":2.6,"Arts & food services":4.7,"Construction":7.9,"Education & health":20.3,"Finance & real estate":3.7,"Information":1,"Manufacturing":24.7,"Other services":4,"Prof. & waste services":5.8,"Public administration":2.3,"Retail trade":14.3,"Transport & utilities":5.3,"Wholesale trade":3.5},"Lee County":{"Agriculture & mining":0.8,"Arts & food services":9.3,"Construction":5.4,"Education & health":30.1,"Finance & real estate":6.2,"Information":1.3,"Manufacturing":11.8,"Other services":3.8,"Prof. & waste services":10,"Public administration":4.5,"Retail trade":10.7,"Transport & utilities":4.4,"Wholesale trade":1.8},"Limestone County":{"Agriculture & mining":1.5,"Arts & food services":7.5,"Construction":8.5,"Education & health":19,"Finance & real estate":4,"Information":1,"Manufacturing":17.9,"Other services":4.8,"Prof. & waste services":13.1,"Public administration":6.7,"Retail trade":10.4,"Transport & utilities":3.9,"Wholesale trade":1.7},"Lowndes County":{"Agriculture & mining":7,"Arts & food services":4,"Construction":3.6,"Education & health":18.6,"Finance & real estate":2.5,"Information":1.9,"Manufacturing":30,"Other services":2.4,"Prof. & waste services":5.4,"Public administration":6.8,"Retail trade":7.9,"Transport & utilities":7.5,"Wholesale trade":2.3},"Macon County":{"Agriculture & mining":2.6,"Arts & food services":14.5,"Construction":4,"Education & health":26.5,"Finance & real estate":3.3,"Information":0.6,"Manufacturing":12.5,"Other services":3.6,"Prof. & waste services":10.6,"Public administration":6.1,"Retail trade":8.8,"Transport & utilities":6.6,"Wholesale trade":0.2},"Madison County":{"Agriculture & mining":0.5,"Arts & food services":7.5,"Construction":5.5,"Education & health":19.5,"Finance & real estate":4.1,"Information":1.6,"Manufacturing":13.3,"Other services":4.4,"Prof. & waste services":19.6,"Public administration":8.9,"Retail trade":10.1,"Transport & utilities":3.8,"Wholesale trade":1.3},"Marengo County":{"Agriculture & mining":4.8,"Arts & food services":6.8,"Construction":3.5,"Education & health":26.6,"Finance & real estate":3.7,"Information":0.9,"Manufacturing":21,"Other services":5.3,"Prof. & waste services":3.8,"Public administration":6.5,"Retail trade":10.5,"Transport & utilities":5.8,"Wholesale trade":0.8},"Marion County":{"Agriculture & mining":2.1,"Arts & food services":6.3,"Construction":7.2,"Education & health":24.3,"Finance & real estate":7.9,"Information":1.3,"Manufacturing":19.1,"Other services":4.6,"Prof. & waste services":4.3,"Public administration":4.9,"Retail trade":8.9,"Transport & utilities":7.8,"Wholesale trade":1.2},"Marshall County":{"Agriculture & mining":1.7,"Arts & food services":7.5,"Construction":8.8,"Education & health":19.3,"Finance & real estate":3.4,"Information":1.3,"Manufacturing":19.2,"Other services":4.8,"Prof. & waste services":8.8,"Public administration":4.5,"Retail trade":13.3,"Transport & utilities":4.6,"Wholesale trade":2.8},"Mobile County":{"Agriculture & mining":1.1,"Arts & food services":9,"Construction":7.6,"Education & health":23.3,"Finance & real estate":5.7,"Information":1.4,"Manufacturing":12.6,"Other services":5.3,"Prof. & waste services":9.8,"Public administration":4.1,"Retail trade":11.4,"Transport & utilities":6.2,"Wholesale trade":2.5},"Monroe County":{"Agriculture & mining":4.7,"Arts & food services":6.2,"Construction":9.4,"Education & health":15.2,"Finance & real estate":2.9,"Information":0.5,"Manufacturing":22,"Other services":3.7,"Prof. & waste services":6.1,"Public administration":7.6,"Retail trade":14.3,"Transport & utilities":5.6,"Wholesale trade":1.7},"Montgomery County":{"Agriculture & mining":0.5,"Arts & food services":8.5,"Construction":4.7,"Education & health":22.6,"Finance & real estate":5,"Information":1.2,"Manufacturing":12.4,"Other services":4.2,"Prof. & waste services":11.4,"Public administration":10.6,"Retail trade":11,"Transport & utilities":6.2,"Wholesale trade":1.9},"Morgan County":{"Agriculture & mining":1.8,"Arts & food services":7.5,"Construction":9.8,"Education & health":17,"Finance & real estate":3.7,"Information":1.4,"Manufacturing":19.8,"Other services":4.9,"Prof. & waste services":10.6,"Public administration":3.9,"Retail trade":12.5,"Transport & utilities":4.9,"Wholesale trade":2.3},"Perry County":{"Agriculture & mining":5,"Arts & food services":19.8,"Construction":4,"Education & health":32.7,"Finance & real estate":0.6,"Information":1.9,"Manufacturing":5.8,"Other services":0.5,"Prof. & waste services":6.2,"Public administration":0.8,"Retail trade":14.3,"Transport & utilities":7.9,"Wholesale trade":0.4},"Pickens County":{"Agriculture & mining":2.6,"Arts & food services":5,"Construction":9.3,"Education & health":21,"Finance & real estate":4.7,"Information":0.1,"Manufacturing":23.9,"Other services":4.5,"Prof. & waste services":3.7,"Public administration":7.2,"Retail trade":9.2,"Transport & utilities":7.8,"Wholesale trade":1.1},"Pike County":{"Agriculture & mining":1.4,"Arts & food services":8,"Construction":4.5,"Education & health":23.9,"Finance & real estate":3.5,"Information":1.7,"Manufacturing":15.3,"Other services":2.9,"Prof. & waste services":9,"Public administration":6.1,"Retail trade":13.5,"Transport & utilities":8.7,"Wholesale trade":1.5},"Randolph County":{"Agriculture & mining":1.8,"Arts & food services":5.1,"Construction":6.3,"Education & health":23.1,"Finance & real estate":5.7,"Information":0.3,"Manufacturing":23.4,"Other services":4.9,"Prof. & waste services":4.8,"Public administration":4.8,"Retail trade":12.7,"Transport & utilities":5.9,"Wholesale trade":1.2},"Russell County":{"Agriculture & mining":1,"Arts & food services":8.5,"Construction":6.7,"Education & health":18.1,"Finance & real estate":9.5,"Information":1.6,"Manufacturing":14.3,"Other services":4.9,"Prof. & waste services":8.7,"Public administration":6.9,"Retail trade":11.8,"Transport & utilities":6.9,"Wholesale trade":1.1},"St. Clair County":{"Agriculture & mining":0.5,"Arts & food services":7.4,"Construction":11.7,"Education & health":21,"Finance & real estate":5.8,"Information":1.1,"Manufacturing":13.4,"Other services":4.9,"Prof. & waste services":9.6,"Public administration":5.1,"Retail trade":9.4,"Transport & utilities":6.9,"Wholesale trade":3.2},"Shelby County":{"Agriculture & mining":0.8,"Arts & food services":7.3,"Construction":7.3,"Education & health":23,"Finance & real estate":11,"Information":1.7,"Manufacturing":7.9,"Other services":5.7,"Prof. & waste services":10.9,"Public administration":4,"Retail trade":10.8,"Transport & utilities":5.7,"Wholesale trade":4},"Sumter County":{"Agriculture & mining":1.5,"Arts & food services":10.3,"Construction":3.7,"Education & health":26.4,"Finance & real estate":3.6,"Information":2.9,"Manufacturing":15.2,"Other services":5.9,"Prof. & waste services":4.7,"Public administration":3.5,"Retail trade":17.5,"Transport & utilities":4.2,"Wholesale trade":0.6},"Talladega County":{"Agriculture & mining":1.3,"Arts & food services":7.1,"Construction":7.5,"Education & health":23.4,"Finance & real estate":3.4,"Information":0.9,"Manufacturing":20.9,"Other services":4.2,"Prof. & waste services":6.9,"Public administration":6,"Retail trade":10,"Transport & utilities":7,"Wholesale trade":1.5},"Tallapoosa County":{"Agriculture & mining":1.3,"Arts & food services":7.9,"Construction":8.7,"Education & health":23,"Finance & real estate":5.2,"Information":1.2,"Manufacturing":18,"Other services":5.3,"Prof. & waste services":7.7,"Public administration":3.9,"Retail trade":10.8,"Transport & utilities":5,"Wholesale trade":2.1},"Tuscaloosa County":{"Agriculture & mining":1.4,"Arts & food services":8.4,"Construction":6.5,"Education & health":29.6,"Finance & real estate":4.3,"Information":0.7,"Manufacturing":15.8,"Other services":4.4,"Prof. & waste services":7.9,"Public administration":3.8,"Retail trade":10.9,"Transport & utilities":4.4,"Wholesale trade":1.9},"Walker County":{"Agriculture & mining":3.8,"Arts & food services":9.3,"Construction":6,"Education & health":21,"Finance & real estate":4.3,"Information":1.1,"Manufacturing":14.2,"Other services":5.2,"Prof. & waste services":7.2,"Public administration":4,"Retail trade":14.6,"Transport & utilities":8.3,"Wholesale trade":1.1},"Washington County":{"Agriculture & mining":5.7,"Arts & food services":3.1,"Construction":7.6,"Education & health":22.3,"Finance & real estate":2.7,"Information":1.4,"Manufacturing":19.7,"Other services":3.8,"Prof. & waste services":5.8,"Public administration":5.2,"Retail trade":9.4,"Transport & utilities":10.5,"Wholesale trade":2.8},"Wilcox County":{"Agriculture & mining":6.3,"Arts & food services":3.8,"Construction":8.9,"Education & health":19.6,"Finance & real estate":0.9,"Information":0.5,"Manufacturing":20.2,"Other services":5.7,"Prof. & waste services":3.5,"Public administration":10,"Retail trade":10.7,"Transport & utilities":7.5,"Wholesale trade":2.3},"Winston County":{"Agriculture & mining":2.3,"Arts & food services":4.4,"Construction":11.2,"Education & health":18.9,"Finance & real estate":4.5,"Information":0.6,"Manufacturing":23,"Other services":4.1,"Prof. & waste services":4.2,"Public administration":3.3,"Retail trade":12.8,"Transport & utilities":9,"Wholesale trade":1.7}};
    const colors = {
  'Agriculture & mining': '#FFFF01',
  'Arts & food services': '#00008B',
  'Construction': '#7570B1',
  'Education & health': '#66A61E',
  'Finance & real estate': '#E6AB01',
  'Information': '#379',
  'Manufacturing': '#E41A1C',
  'Other services': '#377EF1',
  'Prof. & waste services': '#FF7F00',
  'Public administration': '#1B9E77',
  'Retail trade': '#A65011',
  'Transport & utilities': '#F781BF',
  'Wholesale trade': '#919'
};

    const ctx = document.getElementById("pieChart").getContext("2d");
    let chart;

    function renderChart(county) {
      const values = data[county];
      const labels = Object.keys(values);
      const percentages = Object.values(values);

      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: "pie",
        data: {
          labels: labels,
          datasets: [{
            data: percentages,
            backgroundColor: labels.map(label => colors[label] || "#cccccc")
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
  aspectRatio: 1.5, // You can tweak this (e.g., 1.3, 1.5, 2)
          plugins: {
            tooltip: {
              callbacks: {
                label: function(context) {
                  return context.label + ": " + context.formattedValue + "%";
                }
              }
            },
            legend: {
              position: "right",
              labels: {
                usePointStyle: true,
                pointStyle: "rect"
              }
            }
          }
        }
      });
    }

    const select = document.getElementById("countySelect");
    Object.keys(data).forEach(county => {
      const opt = document.createElement("option");
      opt.value = county;
      opt.text = county;
      select.appendChild(opt);
    });
    select.value = "Statewide";
    select.addEventListener("change", () => renderChart(select.value));
    renderChart("Statewide");
  </script>
</body>
</html>
</html>
