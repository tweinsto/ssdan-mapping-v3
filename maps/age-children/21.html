<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Age Distribution Under 18 â€“  Kentucky</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          margin: 1rem 2rem;
          text-align: center;
        }
        h2 {
          margin-bottom: 0.25rem;
          font-size: 1.6rem;
        }
        select {
          padding: 0.4rem;
          font-size: 1rem;
          margin: 1rem 0;
          border-radius: 5px;
          border: 1px solid #999;
        }
        canvas {
          width: 100%;
          max-width: 850px;
          height: 500px;
          margin-top: 1rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Age Distribution Under 18 in  Kentucky (2023)</h2>
    <label>Select County:</label>
            <select id="countySelect">
          <option value='Statewide'>Statewide</option>
<option value='Adair County, Kentucky'>Adair County, Kentucky</option>
<option value='Allen County, Kentucky'>Allen County, Kentucky</option>
<option value='Anderson County, Kentucky'>Anderson County, Kentucky</option>
<option value='Ballard County, Kentucky'>Ballard County, Kentucky</option>
<option value='Barren County, Kentucky'>Barren County, Kentucky</option>
<option value='Bath County, Kentucky'>Bath County, Kentucky</option>
<option value='Bell County, Kentucky'>Bell County, Kentucky</option>
<option value='Boone County, Kentucky'>Boone County, Kentucky</option>
<option value='Bourbon County, Kentucky'>Bourbon County, Kentucky</option>
<option value='Boyd County, Kentucky'>Boyd County, Kentucky</option>
<option value='Boyle County, Kentucky'>Boyle County, Kentucky</option>
<option value='Bracken County, Kentucky'>Bracken County, Kentucky</option>
<option value='Breathitt County, Kentucky'>Breathitt County, Kentucky</option>
<option value='Breckinridge County, Kentucky'>Breckinridge County, Kentucky</option>
<option value='Bullitt County, Kentucky'>Bullitt County, Kentucky</option>
<option value='Butler County, Kentucky'>Butler County, Kentucky</option>
<option value='Caldwell County, Kentucky'>Caldwell County, Kentucky</option>
<option value='Calloway County, Kentucky'>Calloway County, Kentucky</option>
<option value='Campbell County, Kentucky'>Campbell County, Kentucky</option>
<option value='Carlisle County, Kentucky'>Carlisle County, Kentucky</option>
<option value='Carroll County, Kentucky'>Carroll County, Kentucky</option>
<option value='Carter County, Kentucky'>Carter County, Kentucky</option>
<option value='Casey County, Kentucky'>Casey County, Kentucky</option>
<option value='Christian County, Kentucky'>Christian County, Kentucky</option>
<option value='Clark County, Kentucky'>Clark County, Kentucky</option>
<option value='Clay County, Kentucky'>Clay County, Kentucky</option>
<option value='Clinton County, Kentucky'>Clinton County, Kentucky</option>
<option value='Crittenden County, Kentucky'>Crittenden County, Kentucky</option>
<option value='Cumberland County, Kentucky'>Cumberland County, Kentucky</option>
<option value='Daviess County, Kentucky'>Daviess County, Kentucky</option>
<option value='Edmonson County, Kentucky'>Edmonson County, Kentucky</option>
<option value='Elliott County, Kentucky'>Elliott County, Kentucky</option>
<option value='Estill County, Kentucky'>Estill County, Kentucky</option>
<option value='Fayette County, Kentucky'>Fayette County, Kentucky</option>
<option value='Fleming County, Kentucky'>Fleming County, Kentucky</option>
<option value='Floyd County, Kentucky'>Floyd County, Kentucky</option>
<option value='Franklin County, Kentucky'>Franklin County, Kentucky</option>
<option value='Fulton County, Kentucky'>Fulton County, Kentucky</option>
<option value='Gallatin County, Kentucky'>Gallatin County, Kentucky</option>
<option value='Garrard County, Kentucky'>Garrard County, Kentucky</option>
<option value='Grant County, Kentucky'>Grant County, Kentucky</option>
<option value='Graves County, Kentucky'>Graves County, Kentucky</option>
<option value='Grayson County, Kentucky'>Grayson County, Kentucky</option>
<option value='Green County, Kentucky'>Green County, Kentucky</option>
<option value='Greenup County, Kentucky'>Greenup County, Kentucky</option>
<option value='Hancock County, Kentucky'>Hancock County, Kentucky</option>
<option value='Hardin County, Kentucky'>Hardin County, Kentucky</option>
<option value='Harlan County, Kentucky'>Harlan County, Kentucky</option>
<option value='Harrison County, Kentucky'>Harrison County, Kentucky</option>
<option value='Hart County, Kentucky'>Hart County, Kentucky</option>
<option value='Henderson County, Kentucky'>Henderson County, Kentucky</option>
<option value='Henry County, Kentucky'>Henry County, Kentucky</option>
<option value='Hickman County, Kentucky'>Hickman County, Kentucky</option>
<option value='Hopkins County, Kentucky'>Hopkins County, Kentucky</option>
<option value='Jackson County, Kentucky'>Jackson County, Kentucky</option>
<option value='Jefferson County, Kentucky'>Jefferson County, Kentucky</option>
<option value='Jessamine County, Kentucky'>Jessamine County, Kentucky</option>
<option value='Johnson County, Kentucky'>Johnson County, Kentucky</option>
<option value='Kenton County, Kentucky'>Kenton County, Kentucky</option>
<option value='Knott County, Kentucky'>Knott County, Kentucky</option>
<option value='Knox County, Kentucky'>Knox County, Kentucky</option>
<option value='Larue County, Kentucky'>Larue County, Kentucky</option>
<option value='Laurel County, Kentucky'>Laurel County, Kentucky</option>
<option value='Lawrence County, Kentucky'>Lawrence County, Kentucky</option>
<option value='Lee County, Kentucky'>Lee County, Kentucky</option>
<option value='Leslie County, Kentucky'>Leslie County, Kentucky</option>
<option value='Letcher County, Kentucky'>Letcher County, Kentucky</option>
<option value='Lewis County, Kentucky'>Lewis County, Kentucky</option>
<option value='Lincoln County, Kentucky'>Lincoln County, Kentucky</option>
<option value='Livingston County, Kentucky'>Livingston County, Kentucky</option>
<option value='Logan County, Kentucky'>Logan County, Kentucky</option>
<option value='Lyon County, Kentucky'>Lyon County, Kentucky</option>
<option value='Madison County, Kentucky'>Madison County, Kentucky</option>
<option value='Magoffin County, Kentucky'>Magoffin County, Kentucky</option>
<option value='Marion County, Kentucky'>Marion County, Kentucky</option>
<option value='Marshall County, Kentucky'>Marshall County, Kentucky</option>
<option value='Martin County, Kentucky'>Martin County, Kentucky</option>
<option value='Mason County, Kentucky'>Mason County, Kentucky</option>
<option value='McCracken County, Kentucky'>McCracken County, Kentucky</option>
<option value='McCreary County, Kentucky'>McCreary County, Kentucky</option>
<option value='McLean County, Kentucky'>McLean County, Kentucky</option>
<option value='Meade County, Kentucky'>Meade County, Kentucky</option>
<option value='Menifee County, Kentucky'>Menifee County, Kentucky</option>
<option value='Mercer County, Kentucky'>Mercer County, Kentucky</option>
<option value='Metcalfe County, Kentucky'>Metcalfe County, Kentucky</option>
<option value='Monroe County, Kentucky'>Monroe County, Kentucky</option>
<option value='Montgomery County, Kentucky'>Montgomery County, Kentucky</option>
<option value='Morgan County, Kentucky'>Morgan County, Kentucky</option>
<option value='Muhlenberg County, Kentucky'>Muhlenberg County, Kentucky</option>
<option value='Nelson County, Kentucky'>Nelson County, Kentucky</option>
<option value='Nicholas County, Kentucky'>Nicholas County, Kentucky</option>
<option value='Ohio County, Kentucky'>Ohio County, Kentucky</option>
<option value='Oldham County, Kentucky'>Oldham County, Kentucky</option>
<option value='Owen County, Kentucky'>Owen County, Kentucky</option>
<option value='Owsley County, Kentucky'>Owsley County, Kentucky</option>
<option value='Pendleton County, Kentucky'>Pendleton County, Kentucky</option>
<option value='Perry County, Kentucky'>Perry County, Kentucky</option>
<option value='Pike County, Kentucky'>Pike County, Kentucky</option>
<option value='Powell County, Kentucky'>Powell County, Kentucky</option>
<option value='Pulaski County, Kentucky'>Pulaski County, Kentucky</option>
<option value='Robertson County, Kentucky'>Robertson County, Kentucky</option>
<option value='Rockcastle County, Kentucky'>Rockcastle County, Kentucky</option>
<option value='Rowan County, Kentucky'>Rowan County, Kentucky</option>
<option value='Russell County, Kentucky'>Russell County, Kentucky</option>
<option value='Scott County, Kentucky'>Scott County, Kentucky</option>
<option value='Shelby County, Kentucky'>Shelby County, Kentucky</option>
<option value='Simpson County, Kentucky'>Simpson County, Kentucky</option>
<option value='Spencer County, Kentucky'>Spencer County, Kentucky</option>
<option value='Taylor County, Kentucky'>Taylor County, Kentucky</option>
<option value='Todd County, Kentucky'>Todd County, Kentucky</option>
<option value='Trigg County, Kentucky'>Trigg County, Kentucky</option>
<option value='Trimble County, Kentucky'>Trimble County, Kentucky</option>
<option value='Union County, Kentucky'>Union County, Kentucky</option>
<option value='Warren County, Kentucky'>Warren County, Kentucky</option>
<option value='Washington County, Kentucky'>Washington County, Kentucky</option>
<option value='Wayne County, Kentucky'>Wayne County, Kentucky</option>
<option value='Webster County, Kentucky'>Webster County, Kentucky</option>
<option value='Whitley County, Kentucky'>Whitley County, Kentucky</option>
<option value='Wolfe County, Kentucky'>Wolfe County, Kentucky</option>
<option value='Woodford County, Kentucky'>Woodford County, Kentucky</option>
        </select>
    <canvas id="barChart" width="850" height="500"></canvas>
    <script>  const ageData = {"Statewide":[-13.4,12.7,-14.6,14.1,-8.9,8.5,-14.3,13.4],"Adair County, Kentucky":[-12.4,11.3,-17.3,12.4,-14.8,14.1,-9.6,8],"Allen County, Kentucky":[-13.3,12.1,-16.5,15.1,-11,15.5,-8.3,8.1],"Anderson County, Kentucky":[-14,11.1,-16.7,14.6,-11.7,13.9,-10.2,7.7],"Ballard County, Kentucky":[-11.2,10.5,-20.7,15.7,-10.5,12.6,-9.7,9.1],"Barren County, Kentucky":[-12.9,12.1,-15.6,12.5,-13.9,15.6,-8.8,8.7],"Bath County, Kentucky":[-13.7,12.7,-17.5,13.9,-12.1,13.2,-9.3,7.7],"Bell County, Kentucky":[-13.2,14.3,-14.7,10.3,-14.7,14.5,-10.2,8],"Boone County, Kentucky":[-13.3,11.5,-15.6,14.3,-13.4,13.5,-8.7,9.7],"Bourbon County, Kentucky":[-15.9,11.4,-14.3,9.9,-17.7,16,-7.5,7.4],"Boyd County, Kentucky":[-13.3,11.5,-14.7,14.5,-13.8,13.8,-10.1,8.4],"Boyle County, Kentucky":[-12.3,12.2,-16.6,13.5,-15.1,14.5,-9,6.9],"Bracken County, Kentucky":[-11.7,13.1,-17.5,12.5,-12,13.9,-10.6,8.8],"Breathitt County, Kentucky":[-14.3,13.2,-12.9,13.7,-15.5,11.9,-9,9.6],"Breckinridge County, Kentucky":[-13.6,12.2,-14.1,12.6,-15.5,14.1,-9.5,8.3],"Bullitt County, Kentucky":[-12.7,11.3,-16.8,13.6,-12.4,14.7,-9.8,8.7],"Butler County, Kentucky":[-13.2,12.7,-14.9,15.2,-15.7,11.4,-9.9,7.1],"Caldwell County, Kentucky":[-13.4,11.2,-11.9,9.6,-16.6,19.4,-6.5,11.4],"Calloway County, Kentucky":[-11.6,12.4,-14.4,13.6,-15.3,15.9,-8.6,8.2],"Campbell County, Kentucky":[-13.7,13.1,-16.5,15.2,-12,13.2,-8.6,7.7],"Carlisle County, Kentucky":[-12.9,12.4,-18.2,13.7,-13.7,12.6,-8.8,7.7],"Carroll County, Kentucky":[-12,12.2,-13,15.4,-13.3,15.1,-11.2,7.9],"Carter County, Kentucky":[-13,13,-14.9,9.2,-13.5,17.8,-9.7,9],"Casey County, Kentucky":[-13,15,-13,13.4,-17.2,12.2,-8.6,7.6],"Christian County, Kentucky":[-17.5,16.3,-16.3,13.8,-10.8,11.9,-6.8,6.5],"Clark County, Kentucky":[-13.6,10.9,-12.6,14.2,-15.5,14.5,-9.2,9.5],"Clay County, Kentucky":[-13.3,14,-10.7,11.2,-16.7,17.4,-8.6,8.1],"Clinton County, Kentucky":[-14.8,11.7,-11.2,8.7,-14.7,20.1,-9.8,9],"Crittenden County, Kentucky":[-11.2,11.9,-10.5,11.7,-21.4,14.2,-10.7,8.5],"Cumberland County, Kentucky":[-18.2,10,-15.6,21.3,-14,9.5,-7.5,3.9],"Daviess County, Kentucky":[-13.2,12.9,-15,15.3,-14.2,12.4,-8,8.9],"Edmonson County, Kentucky":[-11.6,11.1,-9.7,18.1,-20.2,12.1,-8.9,8.3],"Elliott County, Kentucky":[-14.5,8.3,-12.2,18.7,-18.9,9.8,-5.2,12.5],"Estill County, Kentucky":[-12.5,10.9,-16.9,14.2,-13.1,12.8,-10.9,8.9],"Fayette County, Kentucky":[-13.9,13.4,-14.6,13.1,-13.9,14,-8.7,8.4],"Fleming County, Kentucky":[-13.2,15.1,-16.4,15.1,-11,11.8,-9.4,8],"Floyd County, Kentucky":[-13.3,12.4,-13.2,15.4,-15.6,11.9,-10,8.2],"Franklin County, Kentucky":[-13.7,12.3,-12.5,12,-16.3,15.1,-8.6,9.6],"Fulton County, Kentucky":[-10.7,11.4,-17.9,15.1,-16.4,13.3,-9.3,5.9],"Gallatin County, Kentucky":[-14,10.8,-11.4,16.5,-19.8,10.8,-8.5,8.3],"Garrard County, Kentucky":[-12.6,11.8,-16.3,12.4,-12.1,16.2,-10.6,8],"Grant County, Kentucky":[-12.9,12.9,-14.3,10.8,-14.5,16.1,-9.3,9.2],"Graves County, Kentucky":[-13.8,13.5,-15.8,12.5,-13,15.4,-8.2,7.9],"Grayson County, Kentucky":[-13.6,13.6,-11.5,12.4,-15.6,15.2,-9.6,8.4],"Green County, Kentucky":[-13.2,12.7,-9.7,19.2,-19.4,9.7,-8.5,7.7],"Greenup County, Kentucky":[-11.8,10.9,-16.2,15.4,-14.1,12.4,-10.2,9],"Hancock County, Kentucky":[-13.4,10.5,-15.6,14.2,-14.4,12.4,-6.6,12.9],"Hardin County, Kentucky":[-13.1,12.7,-13.3,14.9,-16,12.8,-7.8,9.5],"Harlan County, Kentucky":[-12.1,13.3,-13.2,12.9,-15.2,15.8,-9.1,8.4],"Harrison County, Kentucky":[-15.1,13.8,-13.4,11.4,-12.5,16.6,-9.2,8.1],"Hart County, Kentucky":[-13.4,13.5,-9.5,14,-18.4,13.6,-10,7.7],"Henderson County, Kentucky":[-13,11.6,-13.6,11.6,-16.2,16.3,-8.7,9],"Henry County, Kentucky":[-12.5,11.6,-15,12.2,-14.1,15.3,-10.7,8.6],"Hickman County, Kentucky":[-9.6,11.4,-11.5,8.2,-17.7,18.6,-11.6,11.6],"Hopkins County, Kentucky":[-11,14.6,-14.9,12.5,-13.3,15.8,-10,7.9],"Jackson County, Kentucky":[-13.4,12.4,-17.1,9.3,-12.3,17.8,-6.8,10.8],"Jefferson County, Kentucky":[-14,13.5,-13.5,12.6,-15,14.4,-8.6,8.3],"Jessamine County, Kentucky":[-14,11.7,-14.3,14.6,-14.8,13.7,-8.4,8.5],"Johnson County, Kentucky":[-12.4,11.4,-17.8,14.9,-12,12.6,-10,9],"Kenton County, Kentucky":[-13.7,13.4,-15.4,12.4,-13.4,14.7,-8.9,8.3],"Knott County, Kentucky":[-11.5,11.9,-17.2,13.7,-12.1,14.8,-10.1,8.6],"Knox County, Kentucky":[-13.2,13,-14.9,14.3,-12.4,15.1,-9,8.2],"Larue County, Kentucky":[-11.5,12,-10.8,11,-19.4,17.9,-9.5,7.9],"Laurel County, Kentucky":[-13.1,12.7,-15.6,16.4,-13.9,10.9,-8.8,8.6],"Lawrence County, Kentucky":[-13.8,12.6,-10.4,7.7,-19.2,19.4,-8.9,8],"Lee County, Kentucky":[-11.3,15,-19,9.1,-13.3,15.9,-13.5,2.9],"Leslie County, Kentucky":[-11,12.7,-11.8,11.4,-18.2,15.5,-9.9,9.5],"Letcher County, Kentucky":[-12.6,11.2,-10.6,10,-20.1,17.3,-9.8,8.3],"Lewis County, Kentucky":[-12.8,12.6,-10.5,15,-18.9,12.6,-9.2,8.3],"Lincoln County, Kentucky":[-13.9,13.4,-13.8,12.1,-14.9,14.9,-8.6,8.4],"Livingston County, Kentucky":[-12.3,12,-19.5,9.4,-11,17.1,-10.3,8.3],"Logan County, Kentucky":[-13.8,13.2,-13.8,16.1,-14.3,11.4,-8.8,8.7],"Lyon County, Kentucky":[-17.7,5.7,-14.7,6.2,-15.3,18.7,-9.9,11.7],"McCracken County, Kentucky":[-12.8,13.4,-15.4,13.1,-13.6,14.9,-8.3,8.5],"McCreary County, Kentucky":[-12.8,12.7,-14,15.8,-15.3,12.3,-9.2,8],"McLean County, Kentucky":[-11.6,11.6,-14.9,11.6,-14.3,15.4,-11.7,9],"Madison County, Kentucky":[-13.6,12.9,-14,12.4,-15.1,14.6,-9.5,8],"Magoffin County, Kentucky":[-14,12.8,-16.2,10.4,-13,15.5,-9.1,8.9],"Marion County, Kentucky":[-13.2,13.2,-9.7,13.2,-18.7,13.9,-8.9,9.3],"Marshall County, Kentucky":[-12.4,11.6,-16.2,16.1,-14,10.3,-10,9.2],"Martin County, Kentucky":[-12.7,12.2,-9,9.9,-20.2,17.6,-10.1,8.4],"Mason County, Kentucky":[-11.9,13.8,-18,14.8,-11.7,11.6,-9.8,8.4],"Meade County, Kentucky":[-11.6,11.5,-15.5,15.2,-14.8,14.8,-8.8,7.8],"Menifee County, Kentucky":[-14.5,13.7,-17.4,8.7,-11,16,-5.4,13.4],"Mercer County, Kentucky":[-15.6,12.5,-16.1,17,-11.8,9.4,-10,7.8],"Metcalfe County, Kentucky":[-11.9,12.2,-15.3,15,-13.8,14,-11.1,6.7],"Monroe County, Kentucky":[-13.7,11.7,-16.8,12.3,-13.8,15.1,-9.1,7.6],"Montgomery County, Kentucky":[-11.8,11.4,-15.2,13.6,-16,14.3,-9,8.7],"Morgan County, Kentucky":[-15.1,13.8,-15.3,12.3,-15.9,9.3,-9.1,9.1],"Muhlenberg County, Kentucky":[-13.9,12.5,-13.9,13.9,-15.8,11.5,-9.7,8.8],"Nelson County, Kentucky":[-14,11.5,-14.6,14.3,-15.3,11.9,-10.3,8],"Nicholas County, Kentucky":[-12.1,11.5,-14.1,6.8,-13.6,25.2,-8.5,8.1],"Ohio County, Kentucky":[-11.2,12.4,-12.1,13.6,-16,16,-10.3,8.4],"Oldham County, Kentucky":[-10.3,9.4,-14.6,14.7,-16,15.1,-9.9,10],"Owen County, Kentucky":[-12.9,11.2,-12,15.2,-19.4,10.4,-9.7,9.2],"Owsley County, Kentucky":[-26.4,12.4,-10.8,4.4,-20.9,8.1,-15.7,1.3],"Pendleton County, Kentucky":[-13.3,11.4,-10.6,13.2,-18.7,13.1,-10.6,9],"Perry County, Kentucky":[-13.2,12.4,-12.6,8.1,-17,19.1,-9.2,8.3],"Pike County, Kentucky":[-12.1,12.9,-16,12.2,-11.9,15.9,-10,8.9],"Powell County, Kentucky":[-13.1,11.5,-13.2,12.9,-16.2,14.1,-9.1,9.8],"Pulaski County, Kentucky":[-13.6,12,-11.1,13.8,-18.3,13.5,-9.2,8.6],"Robertson County, Kentucky":[-3.2,8.9,-9.3,31,-12,16.3,-4.3,15],"Rockcastle County, Kentucky":[-13.1,11.9,-12.6,14.5,-15.3,13.1,-9.2,10.3],"Rowan County, Kentucky":[-13.6,13.9,-10.1,13.6,-17.9,13.2,-8.5,9.2],"Russell County, Kentucky":[-12.9,11.8,-13.7,13.8,-16.8,13.4,-9.2,8.4],"Scott County, Kentucky":[-12.7,12.4,-13.8,14.3,-14.7,14.7,-8.6,8.7],"Shelby County, Kentucky":[-14.9,11.2,-13.9,15.8,-15.9,11.4,-8.7,8.2],"Simpson County, Kentucky":[-12.6,12,-19.2,14.9,-12.5,12.7,-8.1,8.1],"Spencer County, Kentucky":[-12.1,11.2,-15,10.6,-15.9,17,-9.5,8.7],"Taylor County, Kentucky":[-13.7,12.2,-15.4,12.9,-14.3,14.9,-8.3,8.2],"Todd County, Kentucky":[-13.3,13.4,-14.9,12.9,-14.8,11.9,-9.5,9.4],"Trigg County, Kentucky":[-14.4,11.5,-16.9,11.7,-10.7,17.2,-9.4,8.1],"Trimble County, Kentucky":[-11.4,11.7,-17.2,11.4,-10.1,19.9,-11.7,6.5],"Union County, Kentucky":[-12.8,15,-12.3,15.5,-16.6,7.6,-12.6,7.7],"Warren County, Kentucky":[-14,13.5,-13.5,13.6,-14.4,14.1,-8.5,8.3],"Washington County, Kentucky":[-14.1,11.7,-13.3,14.1,-16.7,12.8,-8.5,8.9],"Wayne County, Kentucky":[-13.5,13.4,-12.1,11.3,-15.1,15.7,-11.3,7.6],"Webster County, Kentucky":[-12.6,13.3,-15.6,15,-13.9,12.7,-7.9,8.9],"Whitley County, Kentucky":[-13.8,13.2,-12.9,12.2,-16.9,14.5,-8.5,8],"Wolfe County, Kentucky":[-15.3,11.7,-10.7,16.1,-16.3,15.5,-12.8,1.7],"Woodford County, Kentucky":[-12.2,13.3,-13.1,15.3,-14.4,14.8,-8.5,8.5]};
  const ageBins = ["0â€“4","5â€“9","10â€“14","15â€“17"];
  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    const maleData = data.filter((_, i) => i % 2 === 0);
    const femaleData = data.filter((_, i) => i % 2 === 1);

    const maxValue = Math.max(
      ...maleData.map(Math.abs),
      ...femaleData.map(Math.abs)
    );
    const padding = 1.0;
    const xMax = +(maxValue + padding).toFixed(1);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ageBins,
        datasets: [
          {
            label: 'Male',
            data: maleData,
            backgroundColor: 'dodgerblue'
          },
          {
            label: 'Female',
            data: femaleData,
            backgroundColor: 'lightpink'
          }
        ]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        scales: {
          x: {
            min: -xMax,
            max: xMax,
            ticks: {
              callback: value => Math.abs(value).toFixed(1) + '%'
            }
          },
          y: {
            stacked: false
          }
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              usePointStyle: true
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + Math.abs(ctx.parsed.x).toFixed(1) + '%'
            }
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(ageData[this.value]));
  });

  renderChart(Object.values(ageData['Statewide']));</script>
  </body>
</html>
</html>
