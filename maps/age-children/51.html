<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Age Distribution Under 18 –  Virginia</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          margin: 1rem 2rem;
          text-align: center;
        }
        h2 {
          margin-bottom: 0.25rem;
          font-size: 1.6rem;
        }
        select {
          padding: 0.4rem;
          font-size: 1rem;
          margin: 1rem 0;
          border-radius: 5px;
          border: 1px solid #999;
        }
        canvas {
          width: 100%;
          max-width: 850px;
          height: 500px;
          margin-top: 1rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Age Distribution Under 18 in  Virginia (2023)</h2>
    <label>Select County:</label>
            <select id="countySelect">
          <option value='Statewide'>Statewide</option>
<option value='Accomack County, Virginia'>Accomack County, Virginia</option>
<option value='Albemarle County, Virginia'>Albemarle County, Virginia</option>
<option value='Alexandria city, Virginia'>Alexandria city, Virginia</option>
<option value='Alleghany County, Virginia'>Alleghany County, Virginia</option>
<option value='Amelia County, Virginia'>Amelia County, Virginia</option>
<option value='Amherst County, Virginia'>Amherst County, Virginia</option>
<option value='Appomattox County, Virginia'>Appomattox County, Virginia</option>
<option value='Arlington County, Virginia'>Arlington County, Virginia</option>
<option value='Augusta County, Virginia'>Augusta County, Virginia</option>
<option value='Bath County, Virginia'>Bath County, Virginia</option>
<option value='Bedford County, Virginia'>Bedford County, Virginia</option>
<option value='Bland County, Virginia'>Bland County, Virginia</option>
<option value='Botetourt County, Virginia'>Botetourt County, Virginia</option>
<option value='Bristol city, Virginia'>Bristol city, Virginia</option>
<option value='Brunswick County, Virginia'>Brunswick County, Virginia</option>
<option value='Buchanan County, Virginia'>Buchanan County, Virginia</option>
<option value='Buckingham County, Virginia'>Buckingham County, Virginia</option>
<option value='Buena Vista city, Virginia'>Buena Vista city, Virginia</option>
<option value='Campbell County, Virginia'>Campbell County, Virginia</option>
<option value='Caroline County, Virginia'>Caroline County, Virginia</option>
<option value='Carroll County, Virginia'>Carroll County, Virginia</option>
<option value='Charles City County, Virginia'>Charles City County, Virginia</option>
<option value='Charlotte County, Virginia'>Charlotte County, Virginia</option>
<option value='Charlottesville city, Virginia'>Charlottesville city, Virginia</option>
<option value='Chesapeake city, Virginia'>Chesapeake city, Virginia</option>
<option value='Chesterfield County, Virginia'>Chesterfield County, Virginia</option>
<option value='Clarke County, Virginia'>Clarke County, Virginia</option>
<option value='Colonial Heights city, Virginia'>Colonial Heights city, Virginia</option>
<option value='Covington city, Virginia'>Covington city, Virginia</option>
<option value='Craig County, Virginia'>Craig County, Virginia</option>
<option value='Culpeper County, Virginia'>Culpeper County, Virginia</option>
<option value='Cumberland County, Virginia'>Cumberland County, Virginia</option>
<option value='Danville city, Virginia'>Danville city, Virginia</option>
<option value='Dickenson County, Virginia'>Dickenson County, Virginia</option>
<option value='Dinwiddie County, Virginia'>Dinwiddie County, Virginia</option>
<option value='Emporia city, Virginia'>Emporia city, Virginia</option>
<option value='Essex County, Virginia'>Essex County, Virginia</option>
<option value='Fairfax city, Virginia'>Fairfax city, Virginia</option>
<option value='Fairfax County, Virginia'>Fairfax County, Virginia</option>
<option value='Falls Church city, Virginia'>Falls Church city, Virginia</option>
<option value='Fauquier County, Virginia'>Fauquier County, Virginia</option>
<option value='Floyd County, Virginia'>Floyd County, Virginia</option>
<option value='Fluvanna County, Virginia'>Fluvanna County, Virginia</option>
<option value='Franklin city, Virginia'>Franklin city, Virginia</option>
<option value='Franklin County, Virginia'>Franklin County, Virginia</option>
<option value='Frederick County, Virginia'>Frederick County, Virginia</option>
<option value='Fredericksburg city, Virginia'>Fredericksburg city, Virginia</option>
<option value='Galax city, Virginia'>Galax city, Virginia</option>
<option value='Giles County, Virginia'>Giles County, Virginia</option>
<option value='Gloucester County, Virginia'>Gloucester County, Virginia</option>
<option value='Goochland County, Virginia'>Goochland County, Virginia</option>
<option value='Grayson County, Virginia'>Grayson County, Virginia</option>
<option value='Greene County, Virginia'>Greene County, Virginia</option>
<option value='Greensville County, Virginia'>Greensville County, Virginia</option>
<option value='Halifax County, Virginia'>Halifax County, Virginia</option>
<option value='Hampton city, Virginia'>Hampton city, Virginia</option>
<option value='Hanover County, Virginia'>Hanover County, Virginia</option>
<option value='Harrisonburg city, Virginia'>Harrisonburg city, Virginia</option>
<option value='Henrico County, Virginia'>Henrico County, Virginia</option>
<option value='Henry County, Virginia'>Henry County, Virginia</option>
<option value='Highland County, Virginia'>Highland County, Virginia</option>
<option value='Hopewell city, Virginia'>Hopewell city, Virginia</option>
<option value='Isle of Wight County, Virginia'>Isle of Wight County, Virginia</option>
<option value='James City County, Virginia'>James City County, Virginia</option>
<option value='King and Queen County, Virginia'>King and Queen County, Virginia</option>
<option value='King George County, Virginia'>King George County, Virginia</option>
<option value='King William County, Virginia'>King William County, Virginia</option>
<option value='Lancaster County, Virginia'>Lancaster County, Virginia</option>
<option value='Lee County, Virginia'>Lee County, Virginia</option>
<option value='Lexington city, Virginia'>Lexington city, Virginia</option>
<option value='Loudoun County, Virginia'>Loudoun County, Virginia</option>
<option value='Louisa County, Virginia'>Louisa County, Virginia</option>
<option value='Lunenburg County, Virginia'>Lunenburg County, Virginia</option>
<option value='Lynchburg city, Virginia'>Lynchburg city, Virginia</option>
<option value='Madison County, Virginia'>Madison County, Virginia</option>
<option value='Manassas city, Virginia'>Manassas city, Virginia</option>
<option value='Manassas Park city, Virginia'>Manassas Park city, Virginia</option>
<option value='Martinsville city, Virginia'>Martinsville city, Virginia</option>
<option value='Mathews County, Virginia'>Mathews County, Virginia</option>
<option value='Mecklenburg County, Virginia'>Mecklenburg County, Virginia</option>
<option value='Middlesex County, Virginia'>Middlesex County, Virginia</option>
<option value='Montgomery County, Virginia'>Montgomery County, Virginia</option>
<option value='Nelson County, Virginia'>Nelson County, Virginia</option>
<option value='New Kent County, Virginia'>New Kent County, Virginia</option>
<option value='Newport News city, Virginia'>Newport News city, Virginia</option>
<option value='Norfolk city, Virginia'>Norfolk city, Virginia</option>
<option value='Northampton County, Virginia'>Northampton County, Virginia</option>
<option value='Northumberland County, Virginia'>Northumberland County, Virginia</option>
<option value='Norton city, Virginia'>Norton city, Virginia</option>
<option value='Nottoway County, Virginia'>Nottoway County, Virginia</option>
<option value='Orange County, Virginia'>Orange County, Virginia</option>
<option value='Page County, Virginia'>Page County, Virginia</option>
<option value='Patrick County, Virginia'>Patrick County, Virginia</option>
<option value='Petersburg city, Virginia'>Petersburg city, Virginia</option>
<option value='Pittsylvania County, Virginia'>Pittsylvania County, Virginia</option>
<option value='Poquoson city, Virginia'>Poquoson city, Virginia</option>
<option value='Portsmouth city, Virginia'>Portsmouth city, Virginia</option>
<option value='Powhatan County, Virginia'>Powhatan County, Virginia</option>
<option value='Prince Edward County, Virginia'>Prince Edward County, Virginia</option>
<option value='Prince George County, Virginia'>Prince George County, Virginia</option>
<option value='Prince William County, Virginia'>Prince William County, Virginia</option>
<option value='Pulaski County, Virginia'>Pulaski County, Virginia</option>
<option value='Radford city, Virginia'>Radford city, Virginia</option>
<option value='Rappahannock County, Virginia'>Rappahannock County, Virginia</option>
<option value='Richmond city, Virginia'>Richmond city, Virginia</option>
<option value='Richmond County, Virginia'>Richmond County, Virginia</option>
<option value='Roanoke city, Virginia'>Roanoke city, Virginia</option>
<option value='Roanoke County, Virginia'>Roanoke County, Virginia</option>
<option value='Rockbridge County, Virginia'>Rockbridge County, Virginia</option>
<option value='Rockingham County, Virginia'>Rockingham County, Virginia</option>
<option value='Russell County, Virginia'>Russell County, Virginia</option>
<option value='Salem city, Virginia'>Salem city, Virginia</option>
<option value='Scott County, Virginia'>Scott County, Virginia</option>
<option value='Shenandoah County, Virginia'>Shenandoah County, Virginia</option>
<option value='Smyth County, Virginia'>Smyth County, Virginia</option>
<option value='Southampton County, Virginia'>Southampton County, Virginia</option>
<option value='Spotsylvania County, Virginia'>Spotsylvania County, Virginia</option>
<option value='Stafford County, Virginia'>Stafford County, Virginia</option>
<option value='Staunton city, Virginia'>Staunton city, Virginia</option>
<option value='Suffolk city, Virginia'>Suffolk city, Virginia</option>
<option value='Surry County, Virginia'>Surry County, Virginia</option>
<option value='Sussex County, Virginia'>Sussex County, Virginia</option>
<option value='Tazewell County, Virginia'>Tazewell County, Virginia</option>
<option value='Virginia Beach city, Virginia'>Virginia Beach city, Virginia</option>
<option value='Warren County, Virginia'>Warren County, Virginia</option>
<option value='Washington County, Virginia'>Washington County, Virginia</option>
<option value='Waynesboro city, Virginia'>Waynesboro city, Virginia</option>
<option value='Westmoreland County, Virginia'>Westmoreland County, Virginia</option>
<option value='Williamsburg city, Virginia'>Williamsburg city, Virginia</option>
<option value='Winchester city, Virginia'>Winchester city, Virginia</option>
<option value='Wise County, Virginia'>Wise County, Virginia</option>
<option value='Wythe County, Virginia'>Wythe County, Virginia</option>
<option value='York County, Virginia'>York County, Virginia</option>
        </select>
    <canvas id="barChart" width="850" height="500"></canvas>
    <script>  const ageData = {"Statewide":[-13.4,12.8,-14.9,14.2,-9,8.5,-14.1,13.2],"Accomack County, Virginia":[-11,14.4,-14.4,9.4,-15.1,18.9,-9.1,7.7],"Albemarle County, Virginia":[-13,12.5,-13.9,13.7,-15.4,13.9,-9,8.6],"Alleghany County, Virginia":[-11.9,10.3,-11.7,10.8,-23,13.4,-10,9],"Amelia County, Virginia":[-11.9,15.5,-11,11.5,-22.2,12.1,-6.9,9],"Amherst County, Virginia":[-12.3,13.5,-14.1,14.2,-16,13.4,-8.3,8.3],"Appomattox County, Virginia":[-12.9,14.8,-12,10.7,-16.7,18.3,-7.2,7.5],"Arlington County, Virginia":[-14.6,14.2,-14.6,13.1,-14.1,13.8,-8,7.6],"Augusta County, Virginia":[-12.5,11.5,-14.4,14.1,-14.5,13.2,-10.9,9],"Bath County, Virginia":[-17.3,8.2,-21.8,9.2,-18.8,13.2,-0,11.6],"Bedford County, Virginia":[-10.5,12,-16.3,14.5,-13.6,13.5,-9,10.6],"Bland County, Virginia":[-19,2.6,-14.4,17.4,-17.1,10,-8.4,11],"Botetourt County, Virginia":[-11.5,11.1,-11.6,14.4,-16.7,13.4,-12,9.2],"Brunswick County, Virginia":[-12.2,14,-10,20.1,-16.9,7.9,-8.9,9.9],"Buchanan County, Virginia":[-13.2,12.1,-9.1,12.9,-19.8,14,-9.6,9.4],"Buckingham County, Virginia":[-14.7,11.2,-12,14.8,-16.3,14,-8.7,8.2],"Campbell County, Virginia":[-11.1,13.9,-16,14,-12.6,13.8,-10.1,8.5],"Caroline County, Virginia":[-14.7,11.6,-18.1,14.5,-10.8,15,-9.2,5.9],"Carroll County, Virginia":[-11.6,12.2,-7.3,13,-21.4,14.6,-11.2,8.9],"Charles City County, Virginia":[-15.3,10.3,-10.8,12.5,-17.2,14.5,-10,9.5],"Charlotte County, Virginia":[-13.2,10.9,-17.2,12.8,-12.5,14.2,-12.1,7],"Chesterfield County, Virginia":[-12.8,12.1,-14.5,12.4,-14.6,15.3,-9.5,8.9],"Clarke County, Virginia":[-10.6,8.8,-13.9,12.9,-11.2,18.2,-10.7,13.7],"Craig County, Virginia":[-12.6,16.8,-15.1,11.6,-13,17.2,-10.5,3.3],"Culpeper County, Virginia":[-12.7,12.4,-14.3,12.9,-13.8,16.3,-9.1,8.5],"Cumberland County, Virginia":[-13.5,10.7,-10.8,6.7,-19,17,-15.7,6.5],"Dickenson County, Virginia":[-11.9,11.2,-11.4,10.5,-19.4,17,-9.7,9],"Dinwiddie County, Virginia":[-11.7,11.9,-14.4,16.9,-18.6,9.5,-8.6,8.4],"Essex County, Virginia":[-10.1,16.7,-10.7,11.6,-17.3,17.7,-4.5,11.3],"Fairfax County, Virginia":[-13.2,12.6,-14.3,13.1,-14.7,14.3,-9.3,8.6],"Fauquier County, Virginia":[-12,12.2,-15,12.6,-14.5,15,-8.9,9.7],"Floyd County, Virginia":[-11.7,10.7,-12.4,13.9,-16.2,14.4,-11,9.8],"Fluvanna County, Virginia":[-12,14,-14.3,17.9,-13.1,10.7,-9.1,8.8],"Franklin County, Virginia":[-11.8,14,-10,13.6,-18.1,13.2,-10.6,8.6],"Frederick County, Virginia":[-13.3,11.3,-14,11.3,-15.5,16.3,-10.7,7.7],"Giles County, Virginia":[-11.6,12.9,-18.9,17.2,-9.9,11.9,-8.9,8.8],"Gloucester County, Virginia":[-11.9,11.5,-13.9,14.4,-17.1,13.4,-9.8,8],"Goochland County, Virginia":[-14.7,8.5,-12.6,11.2,-17.5,14.6,-10.3,10.7],"Grayson County, Virginia":[-12.5,10.9,-15.4,13.3,-15.6,14.9,-8.8,8.6],"Greene County, Virginia":[-13.5,12.8,-11.1,12.8,-13,18.5,-8.1,10.3],"Greensville County, Virginia":[-11.6,12.3,-9.9,12,-23,12.9,-7,11.2],"Halifax County, Virginia":[-13.2,12.3,-16,13.9,-11.9,13.3,-10.2,9.2],"Hanover County, Virginia":[-11.9,10.8,-13.1,12.1,-17,15.5,-10.3,9.4],"Henrico County, Virginia":[-13.4,12.8,-13.9,13.5,-14.8,13.8,-9.2,8.7],"Henry County, Virginia":[-12.4,10.6,-12.7,12.2,-16.5,16.8,-8.3,10.5],"Highland County, Virginia":[-13.1,6.1,-9.9,25.5,-8.9,15.6,-5.4,15.6],"Isle of Wight County, Virginia":[-12.3,10.6,-17.3,14.2,-13.1,13.6,-9.6,9.4],"James City County, Virginia":[-11.8,12.9,-14.2,11.9,-14.3,16,-9.5,9.6],"King and Queen County, Virginia":[-16.2,9.2,-14.5,19.6,-14.3,11.8,-5.6,8.9],"King George County, Virginia":[-10.5,12.9,-16.1,11.1,-14.3,18.1,-9.2,7.8],"King William County, Virginia":[-14.8,13,-13.9,9.7,-14.5,18.1,-8.1,7.8],"Lancaster County, Virginia":[-12.6,8.6,-16.6,11.5,-14.9,15.6,-5.7,14.4],"Lee County, Virginia":[-12.7,11.3,-12.9,9.9,-17.9,16.7,-9.3,9.3],"Loudoun County, Virginia":[-12.1,11.5,-13.9,13.7,-16,14.6,-9.3,8.9],"Louisa County, Virginia":[-14.1,12,-12.2,12.6,-15.5,15.5,-10.3,7.8],"Lunenburg County, Virginia":[-13.1,11.1,-18.1,9.7,-13,16.3,-7.7,11],"Madison County, Virginia":[-11.4,17.2,-10.8,11.9,-15.2,15.2,-9.8,8.4],"Mathews County, Virginia":[-10.7,10.5,-18.4,10.1,-17.1,8,-16.2,9.1],"Mecklenburg County, Virginia":[-14.2,12.9,-12.1,10.5,-16.1,16,-10.7,7.5],"Middlesex County, Virginia":[-12,9.5,-19,13.5,-13.4,16.3,-8.2,8.1],"Montgomery County, Virginia":[-12.9,12.1,-11.5,16,-16.7,13.5,-9,8.3],"Nelson County, Virginia":[-18,13,-11.6,14.4,-19,8.5,-12.1,3.4],"New Kent County, Virginia":[-11.4,11.7,-12.2,14.6,-20.9,11.6,-10,7.6],"Northampton County, Virginia":[-12.1,9.6,-12.9,14.7,-23.2,7.4,-11,9.2],"Northumberland County, Virginia":[-10.6,19.5,-3.6,11.6,-21.7,12.5,-4.5,15.9],"Nottoway County, Virginia":[-15,11.6,-17.7,12.3,-9.4,14.7,-7.2,12],"Orange County, Virginia":[-15.2,12.2,-17.3,10.9,-13.9,14.5,-7.7,8.3],"Page County, Virginia":[-13.3,11.8,-16.8,14.2,-12.3,12.4,-10.2,9.1],"Patrick County, Virginia":[-12.1,12.6,-11.2,14.6,-18.8,11.8,-9.7,9.2],"Pittsylvania County, Virginia":[-12.6,10.7,-13.5,11.1,-14.2,16.8,-11.2,9.8],"Powhatan County, Virginia":[-12.1,12.7,-12.5,9.4,-17.1,18.1,-9.8,8.2],"Prince Edward County, Virginia":[-15.2,12.7,-12.2,16.1,-14.5,14.2,-9.9,5.2],"Prince George County, Virginia":[-13.2,11.4,-11.4,11.3,-18.7,16.9,-9.4,7.7],"Prince William County, Virginia":[-13.1,12.4,-14.5,13.4,-14.9,14.1,-9.2,8.5],"Pulaski County, Virginia":[-12.8,12.7,-13.1,11.7,-14.6,17.2,-8.8,9.2],"Rappahannock County, Virginia":[-12,5.5,-11.4,13.2,-21.2,14,-14.5,8.2],"Richmond County, Virginia":[-13.4,16.1,-12.9,14.8,-13.1,15.1,-11.6,3.1],"Roanoke County, Virginia":[-12,10.5,-14.5,14.4,-15.6,13.6,-9.8,9.6],"Rockbridge County, Virginia":[-10.7,11.1,-10.1,17,-18.4,12.6,-10,10.1],"Rockingham County, Virginia":[-13.3,12.1,-12.4,14.4,-16.8,12.9,-9.1,9],"Russell County, Virginia":[-13,12.5,-13.4,11.3,-15.2,15.9,-9.8,8.9],"Scott County, Virginia":[-11.5,10.1,-13.7,14,-16.7,14.6,-10.1,9.3],"Shenandoah County, Virginia":[-12.4,13.9,-13.8,13.6,-14.5,13.6,-9.5,8.7],"Smyth County, Virginia":[-12.1,11.4,-12.4,12.1,-16.2,16.9,-10.2,8.7],"Southampton County, Virginia":[-11.5,12.3,-15.2,13.1,-13.7,13.7,-10.7,9.8],"Spotsylvania County, Virginia":[-12.4,11.6,-12.8,13.4,-16.7,14.6,-9.5,9.1],"Stafford County, Virginia":[-12.1,11.4,-12.8,13.8,-16.9,14.4,-9.6,9.2],"Surry County, Virginia":[-19.2,10.9,-13.1,11,-10.5,14.2,-7.7,13.4],"Sussex County, Virginia":[-14,12.2,-16.9,13.2,-11.9,16,-6,9.6],"Tazewell County, Virginia":[-11.4,12.3,-18.2,13.2,-12.8,13.2,-9.7,9.3],"Warren County, Virginia":[-12.7,11.6,-16.3,15.4,-15.7,11.5,-8,8.9],"Washington County, Virginia":[-12.2,11.4,-15,14.1,-14.6,13,-9.4,10.2],"Westmoreland County, Virginia":[-10.3,17.4,-15.4,12.1,-13.2,13.4,-8.4,9.8],"Wise County, Virginia":[-12.4,11.3,-12.2,13.7,-16.1,15.7,-9,9.6],"Wythe County, Virginia":[-11.6,14.5,-12.7,13.5,-15.3,12.3,-11.2,9],"York County, Virginia":[-11.7,10.5,-14.5,16.1,-15.4,13.2,-8.8,9.8],"Alexandria city, Virginia":[-18.7,18,-13.8,11.6,-12,12.8,-6.6,6.4],"Bristol city, Virginia":[-15.8,9.9,-14.4,12.7,-15.2,14,-6.7,11.3],"Buena Vista city, Virginia":[-5.5,17.7,-12.5,10.7,-15.9,17.5,-17.7,2.6],"Charlottesville city, Virginia":[-18.3,15.1,-14.4,12.6,-12.5,14.2,-6.1,6.7],"Chesapeake city, Virginia":[-12.9,12.4,-13.8,13.6,-15.3,14.1,-9,8.8],"Colonial Heights city, Virginia":[-8.3,16.7,-15.3,13,-15.9,15.2,-7.7,7.8],"Covington city, Virginia":[-13.9,11.9,-10.1,18.3,-22,16.2,-1.1,6.6],"Danville city, Virginia":[-12.5,13.8,-16.3,13.6,-14,12.9,-8.9,8],"Emporia city, Virginia":[-12.3,7,-19.2,19.1,-14.4,8.2,-15.6,4.2],"Fairfax city, Virginia":[-15.3,16.5,-13,12.8,-16.3,10.6,-6.6,8.9],"Falls Church city, Virginia":[-12,7.7,-14.1,6.5,-17.5,21.5,-12.8,7.9],"Franklin city, Virginia":[-19.3,9,-17.3,8.8,-11.6,17.8,-7.3,8.8],"Fredericksburg city, Virginia":[-17.2,12.2,-12.2,11.4,-17.6,15.6,-4.7,9],"Galax city, Virginia":[-16,16.8,-17.3,9.3,-6.4,17.6,-9.1,7.5],"Hampton city, Virginia":[-14.5,13.6,-13.9,12.6,-14.3,14.6,-8.5,7.9],"Harrisonburg city, Virginia":[-16.2,13.9,-14.5,15.6,-12.9,11.4,-7.9,7.6],"Hopewell city, Virginia":[-17.2,13.1,-19.1,12,-10.4,13.1,-7.5,7.6],"Lexington city, Virginia":[-22.1,24,-9.9,10.1,-8.6,6.7,-11,7.8],"Lynchburg city, Virginia":[-15.4,15.6,-12.8,12,-14.4,13.8,-8.4,7.6],"Manassas city, Virginia":[-15.3,13.8,-12.7,15.1,-16.6,10.8,-8.1,7.5],"Manassas Park city, Virginia":[-11.1,13,-11.2,10.5,-17,21.3,-8.7,7.1],"Martinsville city, Virginia":[-9,9.6,-22.9,15.6,-14.9,10.6,-7.8,9.6],"Newport News city, Virginia":[-15.4,14.6,-15.9,13.3,-12.2,13.4,-7.9,7.3],"Norfolk city, Virginia":[-16.3,15.7,-14.7,13,-12.8,13.3,-7.1,7.1],"Norton city, Virginia":[-8.1,11.3,-12.6,9.1,-14.8,24.3,-14.1,5.9],"Petersburg city, Virginia":[-16.3,17.9,-18.9,14.6,-9.1,10.5,-6.3,6.5],"Poquoson city, Virginia":[-11.8,10.2,-12.8,13.6,-16.4,14.3,-10.1,10.7],"Portsmouth city, Virginia":[-16,14.6,-12.5,13.4,-15.1,14.1,-7.2,7.2],"Radford city, Virginia":[-14.5,19.6,-10.6,11.1,-14.8,13.5,-5.3,10.5],"Richmond city, Virginia":[-17,16.3,-14.8,13.3,-11.8,12.8,-6.8,7],"Roanoke city, Virginia":[-12.8,15.7,-14,13.8,-14,13.8,-7.8,8.2],"Salem city, Virginia":[-12,9.5,-9.5,14.1,-18.9,18.2,-9.6,8.2],"Staunton city, Virginia":[-18.2,13.7,-15.2,10.9,-11,15.3,-7,8.8],"Suffolk city, Virginia":[-13.4,13.1,-14.9,12,-14,15.5,-8.3,8.7],"Virginia Beach city, Virginia":[-13.9,13.1,-14.4,14.1,-14.5,13.2,-8.6,8.3],"Waynesboro city, Virginia":[-15.9,13.5,-15.4,17.6,-11.6,9,-11.5,5.5],"Williamsburg city, Virginia":[-16.3,5.4,-11.9,16,-23,7.9,-8.4,11.1],"Winchester city, Virginia":[-13.2,14,-18.1,9.4,-13.3,15.2,-7.6,9.2]};
  const ageBins = ["0–4","5–9","10–14","15–17"];
  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    const maleData = data.filter((_, i) => i % 2 === 0);
    const femaleData = data.filter((_, i) => i % 2 === 1);

    const maxValue = Math.max(
      ...maleData.map(Math.abs),
      ...femaleData.map(Math.abs)
    );
    const padding = 1.0;
    const xMax = +(maxValue + padding).toFixed(1);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ageBins,
        datasets: [
          {
            label: 'Male',
            data: maleData,
            backgroundColor: 'dodgerblue'
          },
          {
            label: 'Female',
            data: femaleData,
            backgroundColor: 'lightpink'
          }
        ]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        scales: {
          x: {
            min: -xMax,
            max: xMax,
            ticks: {
              callback: value => Math.abs(value).toFixed(1) + '%'
            }
          },
          y: {
            stacked: false
          }
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              usePointStyle: true
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + Math.abs(ctx.parsed.x).toFixed(1) + '%'
            }
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(ageData[this.value]));
  });

  renderChart(Object.values(ageData['Statewide']));</script>
  </body>
</html>
</html>
