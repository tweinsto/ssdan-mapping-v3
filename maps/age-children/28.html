<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Age Distribution Under 18 –  Mississippi</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          margin: 1rem 2rem;
          text-align: center;
        }
        h2 {
          margin-bottom: 0.25rem;
          font-size: 1.6rem;
        }
        select {
          padding: 0.4rem;
          font-size: 1rem;
          margin: 1rem 0;
          border-radius: 5px;
          border: 1px solid #999;
        }
        canvas {
          width: 100%;
          max-width: 850px;
          height: 500px;
          margin-top: 1rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Age Distribution Under 18 in  Mississippi (2023)</h2>
    <label>Select County:</label>
            <select id="countySelect">
          <option value='Statewide'>Statewide</option>
<option value='Adams County, Mississippi'>Adams County, Mississippi</option>
<option value='Alcorn County, Mississippi'>Alcorn County, Mississippi</option>
<option value='Amite County, Mississippi'>Amite County, Mississippi</option>
<option value='Attala County, Mississippi'>Attala County, Mississippi</option>
<option value='Benton County, Mississippi'>Benton County, Mississippi</option>
<option value='Bolivar County, Mississippi'>Bolivar County, Mississippi</option>
<option value='Calhoun County, Mississippi'>Calhoun County, Mississippi</option>
<option value='Carroll County, Mississippi'>Carroll County, Mississippi</option>
<option value='Chickasaw County, Mississippi'>Chickasaw County, Mississippi</option>
<option value='Choctaw County, Mississippi'>Choctaw County, Mississippi</option>
<option value='Claiborne County, Mississippi'>Claiborne County, Mississippi</option>
<option value='Clarke County, Mississippi'>Clarke County, Mississippi</option>
<option value='Clay County, Mississippi'>Clay County, Mississippi</option>
<option value='Coahoma County, Mississippi'>Coahoma County, Mississippi</option>
<option value='Copiah County, Mississippi'>Copiah County, Mississippi</option>
<option value='Covington County, Mississippi'>Covington County, Mississippi</option>
<option value='DeSoto County, Mississippi'>DeSoto County, Mississippi</option>
<option value='Forrest County, Mississippi'>Forrest County, Mississippi</option>
<option value='Franklin County, Mississippi'>Franklin County, Mississippi</option>
<option value='George County, Mississippi'>George County, Mississippi</option>
<option value='Greene County, Mississippi'>Greene County, Mississippi</option>
<option value='Grenada County, Mississippi'>Grenada County, Mississippi</option>
<option value='Hancock County, Mississippi'>Hancock County, Mississippi</option>
<option value='Harrison County, Mississippi'>Harrison County, Mississippi</option>
<option value='Hinds County, Mississippi'>Hinds County, Mississippi</option>
<option value='Holmes County, Mississippi'>Holmes County, Mississippi</option>
<option value='Humphreys County, Mississippi'>Humphreys County, Mississippi</option>
<option value='Issaquena County, Mississippi'>Issaquena County, Mississippi</option>
<option value='Itawamba County, Mississippi'>Itawamba County, Mississippi</option>
<option value='Jackson County, Mississippi'>Jackson County, Mississippi</option>
<option value='Jasper County, Mississippi'>Jasper County, Mississippi</option>
<option value='Jefferson County, Mississippi'>Jefferson County, Mississippi</option>
<option value='Jefferson Davis County, Mississippi'>Jefferson Davis County, Mississippi</option>
<option value='Jones County, Mississippi'>Jones County, Mississippi</option>
<option value='Kemper County, Mississippi'>Kemper County, Mississippi</option>
<option value='Lafayette County, Mississippi'>Lafayette County, Mississippi</option>
<option value='Lamar County, Mississippi'>Lamar County, Mississippi</option>
<option value='Lauderdale County, Mississippi'>Lauderdale County, Mississippi</option>
<option value='Lawrence County, Mississippi'>Lawrence County, Mississippi</option>
<option value='Leake County, Mississippi'>Leake County, Mississippi</option>
<option value='Lee County, Mississippi'>Lee County, Mississippi</option>
<option value='Leflore County, Mississippi'>Leflore County, Mississippi</option>
<option value='Lincoln County, Mississippi'>Lincoln County, Mississippi</option>
<option value='Lowndes County, Mississippi'>Lowndes County, Mississippi</option>
<option value='Madison County, Mississippi'>Madison County, Mississippi</option>
<option value='Marion County, Mississippi'>Marion County, Mississippi</option>
<option value='Marshall County, Mississippi'>Marshall County, Mississippi</option>
<option value='Monroe County, Mississippi'>Monroe County, Mississippi</option>
<option value='Montgomery County, Mississippi'>Montgomery County, Mississippi</option>
<option value='Neshoba County, Mississippi'>Neshoba County, Mississippi</option>
<option value='Newton County, Mississippi'>Newton County, Mississippi</option>
<option value='Noxubee County, Mississippi'>Noxubee County, Mississippi</option>
<option value='Oktibbeha County, Mississippi'>Oktibbeha County, Mississippi</option>
<option value='Panola County, Mississippi'>Panola County, Mississippi</option>
<option value='Pearl River County, Mississippi'>Pearl River County, Mississippi</option>
<option value='Perry County, Mississippi'>Perry County, Mississippi</option>
<option value='Pike County, Mississippi'>Pike County, Mississippi</option>
<option value='Pontotoc County, Mississippi'>Pontotoc County, Mississippi</option>
<option value='Prentiss County, Mississippi'>Prentiss County, Mississippi</option>
<option value='Quitman County, Mississippi'>Quitman County, Mississippi</option>
<option value='Rankin County, Mississippi'>Rankin County, Mississippi</option>
<option value='Scott County, Mississippi'>Scott County, Mississippi</option>
<option value='Sharkey County, Mississippi'>Sharkey County, Mississippi</option>
<option value='Simpson County, Mississippi'>Simpson County, Mississippi</option>
<option value='Smith County, Mississippi'>Smith County, Mississippi</option>
<option value='Stone County, Mississippi'>Stone County, Mississippi</option>
<option value='Sunflower County, Mississippi'>Sunflower County, Mississippi</option>
<option value='Tallahatchie County, Mississippi'>Tallahatchie County, Mississippi</option>
<option value='Tate County, Mississippi'>Tate County, Mississippi</option>
<option value='Tippah County, Mississippi'>Tippah County, Mississippi</option>
<option value='Tishomingo County, Mississippi'>Tishomingo County, Mississippi</option>
<option value='Tunica County, Mississippi'>Tunica County, Mississippi</option>
<option value='Union County, Mississippi'>Union County, Mississippi</option>
<option value='Walthall County, Mississippi'>Walthall County, Mississippi</option>
<option value='Warren County, Mississippi'>Warren County, Mississippi</option>
<option value='Washington County, Mississippi'>Washington County, Mississippi</option>
<option value='Wayne County, Mississippi'>Wayne County, Mississippi</option>
<option value='Webster County, Mississippi'>Webster County, Mississippi</option>
<option value='Wilkinson County, Mississippi'>Wilkinson County, Mississippi</option>
<option value='Winston County, Mississippi'>Winston County, Mississippi</option>
<option value='Yalobusha County, Mississippi'>Yalobusha County, Mississippi</option>
<option value='Yazoo County, Mississippi'>Yazoo County, Mississippi</option>
        </select>
    <canvas id="barChart" width="850" height="500"></canvas>
    <script>  const ageData = {"Statewide":[-13.1,12.4,-15.6,14.5,-9.1,8.9,-13.1,13.2],"Adams County, Mississippi":[-13.8,14.2,-10.5,16.6,-16.2,11.1,-8.8,8.9],"Alcorn County, Mississippi":[-11.5,11.7,-12.9,13.1,-17,14.9,-9.3,9.7],"Amite County, Mississippi":[-9.6,14.2,-14.6,14.5,-15.3,17.9,-5.6,8.3],"Attala County, Mississippi":[-13.5,10.8,-13,12.9,-15.8,15.9,-6.3,11.8],"Benton County, Mississippi":[-10.6,8.7,-18,15.5,-17.1,12.1,-6.2,11.7],"Bolivar County, Mississippi":[-13.6,12.8,-11.8,13.8,-17.3,14.5,-7.7,8.5],"Calhoun County, Mississippi":[-12.6,11.4,-8.7,13.9,-21.2,12,-15.8,4.5],"Carroll County, Mississippi":[-13,13.6,-15.4,8.1,-9.3,13,-16.5,11],"Chickasaw County, Mississippi":[-14.4,14.6,-12.9,11.2,-14.7,16.5,-7.8,7.8],"Choctaw County, Mississippi":[-8.2,12.9,-13.8,10.9,-20.2,16.8,-10.8,6.4],"Claiborne County, Mississippi":[-22.2,5.3,-10.7,13,-16.8,13.3,-3.6,15.1],"Clarke County, Mississippi":[-15.3,11.8,-8.8,12.3,-18.1,15.4,-8.7,9.6],"Clay County, Mississippi":[-12.8,13.1,-11.8,13,-15.4,15,-9.1,9.9],"Coahoma County, Mississippi":[-12.4,14.8,-11.5,13.5,-17.1,14.5,-7.9,8.3],"Copiah County, Mississippi":[-12.7,14.4,-13.7,14.1,-13.2,14,-9,8.8],"Covington County, Mississippi":[-16.4,10.3,-11.8,12.8,-17.9,14.2,-9.6,7.1],"DeSoto County, Mississippi":[-11.6,11.4,-12.4,14.2,-16.7,14.2,-10.1,9.4],"Forrest County, Mississippi":[-13.9,13.8,-11.5,12.8,-16.3,14.9,-8.3,8.5],"Franklin County, Mississippi":[-19.9,5.1,-9.4,15,-19.5,11.6,-9.7,9.9],"George County, Mississippi":[-17.1,12.8,-12.4,10.4,-13.8,17.1,-7.9,8.5],"Greene County, Mississippi":[-17.1,12.9,-13.1,18.3,-11.6,9.4,-11.2,6.3],"Grenada County, Mississippi":[-12.8,12.7,-13.5,15.1,-15.5,12.8,-11.1,6.7],"Hancock County, Mississippi":[-14.4,10.4,-11.2,18.6,-18,10.3,-9,8],"Harrison County, Mississippi":[-13.4,12.6,-12.5,13.7,-16.6,13.9,-8.9,8.4],"Hinds County, Mississippi":[-13.7,12.5,-13.3,13,-15.3,14.4,-9.1,8.8],"Holmes County, Mississippi":[-14.7,11.2,-16.8,12.2,-11.5,14.4,-9,10.3],"Humphreys County, Mississippi":[-19.3,3.8,-18.3,13.5,-11.5,13.5,-5.5,14.5],"Issaquena County, Mississippi":[-0,0,-0,25,-9.7,9.7,-44.4,11.1],"Itawamba County, Mississippi":[-11.8,11.2,-11.5,14.1,-17.8,13.9,-9.2,10.6],"Jackson County, Mississippi":[-12.5,11.8,-12.6,14,-16.7,13.6,-9.6,9.2],"Jasper County, Mississippi":[-17.1,8.7,-14.6,14.9,-14.5,13.3,-8.2,8.7],"Jefferson County, Mississippi":[-11.6,12.9,-12.5,13.6,-15.2,15.2,-9.2,9.8],"Jefferson Davis County, Mississippi":[-11.3,15.6,-10.2,14.3,-18.3,13.6,-8.5,8.2],"Jones County, Mississippi":[-12.4,13.9,-15.7,10.6,-14.7,14.5,-9.3,9],"Kemper County, Mississippi":[-22.9,9.8,-18,3.2,-8.2,21.2,-6.7,9.9],"Lafayette County, Mississippi":[-13.4,13.7,-12.2,11.8,-16,15.6,-8.4,8.9],"Lamar County, Mississippi":[-12.5,11.8,-14.9,14.9,-14.5,13.5,-8.8,9.1],"Lauderdale County, Mississippi":[-12.9,12.7,-11.9,15,-16.9,12.8,-8.9,8.8],"Lawrence County, Mississippi":[-12.3,12.6,-13.3,12.6,-15.4,14.9,-10.5,8.4],"Leake County, Mississippi":[-14.7,12.6,-7.5,16.8,-17.6,14.6,-7.7,8.5],"Lee County, Mississippi":[-13.1,12.4,-14.3,13,-14.3,15.3,-8.8,8.8],"Leflore County, Mississippi":[-15.2,12.3,-14.8,15.6,-12.8,13.3,-8.6,7.4],"Lincoln County, Mississippi":[-12.4,12,-15.4,13.6,-14,13.3,-10,9.2],"Lowndes County, Mississippi":[-13.7,13.4,-13.7,13.9,-15.6,12.5,-8.8,8.4],"Madison County, Mississippi":[-13,12,-12.5,9.7,-16.3,18.1,-9,9.5],"Marion County, Mississippi":[-12.4,12.7,-11.4,14.7,-16.3,14,-7.7,10.8],"Marshall County, Mississippi":[-13.2,14.3,-12.4,14.5,-14.8,13.2,-9.2,8.4],"Monroe County, Mississippi":[-12.5,12.4,-12.7,12.2,-16.4,14.8,-9.1,9.9],"Montgomery County, Mississippi":[-12.5,5.3,-8.9,13.7,-28.2,16.9,-3.6,10.9],"Neshoba County, Mississippi":[-13,13.3,-11.3,13.5,-15.8,14.1,-10.8,8.1],"Newton County, Mississippi":[-13.3,13,-11.1,15.3,-14.6,11.3,-10.2,11.2],"Noxubee County, Mississippi":[-15.6,13.4,-9,10.4,-16.8,19.7,-3.2,11.9],"Oktibbeha County, Mississippi":[-11.1,16.4,-15.9,11.7,-12,15.1,-8.5,9.1],"Panola County, Mississippi":[-13.6,13.1,-13.1,10.5,-14.9,17.2,-9.2,8.4],"Pearl River County, Mississippi":[-13,11.7,-13.1,12.8,-16.1,17.1,-8.1,8.1],"Perry County, Mississippi":[-9.9,13.5,-11,8.5,-19.6,17.9,-14.9,4.7],"Pike County, Mississippi":[-13.6,12,-13.2,15.2,-14.4,13.5,-9,9.1],"Pontotoc County, Mississippi":[-12.1,13.8,-12.9,13.2,-14.6,14.2,-10.8,8.5],"Prentiss County, Mississippi":[-15.4,11.2,-17.4,14.8,-12.2,12.4,-8,8.6],"Quitman County, Mississippi":[-13.8,12.6,-10.2,11.5,-18.8,15,-8.8,9.3],"Rankin County, Mississippi":[-12.1,12.1,-14.7,13.9,-14.4,14.1,-9.9,8.9],"Scott County, Mississippi":[-16.8,12.9,-12.3,5.5,-15.5,16.4,-10.4,10.3],"Sharkey County, Mississippi":[-13.8,8.7,-13.2,13.8,-12.2,13.9,-15.2,9.1],"Simpson County, Mississippi":[-12.7,12.6,-11.7,13.8,-17.3,13,-9.8,9.1],"Smith County, Mississippi":[-9.5,17.9,-15.3,12.1,-11.9,15.3,-9.6,8.4],"Stone County, Mississippi":[-12.5,11.6,-16.7,12.2,-17.6,13.8,-4.8,10.8],"Sunflower County, Mississippi":[-13,12.8,-12.7,11.8,-14.6,15.8,-9.3,10],"Tallahatchie County, Mississippi":[-11,12.7,-13.2,14.3,-17.7,15.2,-6.9,9],"Tate County, Mississippi":[-15.7,9.9,-19.9,13.8,-8.2,13.5,-9.4,9.6],"Tippah County, Mississippi":[-9.7,14.7,-8.5,11.1,-20.4,16.5,-9.2,9.8],"Tishomingo County, Mississippi":[-12.9,11.8,-13.8,11.9,-16.5,13.6,-10.4,9.2],"Tunica County, Mississippi":[-14.7,14.7,-14.7,18.3,-12.5,10.1,-11.8,3.1],"Union County, Mississippi":[-12.8,12.8,-15.3,14.1,-12,14.8,-9.4,8.9],"Walthall County, Mississippi":[-19.3,5.6,-8.7,13.6,-14.1,17.8,-9.9,10.9],"Warren County, Mississippi":[-12.9,12.8,-12.8,12.9,-16.4,13.9,-9.5,8.9],"Washington County, Mississippi":[-13.4,12.8,-14.2,10.6,-14.2,17.5,-8.5,8.8],"Wayne County, Mississippi":[-11,15.2,-8.5,7.3,-20.7,20,-10.5,6.8],"Webster County, Mississippi":[-11.5,14.4,-12,15.1,-16.1,14.8,-7.5,8.6],"Wilkinson County, Mississippi":[-10.5,10.2,-14.1,17.4,-18.7,12.1,-11.1,6],"Winston County, Mississippi":[-14.3,10.7,-14.1,12.9,-14.5,14.6,-7.1,11.8],"Yalobusha County, Mississippi":[-11.4,17.3,-18.8,15.7,-8.6,10.2,-8.6,9.5],"Yazoo County, Mississippi":[-13.1,12.3,-15.3,13.8,-13.7,13.3,-10.2,8.2]};
  const ageBins = ["0–4","5–9","10–14","15–17"];
  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    const maleData = data.filter((_, i) => i % 2 === 0);
    const femaleData = data.filter((_, i) => i % 2 === 1);

    const maxValue = Math.max(
      ...maleData.map(Math.abs),
      ...femaleData.map(Math.abs)
    );
    const padding = 1.0;
    const xMax = +(maxValue + padding).toFixed(1);

    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ageBins,
        datasets: [
          {
            label: 'Male',
            data: maleData,
            backgroundColor: 'dodgerblue'
          },
          {
            label: 'Female',
            data: femaleData,
            backgroundColor: 'lightpink'
          }
        ]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        scales: {
          x: {
            min: -xMax,
            max: xMax,
            ticks: {
              callback: value => Math.abs(value).toFixed(1) + '%'
            }
          },
          y: {
            stacked: false
          }
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              usePointStyle: true
            }
          },
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + Math.abs(ctx.parsed.x).toFixed(1) + '%'
            }
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(ageData[this.value]));
  });

  renderChart(Object.values(ageData['Statewide']));</script>
  </body>
</html>
</html>
