<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>


</head>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Median Earnings by Industry â€“ 49</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: white;
    }
    .layout {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1.5rem;
    }
    label {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    #countySelect {
      font-size: 1rem;
      padding: 0.4rem 0.8rem;
      margin-bottom: 1rem;
    }
    canvas {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="layout">
    <label for="countySelect">Median Earnings by Industry:</label>
    <select id="countySelect"></select>
    <canvas id="barChart"></canvas>
  </div>

  <script>
    const data = {"Statewide":{"Agriculture & mining":68354,"Arts & food services":37818,"Construction":58013,"Education & health":59804,"Finance & real estate":69649,"Information":75000,"Manufacturing":59392,"Other services":52446,"Prof. & waste services":75469,"Public administration":69889,"Retail trade":46333,"Transport & utilities":62934,"Wholesale trade":64746},"Beaver County":{"Agriculture & mining":66500,"Arts & food services":25700,"Construction":50661,"Education & health":55335,"Finance & real estate":82625,"Information":0,"Manufacturing":51250,"Other services":46085,"Prof. & waste services":73542,"Public administration":60833,"Retail trade":68133,"Transport & utilities":118194,"Wholesale trade":2499},"Box Elder County":{"Agriculture & mining":45797,"Arts & food services":35391,"Construction":54851,"Education & health":50527,"Finance & real estate":55368,"Information":116667,"Manufacturing":62788,"Other services":48438,"Prof. & waste services":65110,"Public administration":61706,"Retail trade":36913,"Transport & utilities":64759,"Wholesale trade":53661},"Cache County":{"Agriculture & mining":48446,"Arts & food services":33504,"Construction":52887,"Education & health":58758,"Finance & real estate":58750,"Information":64602,"Manufacturing":59321,"Other services":45741,"Prof. & waste services":56225,"Public administration":61569,"Retail trade":39065,"Transport & utilities":59337,"Wholesale trade":47333},"Carbon County":{"Agriculture & mining":80352,"Arts & food services":18836,"Construction":70477,"Education & health":59865,"Finance & real estate":43938,"Information":50125,"Manufacturing":68990,"Other services":31471,"Prof. & waste services":48558,"Public administration":53839,"Retail trade":36757,"Transport & utilities":71667,"Wholesale trade":69722},"Daggett County":{"Agriculture & mining":114375,"Arts & food services":47847,"Construction":125179,"Education & health":39375,"Finance & real estate":0,"Information":0,"Manufacturing":74688,"Other services":0,"Prof. & waste services":0,"Public administration":0,"Retail trade":30313,"Transport & utilities":41250,"Wholesale trade":0},"Davis County":{"Agriculture & mining":83854,"Arts & food services":37306,"Construction":63877,"Education & health":64108,"Finance & real estate":75121,"Information":77895,"Manufacturing":68628,"Other services":63125,"Prof. & waste services":84002,"Public administration":77558,"Retail trade":49738,"Transport & utilities":66963,"Wholesale trade":70967},"Duchesne County":{"Agriculture & mining":75625,"Arts & food services":31875,"Construction":59712,"Education & health":50701,"Finance & real estate":57649,"Information":63333,"Manufacturing":63125,"Other services":64028,"Prof. & waste services":63636,"Public administration":70500,"Retail trade":41071,"Transport & utilities":69766,"Wholesale trade":76250},"Emery County":{"Agriculture & mining":73456,"Arts & food services":36042,"Construction":70046,"Education & health":45658,"Finance & real estate":26458,"Information":54722,"Manufacturing":60208,"Other services":44464,"Prof. & waste services":26971,"Public administration":65481,"Retail trade":37708,"Transport & utilities":76250,"Wholesale trade":67031},"Garfield County":{"Agriculture & mining":61250,"Arts & food services":36500,"Construction":59531,"Education & health":70954,"Finance & real estate":60469,"Information":44375,"Manufacturing":0,"Other services":0,"Prof. & waste services":103816,"Public administration":51406,"Retail trade":29000,"Transport & utilities":34722,"Wholesale trade":0},"Grand County":{"Agriculture & mining":34953,"Arts & food services":42487,"Construction":50494,"Education & health":47394,"Finance & real estate":52909,"Information":0,"Manufacturing":118750,"Other services":44605,"Prof. & waste services":64455,"Public administration":58415,"Retail trade":46039,"Transport & utilities":63279,"Wholesale trade":0},"Iron County":{"Agriculture & mining":52045,"Arts & food services":37339,"Construction":44304,"Education & health":46629,"Finance & real estate":53851,"Information":52396,"Manufacturing":46791,"Other services":45619,"Prof. & waste services":53079,"Public administration":46775,"Retail trade":38038,"Transport & utilities":56343,"Wholesale trade":43992},"Juab County":{"Agriculture & mining":46705,"Arts & food services":27500,"Construction":72500,"Education & health":56976,"Finance & real estate":71250,"Information":71328,"Manufacturing":51029,"Other services":54643,"Prof. & waste services":52969,"Public administration":71086,"Retail trade":36836,"Transport & utilities":63472,"Wholesale trade":84167},"Kane County":{"Agriculture & mining":74375,"Arts & food services":49722,"Construction":84773,"Education & health":67500,"Finance & real estate":74125,"Information":96250,"Manufacturing":34214,"Other services":44672,"Prof. & waste services":41297,"Public administration":61917,"Retail trade":37730,"Transport & utilities":62639,"Wholesale trade":0},"Millard County":{"Agriculture & mining":42481,"Arts & food services":23194,"Construction":47500,"Education & health":47917,"Finance & real estate":54107,"Information":46442,"Manufacturing":48750,"Other services":60369,"Prof. & waste services":51563,"Public administration":58229,"Retail trade":32157,"Transport & utilities":82784,"Wholesale trade":48393},"Morgan County":{"Agriculture & mining":58981,"Arts & food services":88750,"Construction":82891,"Education & health":67331,"Finance & real estate":161528,"Information":99667,"Manufacturing":82379,"Other services":60417,"Prof. & waste services":121786,"Public administration":85179,"Retail trade":37467,"Transport & utilities":71429,"Wholesale trade":66458},"Piute County":{"Agriculture & mining":32500,"Arts & food services":0,"Construction":19714,"Education & health":55804,"Finance & real estate":0,"Information":0,"Manufacturing":37917,"Other services":0,"Prof. & waste services":0,"Public administration":0,"Retail trade":70096,"Transport & utilities":58750,"Wholesale trade":48750},"Rich County":{"Agriculture & mining":101000,"Arts & food services":24063,"Construction":72972,"Education & health":49688,"Finance & real estate":59792,"Information":0,"Manufacturing":129605,"Other services":53750,"Prof. & waste services":44375,"Public administration":39286,"Retail trade":28073,"Transport & utilities":61667,"Wholesale trade":0},"Salt Lake County":{"Agriculture & mining":79825,"Arts & food services":40365,"Construction":57060,"Education & health":61317,"Finance & real estate":73046,"Information":75381,"Manufacturing":59381,"Other services":51868,"Prof. & waste services":77258,"Public administration":71775,"Retail trade":48464,"Transport & utilities":61782,"Wholesale trade":64550},"San Juan County":{"Agriculture & mining":60972,"Arts & food services":52708,"Construction":55234,"Education & health":41382,"Finance & real estate":59063,"Information":0,"Manufacturing":59485,"Other services":24688,"Prof. & waste services":59118,"Public administration":54375,"Retail trade":27305,"Transport & utilities":71250,"Wholesale trade":0},"Sanpete County":{"Agriculture & mining":49931,"Arts & food services":26477,"Construction":47333,"Education & health":58573,"Finance & real estate":43958,"Information":95017,"Manufacturing":47270,"Other services":47566,"Prof. & waste services":46417,"Public administration":66889,"Retail trade":34125,"Transport & utilities":64313,"Wholesale trade":75732},"Sevier County":{"Agriculture & mining":63618,"Arts & food services":34750,"Construction":53750,"Education & health":52582,"Finance & real estate":54479,"Information":63958,"Manufacturing":52305,"Other services":35250,"Prof. & waste services":54167,"Public administration":70037,"Retail trade":41464,"Transport & utilities":62118,"Wholesale trade":54750},"Summit County":{"Agriculture & mining":66071,"Arts & food services":41362,"Construction":64896,"Education & health":78716,"Finance & real estate":87870,"Information":76250,"Manufacturing":89355,"Other services":65764,"Prof. & waste services":99100,"Public administration":80446,"Retail trade":58438,"Transport & utilities":94375,"Wholesale trade":169904},"Tooele County":{"Agriculture & mining":77006,"Arts & food services":39812,"Construction":61146,"Education & health":55825,"Finance & real estate":72196,"Information":71053,"Manufacturing":61536,"Other services":66658,"Prof. & waste services":68542,"Public administration":66810,"Retail trade":41503,"Transport & utilities":60664,"Wholesale trade":61178},"Uintah County":{"Agriculture & mining":72196,"Arts & food services":38478,"Construction":53571,"Education & health":51418,"Finance & real estate":51474,"Information":70597,"Manufacturing":49861,"Other services":42750,"Prof. & waste services":62946,"Public administration":56742,"Retail trade":39295,"Transport & utilities":81477,"Wholesale trade":91350},"Utah County":{"Agriculture & mining":55484,"Arts & food services":32464,"Construction":58951,"Education & health":58606,"Finance & real estate":67886,"Information":83977,"Manufacturing":58132,"Other services":56104,"Prof. & waste services":81723,"Public administration":68294,"Retail trade":44849,"Transport & utilities":64167,"Wholesale trade":63835},"Wasatch County":{"Agriculture & mining":77625,"Arts & food services":48542,"Construction":55559,"Education & health":66236,"Finance & real estate":100848,"Information":140685,"Manufacturing":114833,"Other services":61667,"Prof. & waste services":105987,"Public administration":82656,"Retail trade":55667,"Transport & utilities":72143,"Wholesale trade":75250},"Washington County":{"Agriculture & mining":98129,"Arts & food services":36002,"Construction":60267,"Education & health":59946,"Finance & real estate":58518,"Information":75625,"Manufacturing":48832,"Other services":46687,"Prof. & waste services":59664,"Public administration":65286,"Retail trade":39251,"Transport & utilities":55414,"Wholesale trade":66125},"Wayne County":{"Agriculture & mining":39375,"Arts & food services":48458,"Construction":64567,"Education & health":55929,"Finance & real estate":47321,"Information":0,"Manufacturing":0,"Other services":40167,"Prof. & waste services":33750,"Public administration":46875,"Retail trade":41646,"Transport & utilities":61250,"Wholesale trade":0},"Weber County":{"Agriculture & mining":59685,"Arts & food services":35195,"Construction":58256,"Education & health":53936,"Finance & real estate":56425,"Information":65136,"Manufacturing":57091,"Other services":47500,"Prof. & waste services":58770,"Public administration":67349,"Retail trade":46786,"Transport & utilities":58704,"Wholesale trade":61639}};
    const colors = {
  'Agriculture & mining': '#FFFF01',
  'Arts & food services': '#00008B',
  'Construction': '#7570B1',
  'Education & health': '#66A61E',
  'Finance & real estate': '#E6AB01',
  'Information': '#379',
  'Manufacturing': '#E41A1C',
  'Other services': '#377EF1',
  'Prof. & waste services': '#FF7F00',
  'Public administration': '#1B9E77',
  'Retail trade': '#A65011',
  'Transport & utilities': '#F781BF',
  'Wholesale trade': '#919'
};

    const ctx = document.getElementById("barChart").getContext("2d");
    let chart;

    function renderChart(county) {
      const values = data[county];
      const labels = Object.keys(values);
      const earnings = Object.values(values);

      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [{
            label: "Median Earnings ($)",
            data: earnings,
            backgroundColor: labels.map(label => colors[label] || "#ccc")
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
  aspectRatio: 1.5, 
          indexAxis: "x",
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "Median Earnings ($)"
              },
              ticks: {
                callback: function(value) {
                  return "$" + value.toLocaleString();
                }
              }
            },
            x: {
              ticks: {
                maxRotation: 45,
                minRotation: 20,
                autoSkip: false,
                callback: function(value, index, ticks) {
                  let label = this.getLabelForValue(value);
                  return label.length > 25 ? label.slice(0, 25) + "â€¦" : label;
                }
              }
            }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: function(context) {
                  return "$" + context.parsed.y.toLocaleString();
                }
              }
            },
            legend: {
              display: false
            }
          }
        }
      });
    }

    const select = document.getElementById("countySelect");
    Object.keys(data).forEach(county => {
      const option = document.createElement("option");
      option.value = county;
      option.text = county;
      select.appendChild(option);
    });
    select.value = "Statewide";
    select.addEventListener("change", () => renderChart(select.value));
    renderChart("Statewide");
  </script>
</body>
</html>
</html>
