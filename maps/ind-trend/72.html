<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>


</head>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Median Earnings by Industry – 72</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: white;
    }
    .layout {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1.5rem;
    }
    label {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }
    #countySelect {
      font-size: 1rem;
      padding: 0.4rem 0.8rem;
      margin-bottom: 1rem;
    }
    canvas {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="layout">
    <label for="countySelect">Median Earnings by Industry:</label>
    <select id="countySelect"></select>
    <canvas id="barChart"></canvas>
  </div>

  <script>
    const data = {"Statewide":{"Agriculture & mining":18383,"Arts & food services":21175,"Construction":22972,"Education & health":28956,"Finance & real estate":34441,"Information":40861,"Manufacturing":27856,"Other services":21230,"Prof. & waste services":27155,"Public administration":32871,"Retail trade":24140,"Transport & utilities":30317,"Wholesale trade":30954},"Adjuntas Municipio":{"Agriculture & mining":60143,"Arts & food services":27500,"Construction":17976,"Education & health":22475,"Finance & real estate":20600,"Information":0,"Manufacturing":19199,"Other services":13664,"Prof. & waste services":18750,"Public administration":19500,"Retail trade":17231,"Transport & utilities":20104,"Wholesale trade":0},"Aguada Municipio":{"Agriculture & mining":0,"Arts & food services":20113,"Construction":19209,"Education & health":27346,"Finance & real estate":30069,"Information":21901,"Manufacturing":21933,"Other services":13947,"Prof. & waste services":20641,"Public administration":28235,"Retail trade":19088,"Transport & utilities":24821,"Wholesale trade":18942},"Aguadilla Municipio":{"Agriculture & mining":0,"Arts & food services":20953,"Construction":21907,"Education & health":29558,"Finance & real estate":34094,"Information":42500,"Manufacturing":27571,"Other services":24866,"Prof. & waste services":24847,"Public administration":31897,"Retail trade":20577,"Transport & utilities":25721,"Wholesale trade":27500},"Aguas Buenas Municipio":{"Agriculture & mining":0,"Arts & food services":20953,"Construction":22980,"Education & health":25468,"Finance & real estate":52861,"Information":19446,"Manufacturing":22484,"Other services":14760,"Prof. & waste services":26918,"Public administration":41090,"Retail trade":19871,"Transport & utilities":43167,"Wholesale trade":23850},"Aibonito Municipio":{"Agriculture & mining":17292,"Arts & food services":19844,"Construction":20370,"Education & health":33503,"Finance & real estate":29079,"Information":0,"Manufacturing":28618,"Other services":11803,"Prof. & waste services":29387,"Public administration":30866,"Retail trade":20227,"Transport & utilities":28143,"Wholesale trade":18929},"Añasco Municipio":{"Agriculture & mining":0,"Arts & food services":16101,"Construction":17133,"Education & health":22072,"Finance & real estate":29208,"Information":24076,"Manufacturing":25383,"Other services":18667,"Prof. & waste services":18520,"Public administration":23398,"Retail trade":23246,"Transport & utilities":26838,"Wholesale trade":21774},"Arecibo Municipio":{"Agriculture & mining":18438,"Arts & food services":23452,"Construction":20397,"Education & health":29661,"Finance & real estate":36768,"Information":25172,"Manufacturing":24377,"Other services":24495,"Prof. & waste services":21479,"Public administration":29346,"Retail trade":26233,"Transport & utilities":26422,"Wholesale trade":30774},"Arroyo Municipio":{"Agriculture & mining":0,"Arts & food services":15761,"Construction":22724,"Education & health":24247,"Finance & real estate":28006,"Information":0,"Manufacturing":27083,"Other services":19625,"Prof. & waste services":19863,"Public administration":29890,"Retail trade":25704,"Transport & utilities":52614,"Wholesale trade":56513},"Barceloneta Municipio":{"Agriculture & mining":0,"Arts & food services":21071,"Construction":17194,"Education & health":24722,"Finance & real estate":24071,"Information":0,"Manufacturing":31836,"Other services":21793,"Prof. & waste services":34083,"Public administration":27027,"Retail trade":25734,"Transport & utilities":25685,"Wholesale trade":40197},"Barranquitas Municipio":{"Agriculture & mining":0,"Arts & food services":22298,"Construction":20000,"Education & health":29351,"Finance & real estate":22321,"Information":0,"Manufacturing":20930,"Other services":28242,"Prof. & waste services":17108,"Public administration":23048,"Retail trade":22763,"Transport & utilities":20000,"Wholesale trade":32043},"Bayamón Municipio":{"Agriculture & mining":18952,"Arts & food services":21875,"Construction":24240,"Education & health":31303,"Finance & real estate":35706,"Information":41150,"Manufacturing":35350,"Other services":21595,"Prof. & waste services":27740,"Public administration":32335,"Retail trade":25908,"Transport & utilities":30020,"Wholesale trade":32486},"Cabo Rojo Municipio":{"Agriculture & mining":39514,"Arts & food services":19204,"Construction":23309,"Education & health":28750,"Finance & real estate":30054,"Information":34952,"Manufacturing":19658,"Other services":19864,"Prof. & waste services":19560,"Public administration":30282,"Retail trade":23590,"Transport & utilities":26215,"Wholesale trade":27785},"Caguas Municipio":{"Agriculture & mining":15357,"Arts & food services":20011,"Construction":24280,"Education & health":31657,"Finance & real estate":34643,"Information":45429,"Manufacturing":41596,"Other services":23681,"Prof. & waste services":28764,"Public administration":37274,"Retail trade":25297,"Transport & utilities":41557,"Wholesale trade":29918},"Camuy Municipio":{"Agriculture & mining":13724,"Arts & food services":18667,"Construction":26672,"Education & health":22951,"Finance & real estate":28134,"Information":23587,"Manufacturing":19742,"Other services":15096,"Prof. & waste services":23600,"Public administration":25774,"Retail trade":21824,"Transport & utilities":35096,"Wholesale trade":33266},"Canóvanas Municipio":{"Agriculture & mining":0,"Arts & food services":21191,"Construction":23734,"Education & health":27956,"Finance & real estate":35041,"Information":33304,"Manufacturing":30337,"Other services":20398,"Prof. & waste services":21959,"Public administration":41615,"Retail trade":25110,"Transport & utilities":25276,"Wholesale trade":30230},"Carolina Municipio":{"Agriculture & mining":25104,"Arts & food services":21548,"Construction":24828,"Education & health":29513,"Finance & real estate":34568,"Information":39615,"Manufacturing":42374,"Other services":22664,"Prof. & waste services":30018,"Public administration":36607,"Retail trade":25414,"Transport & utilities":28531,"Wholesale trade":28779},"Cataño Municipio":{"Agriculture & mining":0,"Arts & food services":23560,"Construction":23472,"Education & health":28217,"Finance & real estate":28372,"Information":40694,"Manufacturing":39663,"Other services":18500,"Prof. & waste services":23864,"Public administration":28931,"Retail trade":26094,"Transport & utilities":26678,"Wholesale trade":52639},"Cayey Municipio":{"Agriculture & mining":0,"Arts & food services":35071,"Construction":19867,"Education & health":33982,"Finance & real estate":27599,"Information":43693,"Manufacturing":42917,"Other services":20549,"Prof. & waste services":36103,"Public administration":28935,"Retail trade":19979,"Transport & utilities":28000,"Wholesale trade":36081},"Ceiba Municipio":{"Agriculture & mining":0,"Arts & food services":19658,"Construction":21910,"Education & health":27577,"Finance & real estate":24188,"Information":0,"Manufacturing":20083,"Other services":23864,"Prof. & waste services":18888,"Public administration":29583,"Retail trade":37763,"Transport & utilities":55750,"Wholesale trade":0},"Ciales Municipio":{"Agriculture & mining":0,"Arts & food services":16332,"Construction":25375,"Education & health":19688,"Finance & real estate":0,"Information":0,"Manufacturing":23971,"Other services":6915,"Prof. & waste services":18835,"Public administration":29759,"Retail trade":23270,"Transport & utilities":26745,"Wholesale trade":0},"Cidra Municipio":{"Agriculture & mining":23147,"Arts & food services":19108,"Construction":20965,"Education & health":27549,"Finance & real estate":53203,"Information":26049,"Manufacturing":29677,"Other services":17976,"Prof. & waste services":30372,"Public administration":40558,"Retail trade":21156,"Transport & utilities":25847,"Wholesale trade":25722},"Coamo Municipio":{"Agriculture & mining":18216,"Arts & food services":26905,"Construction":19132,"Education & health":26383,"Finance & real estate":27260,"Information":17543,"Manufacturing":25988,"Other services":12500,"Prof. & waste services":27417,"Public administration":27544,"Retail trade":25846,"Transport & utilities":18952,"Wholesale trade":34087},"Comerío Municipio":{"Agriculture & mining":0,"Arts & food services":29280,"Construction":21511,"Education & health":26766,"Finance & real estate":26293,"Information":0,"Manufacturing":24455,"Other services":21700,"Prof. & waste services":16667,"Public administration":22472,"Retail trade":28125,"Transport & utilities":18845,"Wholesale trade":16278},"Corozal Municipio":{"Agriculture & mining":0,"Arts & food services":19875,"Construction":23156,"Education & health":29138,"Finance & real estate":28101,"Information":24031,"Manufacturing":22522,"Other services":18585,"Prof. & waste services":26555,"Public administration":27184,"Retail trade":25883,"Transport & utilities":35208,"Wholesale trade":24792},"Culebra Municipio":{"Agriculture & mining":0,"Arts & food services":18281,"Construction":19205,"Education & health":19550,"Finance & real estate":0,"Information":0,"Manufacturing":0,"Other services":0,"Prof. & waste services":0,"Public administration":21875,"Retail trade":0,"Transport & utilities":69250,"Wholesale trade":0},"Dorado Municipio":{"Agriculture & mining":0,"Arts & food services":23036,"Construction":19492,"Education & health":31363,"Finance & real estate":32038,"Information":73938,"Manufacturing":41625,"Other services":18897,"Prof. & waste services":30144,"Public administration":37152,"Retail trade":26117,"Transport & utilities":43125,"Wholesale trade":29259},"Fajardo Municipio":{"Agriculture & mining":16875,"Arts & food services":23750,"Construction":19875,"Education & health":23478,"Finance & real estate":40443,"Information":47639,"Manufacturing":21578,"Other services":22375,"Prof. & waste services":19731,"Public administration":27182,"Retail trade":21006,"Transport & utilities":28575,"Wholesale trade":49333},"Florida Municipio":{"Agriculture & mining":0,"Arts & food services":13682,"Construction":23713,"Education & health":23185,"Finance & real estate":32091,"Information":0,"Manufacturing":26346,"Other services":0,"Prof. & waste services":19265,"Public administration":25597,"Retail trade":17738,"Transport & utilities":0,"Wholesale trade":0},"Guánica Municipio":{"Agriculture & mining":0,"Arts & food services":19632,"Construction":31250,"Education & health":28772,"Finance & real estate":29554,"Information":0,"Manufacturing":18800,"Other services":21298,"Prof. & waste services":17390,"Public administration":34188,"Retail trade":15000,"Transport & utilities":48333,"Wholesale trade":0},"Guayama Municipio":{"Agriculture & mining":19357,"Arts & food services":21046,"Construction":27375,"Education & health":27985,"Finance & real estate":25815,"Information":21250,"Manufacturing":29350,"Other services":23781,"Prof. & waste services":21784,"Public administration":36597,"Retail trade":28887,"Transport & utilities":35474,"Wholesale trade":19875},"Guayanilla Municipio":{"Agriculture & mining":0,"Arts & food services":17468,"Construction":19660,"Education & health":27517,"Finance & real estate":0,"Information":0,"Manufacturing":21473,"Other services":16161,"Prof. & waste services":20707,"Public administration":27040,"Retail trade":21649,"Transport & utilities":25938,"Wholesale trade":0},"Guaynabo Municipio":{"Agriculture & mining":22206,"Arts & food services":23304,"Construction":31045,"Education & health":40404,"Finance & real estate":47184,"Information":57868,"Manufacturing":59423,"Other services":32157,"Prof. & waste services":52798,"Public administration":45701,"Retail trade":25990,"Transport & utilities":56055,"Wholesale trade":55583},"Gurabo Municipio":{"Agriculture & mining":27061,"Arts & food services":21487,"Construction":38125,"Education & health":35284,"Finance & real estate":41554,"Information":67579,"Manufacturing":58599,"Other services":35099,"Prof. & waste services":40768,"Public administration":35243,"Retail trade":34016,"Transport & utilities":32202,"Wholesale trade":32202},"Hatillo Municipio":{"Agriculture & mining":23594,"Arts & food services":30123,"Construction":26602,"Education & health":25767,"Finance & real estate":23645,"Information":43068,"Manufacturing":20464,"Other services":18134,"Prof. & waste services":20795,"Public administration":35148,"Retail trade":24265,"Transport & utilities":19122,"Wholesale trade":40302},"Hormigueros Municipio":{"Agriculture & mining":4569,"Arts & food services":23401,"Construction":23281,"Education & health":24121,"Finance & real estate":27083,"Information":0,"Manufacturing":22432,"Other services":23350,"Prof. & waste services":33984,"Public administration":30278,"Retail trade":25240,"Transport & utilities":28348,"Wholesale trade":43207},"Humacao Municipio":{"Agriculture & mining":18370,"Arts & food services":22250,"Construction":19473,"Education & health":27910,"Finance & real estate":32372,"Information":50132,"Manufacturing":29504,"Other services":24156,"Prof. & waste services":20951,"Public administration":34167,"Retail trade":22656,"Transport & utilities":28854,"Wholesale trade":21818},"Isabela Municipio":{"Agriculture & mining":0,"Arts & food services":34155,"Construction":22966,"Education & health":26241,"Finance & real estate":24647,"Information":0,"Manufacturing":40045,"Other services":25126,"Prof. & waste services":30078,"Public administration":28902,"Retail trade":21935,"Transport & utilities":29603,"Wholesale trade":26286},"Jayuya Municipio":{"Agriculture & mining":0,"Arts & food services":16037,"Construction":24201,"Education & health":25397,"Finance & real estate":0,"Information":0,"Manufacturing":22263,"Other services":12604,"Prof. & waste services":24360,"Public administration":17491,"Retail trade":21777,"Transport & utilities":0,"Wholesale trade":0},"Juana Díaz Municipio":{"Agriculture & mining":17253,"Arts & food services":17928,"Construction":21111,"Education & health":26707,"Finance & real estate":38161,"Information":16841,"Manufacturing":30505,"Other services":30436,"Prof. & waste services":19383,"Public administration":33695,"Retail trade":19777,"Transport & utilities":26328,"Wholesale trade":23930},"Juncos Municipio":{"Agriculture & mining":16647,"Arts & food services":17952,"Construction":19223,"Education & health":26567,"Finance & real estate":28040,"Information":85631,"Manufacturing":32188,"Other services":21210,"Prof. & waste services":26434,"Public administration":31130,"Retail trade":25601,"Transport & utilities":31174,"Wholesale trade":21036},"Lajas Municipio":{"Agriculture & mining":30704,"Arts & food services":20702,"Construction":18068,"Education & health":24258,"Finance & real estate":23625,"Information":0,"Manufacturing":18409,"Other services":27029,"Prof. & waste services":25357,"Public administration":21028,"Retail trade":21140,"Transport & utilities":30060,"Wholesale trade":62979},"Lares Municipio":{"Agriculture & mining":12837,"Arts & food services":18148,"Construction":19773,"Education & health":28209,"Finance & real estate":20000,"Information":0,"Manufacturing":20453,"Other services":20197,"Prof. & waste services":20347,"Public administration":27607,"Retail trade":20385,"Transport & utilities":20938,"Wholesale trade":36343},"Las Marías Municipio":{"Agriculture & mining":19833,"Arts & food services":19830,"Construction":36138,"Education & health":24281,"Finance & real estate":0,"Information":0,"Manufacturing":17345,"Other services":23056,"Prof. & waste services":0,"Public administration":21681,"Retail trade":14625,"Transport & utilities":0,"Wholesale trade":0},"Las Piedras Municipio":{"Agriculture & mining":20233,"Arts & food services":20085,"Construction":24485,"Education & health":26938,"Finance & real estate":42794,"Information":0,"Manufacturing":38883,"Other services":21049,"Prof. & waste services":22731,"Public administration":42917,"Retail trade":24717,"Transport & utilities":51961,"Wholesale trade":0},"Loíza Municipio":{"Agriculture & mining":10705,"Arts & food services":22208,"Construction":26324,"Education & health":26381,"Finance & real estate":27500,"Information":55833,"Manufacturing":24838,"Other services":25722,"Prof. & waste services":18810,"Public administration":28321,"Retail trade":27816,"Transport & utilities":29219,"Wholesale trade":27500},"Luquillo Municipio":{"Agriculture & mining":0,"Arts & food services":20242,"Construction":24457,"Education & health":35212,"Finance & real estate":31520,"Information":0,"Manufacturing":26753,"Other services":20114,"Prof. & waste services":19588,"Public administration":25284,"Retail trade":18602,"Transport & utilities":36250,"Wholesale trade":56406},"Manatí Municipio":{"Agriculture & mining":17143,"Arts & food services":19870,"Construction":19882,"Education & health":24875,"Finance & real estate":50703,"Information":30815,"Manufacturing":33600,"Other services":25164,"Prof. & waste services":26812,"Public administration":31534,"Retail trade":24180,"Transport & utilities":36579,"Wholesale trade":38438},"Maricao Municipio":{"Agriculture & mining":0,"Arts & food services":17857,"Construction":0,"Education & health":28689,"Finance & real estate":0,"Information":0,"Manufacturing":17290,"Other services":0,"Prof. & waste services":0,"Public administration":41447,"Retail trade":19583,"Transport & utilities":0,"Wholesale trade":0},"Maunabo Municipio":{"Agriculture & mining":0,"Arts & food services":15980,"Construction":19594,"Education & health":23643,"Finance & real estate":25167,"Information":0,"Manufacturing":26179,"Other services":18821,"Prof. & waste services":23825,"Public administration":23285,"Retail trade":28333,"Transport & utilities":0,"Wholesale trade":0},"Mayagüez Municipio":{"Agriculture & mining":0,"Arts & food services":19413,"Construction":25735,"Education & health":28246,"Finance & real estate":32000,"Information":23611,"Manufacturing":19812,"Other services":20467,"Prof. & waste services":23450,"Public administration":31122,"Retail trade":19213,"Transport & utilities":26776,"Wholesale trade":31435},"Moca Municipio":{"Agriculture & mining":48750,"Arts & food services":21646,"Construction":21302,"Education & health":28611,"Finance & real estate":32903,"Information":37879,"Manufacturing":24362,"Other services":26875,"Prof. & waste services":26610,"Public administration":29732,"Retail trade":25147,"Transport & utilities":33750,"Wholesale trade":23508},"Morovis Municipio":{"Agriculture & mining":0,"Arts & food services":22779,"Construction":23496,"Education & health":31631,"Finance & real estate":29048,"Information":32120,"Manufacturing":28824,"Other services":14821,"Prof. & waste services":23529,"Public administration":24580,"Retail trade":23919,"Transport & utilities":27461,"Wholesale trade":28247},"Naguabo Municipio":{"Agriculture & mining":0,"Arts & food services":19643,"Construction":18826,"Education & health":24113,"Finance & real estate":24035,"Information":0,"Manufacturing":24085,"Other services":17052,"Prof. & waste services":19927,"Public administration":32696,"Retail trade":19864,"Transport & utilities":0,"Wholesale trade":43261},"Naranjito Municipio":{"Agriculture & mining":21348,"Arts & food services":25903,"Construction":24080,"Education & health":23939,"Finance & real estate":22345,"Information":41555,"Manufacturing":19286,"Other services":19478,"Prof. & waste services":19773,"Public administration":35076,"Retail trade":20455,"Transport & utilities":21274,"Wholesale trade":25343},"Orocovis Municipio":{"Agriculture & mining":0,"Arts & food services":15795,"Construction":20453,"Education & health":23297,"Finance & real estate":25580,"Information":0,"Manufacturing":24608,"Other services":20066,"Prof. & waste services":22200,"Public administration":34538,"Retail trade":21275,"Transport & utilities":16083,"Wholesale trade":23804},"Patillas Municipio":{"Agriculture & mining":0,"Arts & food services":28609,"Construction":37005,"Education & health":29583,"Finance & real estate":35361,"Information":0,"Manufacturing":22241,"Other services":15024,"Prof. & waste services":15820,"Public administration":23359,"Retail trade":26034,"Transport & utilities":33033,"Wholesale trade":0},"Peñuelas Municipio":{"Agriculture & mining":15455,"Arts & food services":17057,"Construction":16735,"Education & health":26116,"Finance & real estate":42115,"Information":0,"Manufacturing":20216,"Other services":16250,"Prof. & waste services":22689,"Public administration":31045,"Retail trade":21630,"Transport & utilities":23583,"Wholesale trade":21188},"Ponce Municipio":{"Agriculture & mining":15992,"Arts & food services":19499,"Construction":20179,"Education & health":30267,"Finance & real estate":31792,"Information":44300,"Manufacturing":25661,"Other services":22309,"Prof. & waste services":24987,"Public administration":32465,"Retail trade":22783,"Transport & utilities":32898,"Wholesale trade":31687},"Quebradillas Municipio":{"Agriculture & mining":0,"Arts & food services":17697,"Construction":20469,"Education & health":29445,"Finance & real estate":21534,"Information":0,"Manufacturing":23244,"Other services":18476,"Prof. & waste services":22019,"Public administration":31964,"Retail trade":27732,"Transport & utilities":17321,"Wholesale trade":0},"Rincón Municipio":{"Agriculture & mining":0,"Arts & food services":18646,"Construction":17132,"Education & health":33750,"Finance & real estate":40214,"Information":30391,"Manufacturing":31292,"Other services":0,"Prof. & waste services":19678,"Public administration":26334,"Retail trade":16611,"Transport & utilities":0,"Wholesale trade":33750},"Río Grande Municipio":{"Agriculture & mining":25093,"Arts & food services":22136,"Construction":22033,"Education & health":29965,"Finance & real estate":29101,"Information":24773,"Manufacturing":25234,"Other services":17922,"Prof. & waste services":20049,"Public administration":32243,"Retail trade":22063,"Transport & utilities":30768,"Wholesale trade":25599},"Sabana Grande Municipio":{"Agriculture & mining":21683,"Arts & food services":19552,"Construction":7005,"Education & health":32775,"Finance & real estate":22981,"Information":0,"Manufacturing":24448,"Other services":9960,"Prof. & waste services":19744,"Public administration":30945,"Retail trade":17574,"Transport & utilities":75268,"Wholesale trade":6864},"Salinas Municipio":{"Agriculture & mining":16957,"Arts & food services":19866,"Construction":20612,"Education & health":23145,"Finance & real estate":34087,"Information":0,"Manufacturing":25458,"Other services":18750,"Prof. & waste services":17500,"Public administration":27885,"Retail trade":17346,"Transport & utilities":23694,"Wholesale trade":0},"San Germán Municipio":{"Agriculture & mining":0,"Arts & food services":16313,"Construction":18343,"Education & health":30423,"Finance & real estate":32073,"Information":0,"Manufacturing":19299,"Other services":35217,"Prof. & waste services":17409,"Public administration":22000,"Retail trade":19292,"Transport & utilities":22000,"Wholesale trade":23629},"San Juan Municipio":{"Agriculture & mining":19922,"Arts & food services":25225,"Construction":26690,"Education & health":35869,"Finance & real estate":36813,"Information":44660,"Manufacturing":41917,"Other services":22142,"Prof. & waste services":42113,"Public administration":40229,"Retail trade":27206,"Transport & utilities":32147,"Wholesale trade":40984},"San Lorenzo Municipio":{"Agriculture & mining":19470,"Arts & food services":19178,"Construction":20739,"Education & health":28881,"Finance & real estate":30755,"Information":0,"Manufacturing":27748,"Other services":30726,"Prof. & waste services":23150,"Public administration":30196,"Retail trade":26380,"Transport & utilities":59028,"Wholesale trade":26495},"San Sebastián Municipio":{"Agriculture & mining":17031,"Arts & food services":38821,"Construction":19319,"Education & health":27259,"Finance & real estate":38669,"Information":0,"Manufacturing":24281,"Other services":18732,"Prof. & waste services":18498,"Public administration":27091,"Retail trade":24844,"Transport & utilities":27065,"Wholesale trade":27368},"Santa Isabel Municipio":{"Agriculture & mining":15967,"Arts & food services":21019,"Construction":26635,"Education & health":22425,"Finance & real estate":49853,"Information":22296,"Manufacturing":27523,"Other services":18092,"Prof. & waste services":17248,"Public administration":29167,"Retail trade":29881,"Transport & utilities":42027,"Wholesale trade":0},"Toa Alta Municipio":{"Agriculture & mining":0,"Arts & food services":22987,"Construction":29399,"Education & health":28581,"Finance & real estate":37531,"Information":44046,"Manufacturing":38112,"Other services":24623,"Prof. & waste services":28352,"Public administration":32624,"Retail trade":25972,"Transport & utilities":32913,"Wholesale trade":35000},"Toa Baja Municipio":{"Agriculture & mining":0,"Arts & food services":21400,"Construction":23414,"Education & health":28174,"Finance & real estate":34355,"Information":35890,"Manufacturing":29722,"Other services":24315,"Prof. & waste services":28612,"Public administration":37095,"Retail trade":25822,"Transport & utilities":35333,"Wholesale trade":30129},"Trujillo Alto Municipio":{"Agriculture & mining":0,"Arts & food services":29858,"Construction":23308,"Education & health":29975,"Finance & real estate":36774,"Information":51250,"Manufacturing":56182,"Other services":29853,"Prof. & waste services":37184,"Public administration":36196,"Retail trade":24625,"Transport & utilities":29534,"Wholesale trade":33977},"Utuado Municipio":{"Agriculture & mining":28977,"Arts & food services":12344,"Construction":19205,"Education & health":21514,"Finance & real estate":28750,"Information":0,"Manufacturing":23065,"Other services":28495,"Prof. & waste services":22424,"Public administration":27936,"Retail trade":20984,"Transport & utilities":40268,"Wholesale trade":21991},"Vega Alta Municipio":{"Agriculture & mining":0,"Arts & food services":24044,"Construction":34732,"Education & health":26130,"Finance & real estate":45101,"Information":0,"Manufacturing":43009,"Other services":21382,"Prof. & waste services":26134,"Public administration":35086,"Retail trade":23533,"Transport & utilities":28194,"Wholesale trade":33229},"Vega Baja Municipio":{"Agriculture & mining":11098,"Arts & food services":20788,"Construction":25577,"Education & health":28133,"Finance & real estate":33858,"Information":23333,"Manufacturing":31013,"Other services":19556,"Prof. & waste services":24773,"Public administration":31926,"Retail trade":22948,"Transport & utilities":25677,"Wholesale trade":28984},"Vieques Municipio":{"Agriculture & mining":0,"Arts & food services":18983,"Construction":18336,"Education & health":23750,"Finance & real estate":0,"Information":0,"Manufacturing":0,"Other services":15667,"Prof. & waste services":0,"Public administration":35179,"Retail trade":28234,"Transport & utilities":0,"Wholesale trade":0},"Villalba Municipio":{"Agriculture & mining":16824,"Arts & food services":16314,"Construction":26237,"Education & health":26047,"Finance & real estate":29083,"Information":33563,"Manufacturing":22377,"Other services":23986,"Prof. & waste services":37768,"Public administration":35714,"Retail trade":21681,"Transport & utilities":16420,"Wholesale trade":16602},"Yabucoa Municipio":{"Agriculture & mining":0,"Arts & food services":26395,"Construction":22115,"Education & health":26599,"Finance & real estate":29571,"Information":0,"Manufacturing":28837,"Other services":16927,"Prof. & waste services":18302,"Public administration":28750,"Retail trade":19773,"Transport & utilities":36944,"Wholesale trade":0},"Yauco Municipio":{"Agriculture & mining":15000,"Arts & food services":15609,"Construction":30128,"Education & health":25221,"Finance & real estate":21179,"Information":0,"Manufacturing":24364,"Other services":18897,"Prof. & waste services":19286,"Public administration":31212,"Retail trade":18819,"Transport & utilities":19575,"Wholesale trade":19144}};
    const colors = {
  'Agriculture & mining': '#FFFF01',
  'Arts & food services': '#00008B',
  'Construction': '#7570B1',
  'Education & health': '#66A61E',
  'Finance & real estate': '#E6AB01',
  'Information': '#379',
  'Manufacturing': '#E41A1C',
  'Other services': '#377EF1',
  'Prof. & waste services': '#FF7F00',
  'Public administration': '#1B9E77',
  'Retail trade': '#A65011',
  'Transport & utilities': '#F781BF',
  'Wholesale trade': '#919'
};

    const ctx = document.getElementById("barChart").getContext("2d");
    let chart;

    function renderChart(county) {
      const values = data[county];
      const labels = Object.keys(values);
      const earnings = Object.values(values);

      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [{
            label: "Median Earnings ($)",
            data: earnings,
            backgroundColor: labels.map(label => colors[label] || "#ccc")
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
  aspectRatio: 1.5, 
          indexAxis: "x",
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: "Median Earnings ($)"
              },
              ticks: {
                callback: function(value) {
                  return "$" + value.toLocaleString();
                }
              }
            },
            x: {
              ticks: {
                maxRotation: 45,
                minRotation: 20,
                autoSkip: false,
                callback: function(value, index, ticks) {
                  let label = this.getLabelForValue(value);
                  return label.length > 25 ? label.slice(0, 25) + "…" : label;
                }
              }
            }
          },
          plugins: {
            tooltip: {
              callbacks: {
                label: function(context) {
                  return "$" + context.parsed.y.toLocaleString();
                }
              }
            },
            legend: {
              display: false
            }
          }
        }
      });
    }

    const select = document.getElementById("countySelect");
    Object.keys(data).forEach(county => {
      const option = document.createElement("option");
      option.value = county;
      option.text = county;
      select.appendChild(option);
    });
    select.value = "Statewide";
    select.addEventListener("change", () => renderChart(select.value));
    renderChart("Statewide");
  </script>
</body>
</html>
</html>
