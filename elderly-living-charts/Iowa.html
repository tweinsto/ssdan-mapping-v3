<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Living Arrangements â€“ Iowa</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          margin: 1rem 2rem;
          text-align: center;
        }
        h2 {
          font-size: 1.5rem;
          margin-bottom: 0.5rem;
        }
        select {
          font-size: 1rem;
          padding: 0.4rem;
          margin: 1rem 0;
          border: 1px solid #999;
          border-radius: 5px;
        }
        canvas {
          width: 100%;
          max-width: 850px;
          height: 600px;
          margin-top: 1rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Living Arrangements of Adults 65+ in Iowa</h2>
    <label>Select County:</label>
            <select id="countySelect">
          <option value='Statewide'>Default</option>
<option value='Adair County, Iowa'>Adair County, Iowa</option>
<option value='Adams County, Iowa'>Adams County, Iowa</option>
<option value='Allamakee County, Iowa'>Allamakee County, Iowa</option>
<option value='Appanoose County, Iowa'>Appanoose County, Iowa</option>
<option value='Audubon County, Iowa'>Audubon County, Iowa</option>
<option value='Benton County, Iowa'>Benton County, Iowa</option>
<option value='Black Hawk County, Iowa'>Black Hawk County, Iowa</option>
<option value='Boone County, Iowa'>Boone County, Iowa</option>
<option value='Bremer County, Iowa'>Bremer County, Iowa</option>
<option value='Buchanan County, Iowa'>Buchanan County, Iowa</option>
<option value='Buena Vista County, Iowa'>Buena Vista County, Iowa</option>
<option value='Butler County, Iowa'>Butler County, Iowa</option>
<option value='Calhoun County, Iowa'>Calhoun County, Iowa</option>
<option value='Carroll County, Iowa'>Carroll County, Iowa</option>
<option value='Cass County, Iowa'>Cass County, Iowa</option>
<option value='Cedar County, Iowa'>Cedar County, Iowa</option>
<option value='Cerro Gordo County, Iowa'>Cerro Gordo County, Iowa</option>
<option value='Cherokee County, Iowa'>Cherokee County, Iowa</option>
<option value='Chickasaw County, Iowa'>Chickasaw County, Iowa</option>
<option value='Clarke County, Iowa'>Clarke County, Iowa</option>
<option value='Clay County, Iowa'>Clay County, Iowa</option>
<option value='Clayton County, Iowa'>Clayton County, Iowa</option>
<option value='Clinton County, Iowa'>Clinton County, Iowa</option>
<option value='Crawford County, Iowa'>Crawford County, Iowa</option>
<option value='Dallas County, Iowa'>Dallas County, Iowa</option>
<option value='Davis County, Iowa'>Davis County, Iowa</option>
<option value='Decatur County, Iowa'>Decatur County, Iowa</option>
<option value='Delaware County, Iowa'>Delaware County, Iowa</option>
<option value='Des Moines County, Iowa'>Des Moines County, Iowa</option>
<option value='Dickinson County, Iowa'>Dickinson County, Iowa</option>
<option value='Dubuque County, Iowa'>Dubuque County, Iowa</option>
<option value='Emmet County, Iowa'>Emmet County, Iowa</option>
<option value='Fayette County, Iowa'>Fayette County, Iowa</option>
<option value='Floyd County, Iowa'>Floyd County, Iowa</option>
<option value='Franklin County, Iowa'>Franklin County, Iowa</option>
<option value='Fremont County, Iowa'>Fremont County, Iowa</option>
<option value='Greene County, Iowa'>Greene County, Iowa</option>
<option value='Grundy County, Iowa'>Grundy County, Iowa</option>
<option value='Guthrie County, Iowa'>Guthrie County, Iowa</option>
<option value='Hamilton County, Iowa'>Hamilton County, Iowa</option>
<option value='Hancock County, Iowa'>Hancock County, Iowa</option>
<option value='Hardin County, Iowa'>Hardin County, Iowa</option>
<option value='Harrison County, Iowa'>Harrison County, Iowa</option>
<option value='Henry County, Iowa'>Henry County, Iowa</option>
<option value='Howard County, Iowa'>Howard County, Iowa</option>
<option value='Humboldt County, Iowa'>Humboldt County, Iowa</option>
<option value='Ida County, Iowa'>Ida County, Iowa</option>
<option value='Iowa County, Iowa'>Iowa County, Iowa</option>
<option value='Jackson County, Iowa'>Jackson County, Iowa</option>
<option value='Jasper County, Iowa'>Jasper County, Iowa</option>
<option value='Jefferson County, Iowa'>Jefferson County, Iowa</option>
<option value='Johnson County, Iowa'>Johnson County, Iowa</option>
<option value='Jones County, Iowa'>Jones County, Iowa</option>
<option value='Keokuk County, Iowa'>Keokuk County, Iowa</option>
<option value='Kossuth County, Iowa'>Kossuth County, Iowa</option>
<option value='Lee County, Iowa'>Lee County, Iowa</option>
<option value='Linn County, Iowa'>Linn County, Iowa</option>
<option value='Louisa County, Iowa'>Louisa County, Iowa</option>
<option value='Lucas County, Iowa'>Lucas County, Iowa</option>
<option value='Lyon County, Iowa'>Lyon County, Iowa</option>
<option value='Madison County, Iowa'>Madison County, Iowa</option>
<option value='Mahaska County, Iowa'>Mahaska County, Iowa</option>
<option value='Marion County, Iowa'>Marion County, Iowa</option>
<option value='Marshall County, Iowa'>Marshall County, Iowa</option>
<option value='Mills County, Iowa'>Mills County, Iowa</option>
<option value='Mitchell County, Iowa'>Mitchell County, Iowa</option>
<option value='Monona County, Iowa'>Monona County, Iowa</option>
<option value='Monroe County, Iowa'>Monroe County, Iowa</option>
<option value='Montgomery County, Iowa'>Montgomery County, Iowa</option>
<option value='Muscatine County, Iowa'>Muscatine County, Iowa</option>
<option value='O'Brien County, Iowa'>O'Brien County, Iowa</option>
<option value='Osceola County, Iowa'>Osceola County, Iowa</option>
<option value='Page County, Iowa'>Page County, Iowa</option>
<option value='Palo Alto County, Iowa'>Palo Alto County, Iowa</option>
<option value='Plymouth County, Iowa'>Plymouth County, Iowa</option>
<option value='Pocahontas County, Iowa'>Pocahontas County, Iowa</option>
<option value='Polk County, Iowa'>Polk County, Iowa</option>
<option value='Pottawattamie County, Iowa'>Pottawattamie County, Iowa</option>
<option value='Poweshiek County, Iowa'>Poweshiek County, Iowa</option>
<option value='Ringgold County, Iowa'>Ringgold County, Iowa</option>
<option value='Sac County, Iowa'>Sac County, Iowa</option>
<option value='Scott County, Iowa'>Scott County, Iowa</option>
<option value='Shelby County, Iowa'>Shelby County, Iowa</option>
<option value='Sioux County, Iowa'>Sioux County, Iowa</option>
<option value='Story County, Iowa'>Story County, Iowa</option>
<option value='Tama County, Iowa'>Tama County, Iowa</option>
<option value='Taylor County, Iowa'>Taylor County, Iowa</option>
<option value='Union County, Iowa'>Union County, Iowa</option>
<option value='Van Buren County, Iowa'>Van Buren County, Iowa</option>
<option value='Wapello County, Iowa'>Wapello County, Iowa</option>
<option value='Warren County, Iowa'>Warren County, Iowa</option>
<option value='Washington County, Iowa'>Washington County, Iowa</option>
<option value='Wayne County, Iowa'>Wayne County, Iowa</option>
<option value='Webster County, Iowa'>Webster County, Iowa</option>
<option value='Winnebago County, Iowa'>Winnebago County, Iowa</option>
<option value='Winneshiek County, Iowa'>Winneshiek County, Iowa</option>
<option value='Woodbury County, Iowa'>Woodbury County, Iowa</option>
<option value='Worth County, Iowa'>Worth County, Iowa</option>
<option value='Wright County, Iowa'>Wright County, Iowa</option>
        </select>
    <canvas id="barChart"></canvas>
    <script>  const chartData = {"Statewide":[0,0,0,0,0,0],"Adair County, Iowa":[0,0,0,0,0,0],"Adams County, Iowa":[0,0,0,0,0,0],"Allamakee County, Iowa":[0,0,0,0,0,0],"Appanoose County, Iowa":[0,0,0,0,0,0],"Audubon County, Iowa":[0,0,0,0,0,0],"Benton County, Iowa":[0,0,0,0,0,0],"Black Hawk County, Iowa":[0,0,0,0,0,0],"Boone County, Iowa":[0,0,0,0,0,0],"Bremer County, Iowa":[0,0,0,0,0,0],"Buchanan County, Iowa":[0,0,0,0,0,0],"Buena Vista County, Iowa":[0,0,0,0,0,0],"Butler County, Iowa":[0,0,0,0,0,0],"Calhoun County, Iowa":[0,0,0,0,0,0],"Carroll County, Iowa":[0,0,0,0,0,0],"Cass County, Iowa":[0,0,0,0,0,0],"Cedar County, Iowa":[0,0,0,0,0,0],"Cerro Gordo County, Iowa":[0,0,0,0,0,0],"Cherokee County, Iowa":[0,0,0,0,0,0],"Chickasaw County, Iowa":[0,0,0,0,0,0],"Clarke County, Iowa":[0,0,0,0,0,0],"Clay County, Iowa":[0,0,0,0,0,0],"Clayton County, Iowa":[0,0,0,0,0,0],"Clinton County, Iowa":[0,0,0,0,0,0],"Crawford County, Iowa":[0,0,0,0,0,0],"Dallas County, Iowa":[0,0,0,0,0,0],"Davis County, Iowa":[0,0,0,0,0,0],"Decatur County, Iowa":[0,0,0,0,0,0],"Delaware County, Iowa":[0,0,0,0,0,0],"Des Moines County, Iowa":[0,0,0,0,0,0],"Dickinson County, Iowa":[0,0,0,0,0,0],"Dubuque County, Iowa":[0,0,0,0,0,0],"Emmet County, Iowa":[0,0,0,0,0,0],"Fayette County, Iowa":[0,0,0,0,0,0],"Floyd County, Iowa":[0,0,0,0,0,0],"Franklin County, Iowa":[0,0,0,0,0,0],"Fremont County, Iowa":[0,0,0,0,0,0],"Greene County, Iowa":[0,0,0,0,0,0],"Grundy County, Iowa":[0,0,0,0,0,0],"Guthrie County, Iowa":[0,0,0,0,0,0],"Hamilton County, Iowa":[0,0,0,0,0,0],"Hancock County, Iowa":[0,0,0,0,0,0],"Hardin County, Iowa":[0,0,0,0,0,0],"Harrison County, Iowa":[0,0,0,0,0,0],"Henry County, Iowa":[0,0,0,0,0,0],"Howard County, Iowa":[0,0,0,0,0,0],"Humboldt County, Iowa":[0,0,0,0,0,0],"Ida County, Iowa":[0,0,0,0,0,0],"Iowa County, Iowa":[0,0,0,0,0,0],"Jackson County, Iowa":[0,0,0,0,0,0],"Jasper County, Iowa":[0,0,0,0,0,0],"Jefferson County, Iowa":[0,0,0,0,0,0],"Johnson County, Iowa":[0,0,0,0,0,0],"Jones County, Iowa":[0,0,0,0,0,0],"Keokuk County, Iowa":[0,0,0,0,0,0],"Kossuth County, Iowa":[0,0,0,0,0,0],"Lee County, Iowa":[0,0,0,0,0,0],"Linn County, Iowa":[0,0,0,0,0,0],"Louisa County, Iowa":[0,0,0,0,0,0],"Lucas County, Iowa":[0,0,0,0,0,0],"Lyon County, Iowa":[0,0,0,0,0,0],"Madison County, Iowa":[0,0,0,0,0,0],"Mahaska County, Iowa":[0,0,0,0,0,0],"Marion County, Iowa":[0,0,0,0,0,0],"Marshall County, Iowa":[0,0,0,0,0,0],"Mills County, Iowa":[0,0,0,0,0,0],"Mitchell County, Iowa":[0,0,0,0,0,0],"Monona County, Iowa":[0,0,0,0,0,0],"Monroe County, Iowa":[0,0,0,0,0,0],"Montgomery County, Iowa":[0,0,0,0,0,0],"Muscatine County, Iowa":[0,0,0,0,0,0],"O'Brien County, Iowa":[0,0,0,0,0,0],"Osceola County, Iowa":[0,0,0,0,0,0],"Page County, Iowa":[0,0,0,0,0,0],"Palo Alto County, Iowa":[0,0,0,0,0,0],"Plymouth County, Iowa":[0,0,0,0,0,0],"Pocahontas County, Iowa":[0,0,0,0,0,0],"Polk County, Iowa":[0,0,0,0,0,0],"Pottawattamie County, Iowa":[0,0,0,0,0,0],"Poweshiek County, Iowa":[0,0,0,0,0,0],"Ringgold County, Iowa":[0,0,0,0,0,0],"Sac County, Iowa":[0,0,0,0,0,0],"Scott County, Iowa":[0,0,0,0,0,0],"Shelby County, Iowa":[0,0,0,0,0,0],"Sioux County, Iowa":[0,0,0,0,0,0],"Story County, Iowa":[0,0,0,0,0,0],"Tama County, Iowa":[0,0,0,0,0,0],"Taylor County, Iowa":[0,0,0,0,0,0],"Union County, Iowa":[0,0,0,0,0,0],"Van Buren County, Iowa":[0,0,0,0,0,0],"Wapello County, Iowa":[0,0,0,0,0,0],"Warren County, Iowa":[0,0,0,0,0,0],"Washington County, Iowa":[0,0,0,0,0,0],"Wayne County, Iowa":[0,0,0,0,0,0],"Webster County, Iowa":[0,0,0,0,0,0],"Winnebago County, Iowa":[0,0,0,0,0,0],"Winneshiek County, Iowa":[0,0,0,0,0,0],"Woodbury County, Iowa":[0,0,0,0,0,0],"Worth County, Iowa":[0,0,0,0,0,0],"Wright County, Iowa":[0,0,0,0,0,0]};
  const categories = ["With unmarried partner","With spouse only","With other relatives","With nonrelatives","With child","Lives alone"];
  const usAverages = [27.3,0.3,2.3,14.5,53.2,2.4];

  const ctx = document.getElementById('barChart').getContext('2d');
  let chart;

  function renderChart(data) {
    if (chart) chart.destroy();
    chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: categories,
        datasets: [
          {
            label: 'Percent (County/State)',
            data: data,
            backgroundColor: '#4576a7'
          },
          {
            label: 'National Average',
            data: categories.map(c => usAverages[c] || 0),
            type: 'line',
            borderColor: '#000',
            borderWidth: 1,
            pointRadius: 0,
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        indexAxis: 'y',
        scales: {
          x: {
            title: {
              display: true,
              text: 'Percent of 65+ Population'
            },
            min: 0,
            max: 100,
            ticks: {
              callback: value => value + '%'
            }
          }
        },
        plugins: {
          tooltip: {
            callbacks: {
              label: ctx => ctx.dataset.label + ': ' + ctx.parsed.x + '%'
            }
          },
          legend: {
            position: 'top',
            align: 'start'
          }
        }
      }
    });
  }

  document.getElementById('countySelect').addEventListener('change', function() {
    renderChart(Object.values(chartData[this.value]));
  });

  renderChart(Object.values(chartData['Statewide']));</script>
  </body>
</html>
</html>
