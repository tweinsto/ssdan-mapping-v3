<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Veteran Labor Force Status – Montana</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Labor Force Status of Veterans (Age 18–64) in Montana</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Beaverhead County, Montana">Beaverhead County, Montana</option>
      <option value="Big Horn County, Montana">Big Horn County, Montana</option>
      <option value="Blaine County, Montana">Blaine County, Montana</option>
      <option value="Broadwater County, Montana">Broadwater County, Montana</option>
      <option value="Carbon County, Montana">Carbon County, Montana</option>
      <option value="Carter County, Montana">Carter County, Montana</option>
      <option value="Cascade County, Montana">Cascade County, Montana</option>
      <option value="Chouteau County, Montana">Chouteau County, Montana</option>
      <option value="Custer County, Montana">Custer County, Montana</option>
      <option value="Daniels County, Montana">Daniels County, Montana</option>
      <option value="Dawson County, Montana">Dawson County, Montana</option>
      <option value="Deer Lodge County, Montana">Deer Lodge County, Montana</option>
      <option value="Fallon County, Montana">Fallon County, Montana</option>
      <option value="Fergus County, Montana">Fergus County, Montana</option>
      <option value="Flathead County, Montana">Flathead County, Montana</option>
      <option value="Gallatin County, Montana">Gallatin County, Montana</option>
      <option value="Garfield County, Montana">Garfield County, Montana</option>
      <option value="Glacier County, Montana">Glacier County, Montana</option>
      <option value="Golden Valley County, Montana">Golden Valley County, Montana</option>
      <option value="Granite County, Montana">Granite County, Montana</option>
      <option value="Hill County, Montana">Hill County, Montana</option>
      <option value="Jefferson County, Montana">Jefferson County, Montana</option>
      <option value="Judith Basin County, Montana">Judith Basin County, Montana</option>
      <option value="Lake County, Montana">Lake County, Montana</option>
      <option value="Lewis and Clark County, Montana">Lewis and Clark County, Montana</option>
      <option value="Liberty County, Montana">Liberty County, Montana</option>
      <option value="Lincoln County, Montana">Lincoln County, Montana</option>
      <option value="Madison County, Montana">Madison County, Montana</option>
      <option value="McCone County, Montana">McCone County, Montana</option>
      <option value="Meagher County, Montana">Meagher County, Montana</option>
      <option value="Mineral County, Montana">Mineral County, Montana</option>
      <option value="Missoula County, Montana">Missoula County, Montana</option>
      <option value="Musselshell County, Montana">Musselshell County, Montana</option>
      <option value="Park County, Montana">Park County, Montana</option>
      <option value="Petroleum County, Montana">Petroleum County, Montana</option>
      <option value="Phillips County, Montana">Phillips County, Montana</option>
      <option value="Pondera County, Montana">Pondera County, Montana</option>
      <option value="Powder River County, Montana">Powder River County, Montana</option>
      <option value="Powell County, Montana">Powell County, Montana</option>
      <option value="Prairie County, Montana">Prairie County, Montana</option>
      <option value="Ravalli County, Montana">Ravalli County, Montana</option>
      <option value="Richland County, Montana">Richland County, Montana</option>
      <option value="Roosevelt County, Montana">Roosevelt County, Montana</option>
      <option value="Rosebud County, Montana">Rosebud County, Montana</option>
      <option value="Sanders County, Montana">Sanders County, Montana</option>
      <option value="Sheridan County, Montana">Sheridan County, Montana</option>
      <option value="Silver Bow County, Montana">Silver Bow County, Montana</option>
      <option value="Stillwater County, Montana">Stillwater County, Montana</option>
      <option value="Sweet Grass County, Montana">Sweet Grass County, Montana</option>
      <option value="Teton County, Montana">Teton County, Montana</option>
      <option value="Toole County, Montana">Toole County, Montana</option>
      <option value="Treasure County, Montana">Treasure County, Montana</option>
      <option value="Valley County, Montana">Valley County, Montana</option>
      <option value="Wheatland County, Montana">Wheatland County, Montana</option>
      <option value="Wibaux County, Montana">Wibaux County, Montana</option>
      <option value="Yellowstone County, Montana">Yellowstone County, Montana</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>        const data = {"Statewide":[72.7,2.8,24.5],"Beaverhead County, Montana":[64.4,2.2,33.3],"Big Horn County, Montana":[63.3,0,36.7],"Blaine County, Montana":[56.5,15.3,28.2],"Broadwater County, Montana":[74.1,0,25.9],"Carbon County, Montana":[82.4,2.9,14.7],"Carter County, Montana":[67.8,5.1,27.1],"Cascade County, Montana":[77.5,0.6,21.9],"Chouteau County, Montana":[75.3,1.2,23.5],"Custer County, Montana":[77.5,0,22.5],"Daniels County, Montana":[97.1,0,2.9],"Dawson County, Montana":[74.6,3.1,22.3],"Deer Lodge County, Montana":[78.4,0,21.6],"Fallon County, Montana":[80,0,20],"Fergus County, Montana":[83.1,2,14.8],"Flathead County, Montana":[71.3,5.2,23.5],"Gallatin County, Montana":[78.6,0.7,20.7],"Garfield County, Montana":[91.7,0,8.3],"Glacier County, Montana":[75.1,5.4,19.6],"Golden Valley County, Montana":[83.3,0,16.7],"Granite County, Montana":[70.1,12.1,17.8],"Hill County, Montana":[77.7,6,16.3],"Jefferson County, Montana":[68.5,0.9,30.6],"Judith Basin County, Montana":[84.1,0,15.9],"Lake County, Montana":[67.6,4,28.4],"Lewis and Clark County, Montana":[68.9,1.1,30],"Liberty County, Montana":[74,0,26],"Lincoln County, Montana":[54.7,4.5,40.8],"Madison County, Montana":[64.3,0,35.7],"McCone County, Montana":[100,0,0],"Meagher County, Montana":[100,0,0],"Mineral County, Montana":[53.3,6.6,40.1],"Missoula County, Montana":[75.8,4.9,19.4],"Musselshell County, Montana":[75.1,0,24.9],"Park County, Montana":[79.4,0.3,20.3],"Petroleum County, Montana":[100,0,0],"Phillips County, Montana":[75.4,0,24.6],"Pondera County, Montana":[90.2,0,9.8],"Powder River County, Montana":[81.1,0,18.9],"Powell County, Montana":[45,0,55],"Prairie County, Montana":[100,0,0],"Ravalli County, Montana":[62.7,0.9,36.4],"Richland County, Montana":[83.2,2.9,13.9],"Roosevelt County, Montana":[76.5,0,23.5],"Rosebud County, Montana":[67.2,22.8,10],"Sanders County, Montana":[66.1,1,32.9],"Sheridan County, Montana":[63.2,0,36.8],"Silver Bow County, Montana":[65.1,3.1,31.8],"Stillwater County, Montana":[66.3,3.7,30.1],"Sweet Grass County, Montana":[73.2,0,26.8],"Teton County, Montana":[78.5,0,21.5],"Toole County, Montana":[47.8,1.8,50.4],"Treasure County, Montana":[100,0,0],"Valley County, Montana":[83.2,1.9,14.9],"Wheatland County, Montana":[100,0,0],"Wibaux County, Montana":[72.9,0,27.1],"Yellowstone County, Montana":[76.7,3.5,19.7]};
        const nationalAvg = [73.9,23,3.2];
        const categories = ["Employed","Unemployed","Not in Labor Force"];
        const ctx = document.getElementById("barChart").getContext("2d");
        let chart;

        function renderChart(values) {
          if (chart) chart.destroy();
          chart = new Chart(ctx, {
            type: "bar",
            data: {
              labels: categories,
              datasets: [
                {
                  label: "County/State",
                  data: values,
                  backgroundColor: ["#66c2a5", "#fc8d62", "#8da0cb"]
                },
                {
                  label: null,
                  data: categories.map(c => nationalAvg[c]),
                  type: "line",
                  borderColor: "black",
                  borderWidth: 2,
                  pointRadius: 0,
                  fill: false
                }
              ]
            },
            options: {
              indexAxis: "y",
              scales: {
                x: {
                  min: 0,
                  max: 100,
                  ticks: {
                    callback: v => v + "%"
                  }
                }
              },
              plugins: {
                legend: {
  display: false
},
                tooltip: {
                  callbacks: {
                    label: ctx => ctx.dataset.label ? ctx.dataset.label + ": " + ctx.raw + "%" : null
                  }
                }
              }
            }
          });
        }

        document.getElementById("countySelect").addEventListener("change", function() {
          renderChart(Object.values(data[this.value]));
        });

        renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
