<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Veteran Labor Force Status – Washington</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Labor Force Status of Veterans (Age 18–64) in Washington</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Adams County, Washington">Adams County, Washington</option>
      <option value="Asotin County, Washington">Asotin County, Washington</option>
      <option value="Benton County, Washington">Benton County, Washington</option>
      <option value="Chelan County, Washington">Chelan County, Washington</option>
      <option value="Clallam County, Washington">Clallam County, Washington</option>
      <option value="Clark County, Washington">Clark County, Washington</option>
      <option value="Columbia County, Washington">Columbia County, Washington</option>
      <option value="Cowlitz County, Washington">Cowlitz County, Washington</option>
      <option value="Douglas County, Washington">Douglas County, Washington</option>
      <option value="Ferry County, Washington">Ferry County, Washington</option>
      <option value="Franklin County, Washington">Franklin County, Washington</option>
      <option value="Garfield County, Washington">Garfield County, Washington</option>
      <option value="Grant County, Washington">Grant County, Washington</option>
      <option value="Grays Harbor County, Washington">Grays Harbor County, Washington</option>
      <option value="Island County, Washington">Island County, Washington</option>
      <option value="Jefferson County, Washington">Jefferson County, Washington</option>
      <option value="King County, Washington">King County, Washington</option>
      <option value="Kitsap County, Washington">Kitsap County, Washington</option>
      <option value="Kittitas County, Washington">Kittitas County, Washington</option>
      <option value="Klickitat County, Washington">Klickitat County, Washington</option>
      <option value="Lewis County, Washington">Lewis County, Washington</option>
      <option value="Lincoln County, Washington">Lincoln County, Washington</option>
      <option value="Mason County, Washington">Mason County, Washington</option>
      <option value="Okanogan County, Washington">Okanogan County, Washington</option>
      <option value="Pacific County, Washington">Pacific County, Washington</option>
      <option value="Pend Oreille County, Washington">Pend Oreille County, Washington</option>
      <option value="Pierce County, Washington">Pierce County, Washington</option>
      <option value="San Juan County, Washington">San Juan County, Washington</option>
      <option value="Skagit County, Washington">Skagit County, Washington</option>
      <option value="Skamania County, Washington">Skamania County, Washington</option>
      <option value="Snohomish County, Washington">Snohomish County, Washington</option>
      <option value="Spokane County, Washington">Spokane County, Washington</option>
      <option value="Stevens County, Washington">Stevens County, Washington</option>
      <option value="Thurston County, Washington">Thurston County, Washington</option>
      <option value="Wahkiakum County, Washington">Wahkiakum County, Washington</option>
      <option value="Walla Walla County, Washington">Walla Walla County, Washington</option>
      <option value="Whatcom County, Washington">Whatcom County, Washington</option>
      <option value="Whitman County, Washington">Whitman County, Washington</option>
      <option value="Yakima County, Washington">Yakima County, Washington</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>        const data = {"Statewide":[74.9,2.9,22.2],"Adams County, Washington":[60.4,15.9,23.8],"Asotin County, Washington":[87,0.9,12.1],"Benton County, Washington":[77,3.8,19.1],"Chelan County, Washington":[73.8,0.7,25.5],"Clallam County, Washington":[57,1.9,41.1],"Clark County, Washington":[79,2.5,18.5],"Columbia County, Washington":[76.2,0,23.8],"Cowlitz County, Washington":[63,3.5,33.4],"Douglas County, Washington":[81.6,0.5,17.8],"Ferry County, Washington":[53.8,0.7,45.5],"Franklin County, Washington":[74.5,3.8,21.7],"Garfield County, Washington":[76.9,15.4,7.7],"Grant County, Washington":[75.1,5.6,19.4],"Grays Harbor County, Washington":[56.5,1.9,41.6],"Island County, Washington":[69,3.9,27.2],"Jefferson County, Washington":[60.7,1.2,38.1],"King County, Washington":[79.3,3.8,16.9],"Kitsap County, Washington":[74.2,2.1,23.7],"Kittitas County, Washington":[74,0.7,25.3],"Klickitat County, Washington":[70.9,1.5,27.5],"Lewis County, Washington":[73.9,2.1,24],"Lincoln County, Washington":[70,0.9,29.1],"Mason County, Washington":[65.4,0.9,33.7],"Okanogan County, Washington":[56.2,6.2,37.7],"Pacific County, Washington":[59.1,5,35.9],"Pend Oreille County, Washington":[61.1,2.9,36],"Pierce County, Washington":[76.4,2.5,21.1],"San Juan County, Washington":[78.6,2.8,18.7],"Skagit County, Washington":[70.4,2.8,26.8],"Skamania County, Washington":[63.2,9.8,27],"Snohomish County, Washington":[79.6,3.2,17.2],"Spokane County, Washington":[71.6,3.7,24.7],"Stevens County, Washington":[55.3,1,43.7],"Thurston County, Washington":[73.4,2.4,24.2],"Wahkiakum County, Washington":[61.1,0,38.9],"Walla Walla County, Washington":[66.4,2.6,31],"Whatcom County, Washington":[74.7,2.4,22.9],"Whitman County, Washington":[70.9,0.6,28.6],"Yakima County, Washington":[75.6,1.2,23.1]};
        const nationalAvg = [73.9,23,3.2];
        const categories = ["Employed","Unemployed","Not in Labor Force"];
        const ctx = document.getElementById("barChart").getContext("2d");
        let chart;

        function renderChart(values) {
          if (chart) chart.destroy();
          chart = new Chart(ctx, {
            type: "bar",
            data: {
              labels: categories,
              datasets: [
                {
                  label: "County/State",
                  data: values,
                  backgroundColor: ["#66c2a5", "#fc8d62", "#8da0cb"]
                },
                {
                  label: null,
                  data: categories.map(c => nationalAvg[c]),
                  type: "line",
                  borderColor: "black",
                  borderWidth: 2,
                  pointRadius: 0,
                  fill: false
                }
              ]
            },
            options: {
              indexAxis: "y",
              scales: {
                x: {
                  min: 0,
                  max: 100,
                  ticks: {
                    callback: v => v + "%"
                  }
                }
              },
              plugins: {
                legend: {
  display: false
},
                tooltip: {
                  callbacks: {
                    label: ctx => ctx.dataset.label ? ctx.dataset.label + ": " + ctx.raw + "%" : null
                  }
                }
              }
            }
          });
        }

        document.getElementById("countySelect").addEventListener("change", function() {
          renderChart(Object.values(data[this.value]));
        });

        renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
