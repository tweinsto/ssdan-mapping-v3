<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="UTF-8"/>
  <title>Veteran Labor Force Status – West Virginia</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body { font-family: sans-serif; margin: 1rem 2rem; text-align: center; }
        h2 { margin-bottom: 0.25rem; font-size: 1.6rem; }
        select { padding: 0.4rem; font-size: 1rem; margin: 1rem 0; }
        canvas { width: 100%; max-width: 850px; height: 500px; }
      </style>
</head>
<html>
  <body>
    <h2>Labor Force Status of Veterans (Age 18–64) in West Virginia</h2>
    <label>Select County:</label>
    <select id="countySelect">
      <option value="Statewide">Statewide</option>
      <option value="Barbour County, West Virginia">Barbour County, West Virginia</option>
      <option value="Berkeley County, West Virginia">Berkeley County, West Virginia</option>
      <option value="Boone County, West Virginia">Boone County, West Virginia</option>
      <option value="Braxton County, West Virginia">Braxton County, West Virginia</option>
      <option value="Brooke County, West Virginia">Brooke County, West Virginia</option>
      <option value="Cabell County, West Virginia">Cabell County, West Virginia</option>
      <option value="Calhoun County, West Virginia">Calhoun County, West Virginia</option>
      <option value="Clay County, West Virginia">Clay County, West Virginia</option>
      <option value="Doddridge County, West Virginia">Doddridge County, West Virginia</option>
      <option value="Fayette County, West Virginia">Fayette County, West Virginia</option>
      <option value="Gilmer County, West Virginia">Gilmer County, West Virginia</option>
      <option value="Grant County, West Virginia">Grant County, West Virginia</option>
      <option value="Greenbrier County, West Virginia">Greenbrier County, West Virginia</option>
      <option value="Hampshire County, West Virginia">Hampshire County, West Virginia</option>
      <option value="Hancock County, West Virginia">Hancock County, West Virginia</option>
      <option value="Hardy County, West Virginia">Hardy County, West Virginia</option>
      <option value="Harrison County, West Virginia">Harrison County, West Virginia</option>
      <option value="Jackson County, West Virginia">Jackson County, West Virginia</option>
      <option value="Jefferson County, West Virginia">Jefferson County, West Virginia</option>
      <option value="Kanawha County, West Virginia">Kanawha County, West Virginia</option>
      <option value="Lewis County, West Virginia">Lewis County, West Virginia</option>
      <option value="Lincoln County, West Virginia">Lincoln County, West Virginia</option>
      <option value="Logan County, West Virginia">Logan County, West Virginia</option>
      <option value="Marion County, West Virginia">Marion County, West Virginia</option>
      <option value="Marshall County, West Virginia">Marshall County, West Virginia</option>
      <option value="Mason County, West Virginia">Mason County, West Virginia</option>
      <option value="McDowell County, West Virginia">McDowell County, West Virginia</option>
      <option value="Mercer County, West Virginia">Mercer County, West Virginia</option>
      <option value="Mineral County, West Virginia">Mineral County, West Virginia</option>
      <option value="Mingo County, West Virginia">Mingo County, West Virginia</option>
      <option value="Monongalia County, West Virginia">Monongalia County, West Virginia</option>
      <option value="Monroe County, West Virginia">Monroe County, West Virginia</option>
      <option value="Morgan County, West Virginia">Morgan County, West Virginia</option>
      <option value="Nicholas County, West Virginia">Nicholas County, West Virginia</option>
      <option value="Ohio County, West Virginia">Ohio County, West Virginia</option>
      <option value="Pendleton County, West Virginia">Pendleton County, West Virginia</option>
      <option value="Pleasants County, West Virginia">Pleasants County, West Virginia</option>
      <option value="Pocahontas County, West Virginia">Pocahontas County, West Virginia</option>
      <option value="Preston County, West Virginia">Preston County, West Virginia</option>
      <option value="Putnam County, West Virginia">Putnam County, West Virginia</option>
      <option value="Raleigh County, West Virginia">Raleigh County, West Virginia</option>
      <option value="Randolph County, West Virginia">Randolph County, West Virginia</option>
      <option value="Ritchie County, West Virginia">Ritchie County, West Virginia</option>
      <option value="Roane County, West Virginia">Roane County, West Virginia</option>
      <option value="Summers County, West Virginia">Summers County, West Virginia</option>
      <option value="Taylor County, West Virginia">Taylor County, West Virginia</option>
      <option value="Tucker County, West Virginia">Tucker County, West Virginia</option>
      <option value="Tyler County, West Virginia">Tyler County, West Virginia</option>
      <option value="Upshur County, West Virginia">Upshur County, West Virginia</option>
      <option value="Wayne County, West Virginia">Wayne County, West Virginia</option>
      <option value="Webster County, West Virginia">Webster County, West Virginia</option>
      <option value="Wetzel County, West Virginia">Wetzel County, West Virginia</option>
      <option value="Wirt County, West Virginia">Wirt County, West Virginia</option>
      <option value="Wood County, West Virginia">Wood County, West Virginia</option>
      <option value="Wyoming County, West Virginia">Wyoming County, West Virginia</option>
    </select>
    <canvas id="barChart"></canvas>
    <script>        const data = {"Statewide":[67.9,2.8,29.3],"Barbour County, West Virginia":[67.5,4.9,27.6],"Berkeley County, West Virginia":[75.7,3.4,21],"Boone County, West Virginia":[66.1,6.4,27.5],"Braxton County, West Virginia":[22.9,0.8,76.3],"Brooke County, West Virginia":[73.2,2.9,23.9],"Cabell County, West Virginia":[72.1,0.6,27.3],"Calhoun County, West Virginia":[33.9,26.3,39.8],"Clay County, West Virginia":[43.8,3.8,52.4],"Doddridge County, West Virginia":[73.4,0,26.6],"Fayette County, West Virginia":[48.7,1.7,49.7],"Gilmer County, West Virginia":[42.4,19.7,38],"Grant County, West Virginia":[82.6,0,17.4],"Greenbrier County, West Virginia":[55.5,0,44.5],"Hampshire County, West Virginia":[74.5,0.9,24.7],"Hancock County, West Virginia":[76.2,4,19.8],"Hardy County, West Virginia":[67.6,6.2,26.2],"Harrison County, West Virginia":[72,3.3,24.7],"Jackson County, West Virginia":[70.3,4.8,25],"Jefferson County, West Virginia":[80.7,2.7,16.7],"Kanawha County, West Virginia":[73.9,3.2,22.9],"Lewis County, West Virginia":[68.6,2.4,29],"Lincoln County, West Virginia":[42.7,0,57.3],"Logan County, West Virginia":[41.4,2.3,56.3],"Marion County, West Virginia":[72.7,3.9,23.3],"Marshall County, West Virginia":[74.7,0,25.3],"Mason County, West Virginia":[71.4,0,28.6],"McDowell County, West Virginia":[31.1,0,68.9],"Mercer County, West Virginia":[66.3,3,30.8],"Mineral County, West Virginia":[78.2,0.6,21.2],"Mingo County, West Virginia":[44.9,7.6,47.6],"Monongalia County, West Virginia":[72.7,3.7,23.6],"Monroe County, West Virginia":[84.4,0,15.6],"Morgan County, West Virginia":[68.5,5.2,26.3],"Nicholas County, West Virginia":[59.8,2,38.2],"Ohio County, West Virginia":[72,1.6,26.3],"Pendleton County, West Virginia":[67.4,6.3,26.3],"Pleasants County, West Virginia":[62.3,4.3,33.4],"Pocahontas County, West Virginia":[41.2,2.1,56.7],"Preston County, West Virginia":[64.3,4.1,31.6],"Putnam County, West Virginia":[74.2,1.6,24.2],"Raleigh County, West Virginia":[58.2,4.2,37.6],"Randolph County, West Virginia":[48.6,4.3,47.1],"Ritchie County, West Virginia":[57.2,1,41.8],"Roane County, West Virginia":[61.2,5.1,33.7],"Summers County, West Virginia":[70.2,2.7,27.1],"Taylor County, West Virginia":[73,0,27],"Tucker County, West Virginia":[47.6,11.9,40.6],"Tyler County, West Virginia":[65.5,0,34.5],"Upshur County, West Virginia":[73.8,2.5,23.7],"Wayne County, West Virginia":[66.9,0.1,33],"Webster County, West Virginia":[77.6,2.7,19.7],"Wetzel County, West Virginia":[74.7,0,25.3],"Wirt County, West Virginia":[35.6,0,64.4],"Wood County, West Virginia":[62.8,1.1,36.1],"Wyoming County, West Virginia":[34.3,11.8,53.9]};
        const nationalAvg = [73.9,23,3.2];
        const categories = ["Employed","Unemployed","Not in Labor Force"];
        const ctx = document.getElementById("barChart").getContext("2d");
        let chart;

        function renderChart(values) {
          if (chart) chart.destroy();
          chart = new Chart(ctx, {
            type: "bar",
            data: {
              labels: categories,
              datasets: [
                {
                  label: "County/State",
                  data: values,
                  backgroundColor: ["#66c2a5", "#fc8d62", "#8da0cb"]
                },
                {
                  label: null,
                  data: categories.map(c => nationalAvg[c]),
                  type: "line",
                  borderColor: "black",
                  borderWidth: 2,
                  pointRadius: 0,
                  fill: false
                }
              ]
            },
            options: {
              indexAxis: "y",
              scales: {
                x: {
                  min: 0,
                  max: 100,
                  ticks: {
                    callback: v => v + "%"
                  }
                }
              },
              plugins: {
                legend: {
  display: false
},
                tooltip: {
                  callbacks: {
                    label: ctx => ctx.dataset.label ? ctx.dataset.label + ": " + ctx.raw + "%" : null
                  }
                }
              }
            }
          });
        }

        document.getElementById("countySelect").addEventListener("change", function() {
          renderChart(Object.values(data[this.value]));
        });

        renderChart(Object.values(data["Statewide"]));</script>
  </body>
</html>
</html>
