<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="utf-8"/>
  <title>Race/Ethnicity in State 20</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          text-align: center;
          margin: 2rem;
          background-color: white;
        }
        canvas {
          max-width: 500px;
          margin: 1rem auto;
        }
        select {
          font-size: 1rem;
          padding: 0.4rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Race &amp; Ethnicity Distribution</h2>
    <label>Select County:</label>
    <select id="countySelect"><option value="Statewide">Statewide</option>
<option value="Allen County, Kansas">Allen County, Kansas</option>
<option value="Anderson County, Kansas">Anderson County, Kansas</option>
<option value="Atchison County, Kansas">Atchison County, Kansas</option>
<option value="Barber County, Kansas">Barber County, Kansas</option>
<option value="Barton County, Kansas">Barton County, Kansas</option>
<option value="Bourbon County, Kansas">Bourbon County, Kansas</option>
<option value="Brown County, Kansas">Brown County, Kansas</option>
<option value="Butler County, Kansas">Butler County, Kansas</option>
<option value="Chase County, Kansas">Chase County, Kansas</option>
<option value="Chautauqua County, Kansas">Chautauqua County, Kansas</option>
<option value="Cherokee County, Kansas">Cherokee County, Kansas</option>
<option value="Cheyenne County, Kansas">Cheyenne County, Kansas</option>
<option value="Clark County, Kansas">Clark County, Kansas</option>
<option value="Clay County, Kansas">Clay County, Kansas</option>
<option value="Cloud County, Kansas">Cloud County, Kansas</option>
<option value="Coffey County, Kansas">Coffey County, Kansas</option>
<option value="Comanche County, Kansas">Comanche County, Kansas</option>
<option value="Cowley County, Kansas">Cowley County, Kansas</option>
<option value="Crawford County, Kansas">Crawford County, Kansas</option>
<option value="Decatur County, Kansas">Decatur County, Kansas</option>
<option value="Dickinson County, Kansas">Dickinson County, Kansas</option>
<option value="Doniphan County, Kansas">Doniphan County, Kansas</option>
<option value="Douglas County, Kansas">Douglas County, Kansas</option>
<option value="Edwards County, Kansas">Edwards County, Kansas</option>
<option value="Elk County, Kansas">Elk County, Kansas</option>
<option value="Ellis County, Kansas">Ellis County, Kansas</option>
<option value="Ellsworth County, Kansas">Ellsworth County, Kansas</option>
<option value="Finney County, Kansas">Finney County, Kansas</option>
<option value="Ford County, Kansas">Ford County, Kansas</option>
<option value="Franklin County, Kansas">Franklin County, Kansas</option>
<option value="Geary County, Kansas">Geary County, Kansas</option>
<option value="Gove County, Kansas">Gove County, Kansas</option>
<option value="Graham County, Kansas">Graham County, Kansas</option>
<option value="Grant County, Kansas">Grant County, Kansas</option>
<option value="Gray County, Kansas">Gray County, Kansas</option>
<option value="Greeley County, Kansas">Greeley County, Kansas</option>
<option value="Greenwood County, Kansas">Greenwood County, Kansas</option>
<option value="Hamilton County, Kansas">Hamilton County, Kansas</option>
<option value="Harper County, Kansas">Harper County, Kansas</option>
<option value="Harvey County, Kansas">Harvey County, Kansas</option>
<option value="Haskell County, Kansas">Haskell County, Kansas</option>
<option value="Hodgeman County, Kansas">Hodgeman County, Kansas</option>
<option value="Jackson County, Kansas">Jackson County, Kansas</option>
<option value="Jefferson County, Kansas">Jefferson County, Kansas</option>
<option value="Jewell County, Kansas">Jewell County, Kansas</option>
<option value="Johnson County, Kansas">Johnson County, Kansas</option>
<option value="Kearny County, Kansas">Kearny County, Kansas</option>
<option value="Kingman County, Kansas">Kingman County, Kansas</option>
<option value="Kiowa County, Kansas">Kiowa County, Kansas</option>
<option value="Labette County, Kansas">Labette County, Kansas</option>
<option value="Lane County, Kansas">Lane County, Kansas</option>
<option value="Leavenworth County, Kansas">Leavenworth County, Kansas</option>
<option value="Lincoln County, Kansas">Lincoln County, Kansas</option>
<option value="Linn County, Kansas">Linn County, Kansas</option>
<option value="Logan County, Kansas">Logan County, Kansas</option>
<option value="Lyon County, Kansas">Lyon County, Kansas</option>
<option value="Marion County, Kansas">Marion County, Kansas</option>
<option value="Marshall County, Kansas">Marshall County, Kansas</option>
<option value="McPherson County, Kansas">McPherson County, Kansas</option>
<option value="Meade County, Kansas">Meade County, Kansas</option>
<option value="Miami County, Kansas">Miami County, Kansas</option>
<option value="Mitchell County, Kansas">Mitchell County, Kansas</option>
<option value="Montgomery County, Kansas">Montgomery County, Kansas</option>
<option value="Morris County, Kansas">Morris County, Kansas</option>
<option value="Morton County, Kansas">Morton County, Kansas</option>
<option value="Nemaha County, Kansas">Nemaha County, Kansas</option>
<option value="Neosho County, Kansas">Neosho County, Kansas</option>
<option value="Ness County, Kansas">Ness County, Kansas</option>
<option value="Norton County, Kansas">Norton County, Kansas</option>
<option value="Osage County, Kansas">Osage County, Kansas</option>
<option value="Osborne County, Kansas">Osborne County, Kansas</option>
<option value="Ottawa County, Kansas">Ottawa County, Kansas</option>
<option value="Pawnee County, Kansas">Pawnee County, Kansas</option>
<option value="Phillips County, Kansas">Phillips County, Kansas</option>
<option value="Pottawatomie County, Kansas">Pottawatomie County, Kansas</option>
<option value="Pratt County, Kansas">Pratt County, Kansas</option>
<option value="Rawlins County, Kansas">Rawlins County, Kansas</option>
<option value="Reno County, Kansas">Reno County, Kansas</option>
<option value="Republic County, Kansas">Republic County, Kansas</option>
<option value="Rice County, Kansas">Rice County, Kansas</option>
<option value="Riley County, Kansas">Riley County, Kansas</option>
<option value="Rooks County, Kansas">Rooks County, Kansas</option>
<option value="Rush County, Kansas">Rush County, Kansas</option>
<option value="Russell County, Kansas">Russell County, Kansas</option>
<option value="Saline County, Kansas">Saline County, Kansas</option>
<option value="Scott County, Kansas">Scott County, Kansas</option>
<option value="Sedgwick County, Kansas">Sedgwick County, Kansas</option>
<option value="Seward County, Kansas">Seward County, Kansas</option>
<option value="Shawnee County, Kansas">Shawnee County, Kansas</option>
<option value="Sheridan County, Kansas">Sheridan County, Kansas</option>
<option value="Sherman County, Kansas">Sherman County, Kansas</option>
<option value="Smith County, Kansas">Smith County, Kansas</option>
<option value="Stafford County, Kansas">Stafford County, Kansas</option>
<option value="Stanton County, Kansas">Stanton County, Kansas</option>
<option value="Stevens County, Kansas">Stevens County, Kansas</option>
<option value="Sumner County, Kansas">Sumner County, Kansas</option>
<option value="Thomas County, Kansas">Thomas County, Kansas</option>
<option value="Trego County, Kansas">Trego County, Kansas</option>
<option value="Wabaunsee County, Kansas">Wabaunsee County, Kansas</option>
<option value="Wallace County, Kansas">Wallace County, Kansas</option>
<option value="Washington County, Kansas">Washington County, Kansas</option>
<option value="Wichita County, Kansas">Wichita County, Kansas</option>
<option value="Wilson County, Kansas">Wilson County, Kansas</option>
<option value="Woodson County, Kansas">Woodson County, Kansas</option>
<option value="Wyandotte County, Kansas">Wyandotte County, Kansas</option></select>
    <canvas id="pieChart" width="400" height="400"></canvas>
    <script>  let raceData = {};
  fetch("20.json")
    .then(resp => resp.json())
    .then(data => {
      raceData = data;
      const raceLabels = ["American Indian / Alaska Native","Asian","Black","Hispanic","NHMulti","NHOther","NHWhite","Pacific Islander"];
      const ctx = document.getElementById("pieChart").getContext("2d");
      let chart;

      function renderChart(values) {
        if (chart) chart.destroy();
        chart = new Chart(ctx, {
          type: "pie",
          data: {
            labels: raceLabels,
            datasets: [{
              data: values,
              backgroundColor: [
                "#f94144", "#f3722c", "#f9c74f", "#90be6d",
                "#9d4edd", "#577590", "#d0cde1", "#43aa8b"
              ]
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: "bottom",
                labels: {
                  font: { size: 14 },
                  boxWidth: 20,
                  padding: 15,
                  usePointStyle: true,
                  pointStyle: "rectRounded"
                }
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return context.label + ": " + context.parsed + "%";
                  }
                }
              }
            }
          }
        });
      }

      document.getElementById("countySelect").addEventListener("change", function() {
        const selected = this.value;
        const values = Object.values(raceData[selected]);
        renderChart(values);
      });

      renderChart(Object.values(raceData["Statewide"]));
      document.getElementById("countySelect").value = "Statewide";
    });</script>
  </body>
</html>
</html>
