<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<style>body{background-color:white;}</style>

  <meta charset="utf-8"/>
  <title>Race/Ethnicity in State 31</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
        body {
          font-family: sans-serif;
          text-align: center;
          margin: 2rem;
          background-color: white;
        }
        canvas {
          max-width: 500px;
          margin: 1rem auto;
        }
        select {
          font-size: 1rem;
          padding: 0.4rem;
        }
      </style>
</head>
<html>
  <body>
    <h2>Race &amp; Ethnicity Distribution</h2>
    <label>Select County:</label>
    <select id="countySelect"><option value="Statewide">Statewide</option>
<option value="Adams County, Nebraska">Adams County, Nebraska</option>
<option value="Antelope County, Nebraska">Antelope County, Nebraska</option>
<option value="Arthur County, Nebraska">Arthur County, Nebraska</option>
<option value="Banner County, Nebraska">Banner County, Nebraska</option>
<option value="Blaine County, Nebraska">Blaine County, Nebraska</option>
<option value="Boone County, Nebraska">Boone County, Nebraska</option>
<option value="Box Butte County, Nebraska">Box Butte County, Nebraska</option>
<option value="Boyd County, Nebraska">Boyd County, Nebraska</option>
<option value="Brown County, Nebraska">Brown County, Nebraska</option>
<option value="Buffalo County, Nebraska">Buffalo County, Nebraska</option>
<option value="Burt County, Nebraska">Burt County, Nebraska</option>
<option value="Butler County, Nebraska">Butler County, Nebraska</option>
<option value="Cass County, Nebraska">Cass County, Nebraska</option>
<option value="Cedar County, Nebraska">Cedar County, Nebraska</option>
<option value="Chase County, Nebraska">Chase County, Nebraska</option>
<option value="Cherry County, Nebraska">Cherry County, Nebraska</option>
<option value="Cheyenne County, Nebraska">Cheyenne County, Nebraska</option>
<option value="Clay County, Nebraska">Clay County, Nebraska</option>
<option value="Colfax County, Nebraska">Colfax County, Nebraska</option>
<option value="Cuming County, Nebraska">Cuming County, Nebraska</option>
<option value="Custer County, Nebraska">Custer County, Nebraska</option>
<option value="Dakota County, Nebraska">Dakota County, Nebraska</option>
<option value="Dawes County, Nebraska">Dawes County, Nebraska</option>
<option value="Dawson County, Nebraska">Dawson County, Nebraska</option>
<option value="Deuel County, Nebraska">Deuel County, Nebraska</option>
<option value="Dixon County, Nebraska">Dixon County, Nebraska</option>
<option value="Dodge County, Nebraska">Dodge County, Nebraska</option>
<option value="Douglas County, Nebraska">Douglas County, Nebraska</option>
<option value="Dundy County, Nebraska">Dundy County, Nebraska</option>
<option value="Fillmore County, Nebraska">Fillmore County, Nebraska</option>
<option value="Franklin County, Nebraska">Franklin County, Nebraska</option>
<option value="Frontier County, Nebraska">Frontier County, Nebraska</option>
<option value="Furnas County, Nebraska">Furnas County, Nebraska</option>
<option value="Gage County, Nebraska">Gage County, Nebraska</option>
<option value="Garden County, Nebraska">Garden County, Nebraska</option>
<option value="Garfield County, Nebraska">Garfield County, Nebraska</option>
<option value="Gosper County, Nebraska">Gosper County, Nebraska</option>
<option value="Grant County, Nebraska">Grant County, Nebraska</option>
<option value="Greeley County, Nebraska">Greeley County, Nebraska</option>
<option value="Hall County, Nebraska">Hall County, Nebraska</option>
<option value="Hamilton County, Nebraska">Hamilton County, Nebraska</option>
<option value="Harlan County, Nebraska">Harlan County, Nebraska</option>
<option value="Hayes County, Nebraska">Hayes County, Nebraska</option>
<option value="Hitchcock County, Nebraska">Hitchcock County, Nebraska</option>
<option value="Holt County, Nebraska">Holt County, Nebraska</option>
<option value="Hooker County, Nebraska">Hooker County, Nebraska</option>
<option value="Howard County, Nebraska">Howard County, Nebraska</option>
<option value="Jefferson County, Nebraska">Jefferson County, Nebraska</option>
<option value="Johnson County, Nebraska">Johnson County, Nebraska</option>
<option value="Kearney County, Nebraska">Kearney County, Nebraska</option>
<option value="Keith County, Nebraska">Keith County, Nebraska</option>
<option value="Keya Paha County, Nebraska">Keya Paha County, Nebraska</option>
<option value="Kimball County, Nebraska">Kimball County, Nebraska</option>
<option value="Knox County, Nebraska">Knox County, Nebraska</option>
<option value="Lancaster County, Nebraska">Lancaster County, Nebraska</option>
<option value="Lincoln County, Nebraska">Lincoln County, Nebraska</option>
<option value="Logan County, Nebraska">Logan County, Nebraska</option>
<option value="Loup County, Nebraska">Loup County, Nebraska</option>
<option value="Madison County, Nebraska">Madison County, Nebraska</option>
<option value="McPherson County, Nebraska">McPherson County, Nebraska</option>
<option value="Merrick County, Nebraska">Merrick County, Nebraska</option>
<option value="Morrill County, Nebraska">Morrill County, Nebraska</option>
<option value="Nance County, Nebraska">Nance County, Nebraska</option>
<option value="Nemaha County, Nebraska">Nemaha County, Nebraska</option>
<option value="Nuckolls County, Nebraska">Nuckolls County, Nebraska</option>
<option value="Otoe County, Nebraska">Otoe County, Nebraska</option>
<option value="Pawnee County, Nebraska">Pawnee County, Nebraska</option>
<option value="Perkins County, Nebraska">Perkins County, Nebraska</option>
<option value="Phelps County, Nebraska">Phelps County, Nebraska</option>
<option value="Pierce County, Nebraska">Pierce County, Nebraska</option>
<option value="Platte County, Nebraska">Platte County, Nebraska</option>
<option value="Polk County, Nebraska">Polk County, Nebraska</option>
<option value="Red Willow County, Nebraska">Red Willow County, Nebraska</option>
<option value="Richardson County, Nebraska">Richardson County, Nebraska</option>
<option value="Rock County, Nebraska">Rock County, Nebraska</option>
<option value="Saline County, Nebraska">Saline County, Nebraska</option>
<option value="Sarpy County, Nebraska">Sarpy County, Nebraska</option>
<option value="Saunders County, Nebraska">Saunders County, Nebraska</option>
<option value="Scotts Bluff County, Nebraska">Scotts Bluff County, Nebraska</option>
<option value="Seward County, Nebraska">Seward County, Nebraska</option>
<option value="Sheridan County, Nebraska">Sheridan County, Nebraska</option>
<option value="Sherman County, Nebraska">Sherman County, Nebraska</option>
<option value="Sioux County, Nebraska">Sioux County, Nebraska</option>
<option value="Stanton County, Nebraska">Stanton County, Nebraska</option>
<option value="Thayer County, Nebraska">Thayer County, Nebraska</option>
<option value="Thomas County, Nebraska">Thomas County, Nebraska</option>
<option value="Thurston County, Nebraska">Thurston County, Nebraska</option>
<option value="Valley County, Nebraska">Valley County, Nebraska</option>
<option value="Washington County, Nebraska">Washington County, Nebraska</option>
<option value="Wayne County, Nebraska">Wayne County, Nebraska</option>
<option value="Webster County, Nebraska">Webster County, Nebraska</option>
<option value="Wheeler County, Nebraska">Wheeler County, Nebraska</option>
<option value="York County, Nebraska">York County, Nebraska</option></select>
    <canvas id="pieChart" width="400" height="400"></canvas>
    <script>  let raceData = {};
  fetch("31.json")
    .then(resp => resp.json())
    .then(data => {
      raceData = data;
      const raceLabels = ["American Indian / Alaska Native","Asian","Black","Hispanic","NHMulti","NHOther","NHWhite","Pacific Islander"];
      const ctx = document.getElementById("pieChart").getContext("2d");
      let chart;

      function renderChart(values) {
        if (chart) chart.destroy();
        chart = new Chart(ctx, {
          type: "pie",
          data: {
            labels: raceLabels,
            datasets: [{
              data: values,
              backgroundColor: [
                "#f94144", "#f3722c", "#f9c74f", "#90be6d",
                "#9d4edd", "#577590", "#d0cde1", "#43aa8b"
              ]
            }]
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                position: "bottom",
                labels: {
                  font: { size: 14 },
                  boxWidth: 20,
                  padding: 15,
                  usePointStyle: true,
                  pointStyle: "rectRounded"
                }
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return context.label + ": " + context.parsed + "%";
                  }
                }
              }
            }
          }
        });
      }

      document.getElementById("countySelect").addEventListener("change", function() {
        const selected = this.value;
        const values = Object.values(raceData[selected]);
        renderChart(values);
      });

      renderChart(Object.values(raceData["Statewide"]));
      document.getElementById("countySelect").value = "Statewide";
    });</script>
  </body>
</html>
</html>
